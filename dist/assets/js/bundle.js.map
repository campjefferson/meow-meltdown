{"version":3,"sources":["../../jspm_packages/npm/socket.io-client@1.4.8/lib/url.js","../../jspm_packages/npm/engine.io-client@1.6.11/lib/transports/polling-xhr.js","../../jspm_packages/npm/has-cors@1.1.0/index.js","../../jspm_packages/npm/has-cors@1.1.0.js","../../jspm_packages/npm/engine.io-client@1.6.11/lib/xmlhttprequest.js","../../jspm_packages/npm/engine.io-client@1.6.11/lib/transports/polling.js","../../jspm_packages/npm/engine.io-client@1.6.11/lib/transports/polling-jsonp.js","../../jspm_packages/npm/component-inherit@0.0.3/index.js","../../jspm_packages/npm/component-inherit@0.0.3.js","../../jspm_packages/npm/yeast@0.1.2/index.js","../../jspm_packages/npm/yeast@0.1.2.js","../../jspm_packages/npm/engine.io-client@1.6.11/lib/transports/websocket.js","../../jspm_packages/npm/engine.io-client@1.6.11/lib/transports/index.js","../../jspm_packages/npm/parseuri@0.0.4/index.js","../../jspm_packages/npm/parseuri@0.0.4.js","../../jspm_packages/npm/parsejson@0.0.1/index.js","../../jspm_packages/npm/parsejson@0.0.1.js","../../jspm_packages/npm/parseqs@0.0.2/index.js","../../jspm_packages/npm/parseqs@0.0.2.js","../../jspm_packages/npm/engine.io-client@1.6.11/lib/transport.js","../../jspm_packages/npm/engine.io-client@1.6.11/lib/socket.js","../../jspm_packages/npm/engine.io-parser@1.2.4/lib/keys.js","../../jspm_packages/npm/has-binary@0.1.6/index.js","../../jspm_packages/npm/has-binary@0.1.6.js","../../jspm_packages/npm/arraybuffer.slice@0.0.6/index.js","../../jspm_packages/npm/arraybuffer.slice@0.0.6.js","../../jspm_packages/npm/base64-arraybuffer@0.1.2/lib/base64-arraybuffer.js","../../jspm_packages/npm/base64-arraybuffer@0.1.2.js","../../jspm_packages/npm/after@0.8.1/index.js","../../jspm_packages/npm/after@0.8.1.js","../../jspm_packages/npm/utf8@2.1.0/utf8.js","../../jspm_packages/npm/utf8@2.1.0.js","../../jspm_packages/npm/blob@0.0.4/index.js","../../jspm_packages/npm/blob@0.0.4.js","../../jspm_packages/npm/engine.io-parser@1.2.4/lib/browser.js","../../jspm_packages/npm/engine.io-parser@1.2.4.js","../../jspm_packages/npm/engine.io-client@1.6.11/lib/index.js","../../jspm_packages/npm/engine.io-client@1.6.11/index.js","../../jspm_packages/npm/engine.io-client@1.6.11.js","../../jspm_packages/npm/indexof@0.0.1/index.js","../../jspm_packages/npm/indexof@0.0.1.js","../../jspm_packages/npm/backo2@1.0.2/index.js","../../jspm_packages/npm/backo2@1.0.2.js","../../jspm_packages/npm/socket.io-client@1.4.8/lib/manager.js","../../jspm_packages/npm/json3@3.3.2/lib/json3.js","../../jspm_packages/npm/json3@3.3.2.js","../../jspm_packages/npm/component-emitter@1.1.2/index.js","../../jspm_packages/npm/component-emitter@1.1.2.js","../../jspm_packages/npm/socket.io-parser@2.2.6/binary.js","../../jspm_packages/npm/socket.io-parser@2.2.6/is-buffer.js","../../jspm_packages/npm/socket.io-parser@2.2.6/index.js","../../jspm_packages/npm/socket.io-parser@2.2.6.js","../../jspm_packages/npm/component-emitter@1.2.0/index.js","../../jspm_packages/npm/component-emitter@1.2.0.js","../../jspm_packages/npm/to-array@0.1.4/index.js","../../jspm_packages/npm/to-array@0.1.4.js","../../jspm_packages/npm/socket.io-client@1.4.8/lib/on.js","../../jspm_packages/npm/component-bind@1.0.0/index.js","../../jspm_packages/npm/component-bind@1.0.0.js","../../jspm_packages/npm/ms@0.7.1/index.js","../../jspm_packages/npm/ms@0.7.1.js","../../jspm_packages/npm/debug@2.2.0/debug.js","../../jspm_packages/npm/debug@2.2.0/browser.js","../../jspm_packages/npm/debug@2.2.0.js","../../jspm_packages/npm/isarray@0.0.1/index.js","../../jspm_packages/npm/isarray@0.0.1.js","../../jspm_packages/npm/base64-js@0.0.8/lib/b64.js","../../jspm_packages/npm/base64-js@0.0.8.js","../../jspm_packages/npm/ieee754@1.1.8/index.js","../../jspm_packages/npm/ieee754@1.1.8.js","../../jspm_packages/npm/isarray@1.0.0/index.js","../../jspm_packages/npm/isarray@1.0.0.js","../../jspm_packages/npm/buffer@3.6.0/index.js","../../jspm_packages/npm/buffer@3.6.0.js","../../jspm_packages/github/jspm/nodelibs-buffer@0.1.0/index.js","../../jspm_packages/github/jspm/nodelibs-buffer@0.1.0.js","../../jspm_packages/npm/has-binary@0.1.7/index.js","../../jspm_packages/npm/has-binary@0.1.7.js","../../jspm_packages/npm/socket.io-client@1.4.8/lib/socket.js","../../jspm_packages/npm/socket.io-client@1.4.8/lib/index.js","../../jspm_packages/npm/socket.io-client@1.4.8.js","game/mediator/ApplicationMediator.ts","common/ui/TextButton.ts","common/ui/Ribbon.ts","common/ui/Countdown.ts","lightning/utils/Animation.ts","game/gameobjects/IceCream.ts","game/gameobjects/Cat.ts","game/mediator/PlayMediator.ts","game/state/Play.ts","game/model/ApplicationModel.ts","game/mediator/BaseMediator.ts","game/utils/Notifications.ts","game/mediator/SplashMediator.ts","bolt/utils/Device.ts","bolt/utils/Animator.ts","../../jspm_packages/npm/bluebird@3.4.6/js/browser/bluebird.js","../../jspm_packages/npm/bluebird@3.4.6.js","bolt/utils/Time.ts","lightning/display/State.ts","lightning/display/Text.ts","lightning/display/Sprite.ts","lightning/display/TileSprite.ts","lightning/display/MovieClip.ts","lightning/display/Container.ts","lightning/core/Factory.ts","lightning/core/StateManager.ts","lightning/core/Camera.ts","lightning/core/Loader.ts","bolt/mvc/CopyModel.ts","bolt/mvc/Mediator.ts","bolt/mvc/Model.ts","bolt/mvc/Notification.ts","bolt/mvc/Application.ts","lightning/core/PIXIApplication.ts","lightning/core/SoundManager.ts","lightning/display/Rope.ts","game/gameobjects/PlayerDisplay.ts","game/state/Splash.ts","game/KDGame.ts","common/utils/Fonts.ts","common/utils/Colours.ts","common/utils/Resources.ts","bootstrap-game.ts"],"names":["parseuri","debug","exports","url","uri","loc","obj","global","location","protocol","host","charAt","test","port","path","ipv6","indexOf","id","href","XMLHttpRequest","Polling","Emitter","inherit","XHR","Request","empty","opts","call","isSSL","xd","hostname","xs","secure","extraHeaders","prototype","supportsBinary","request","agent","enablesXDR","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","doWrite","data","fn","isBinary","undefined","req","method","self","on","err","onError","sendXhr","doPoll","onData","pollXhr","async","create","xdomain","xscheme","xhr","open","setDisableHeaderCheck","i","hasOwnProperty","setRequestHeader","e","responseType","withCredentials","hasXDR","onload","onLoad","onerror","responseText","onreadystatechange","readyState","status","setTimeout","send","document","index","requestsCount","requests","onSuccess","emit","cleanup","fromError","abort","contentType","getResponseHeader","split","response","String","fromCharCode","apply","Uint8Array","ui8Arr","dataArray","idx","length","push","XDomainRequest","attachEvent","unloadHandler","addEventListener","module","hasCORS","ActiveXObject","Transport","parseqs","parser","yeast","hasXHR2","forceBase64","name","doOpen","poll","pause","onPause","pending","polling","writable","total","once","callback","packet","onOpen","type","onClose","onPacket","decodePayload","socket","binaryType","doClose","close","write","packets","callbackfn","encodePayload","query","schema","timestampRequests","timestampParam","sid","b64","encode","JSONPPolling","rNewline","rEscapedNewline","callbacks","___eio","msg","j","script","parentNode","removeChild","form","iframe","createElement","src","insertAt","getElementsByTagName","insertBefore","head","body","appendChild","isUAgecko","navigator","userAgent","area","iframeId","className","style","position","top","left","target","setAttribute","action","complete","initIframe","html","replace","value","submit","a","b","constructor","alphabet","map","seed","prev","num","encoded","Math","floor","decode","str","decoded","now","Date","BrowserWebSocket","WebSocket","MozWebSocket","window","WS","perMessageDeflate","check","protocols","headers","ws","supports","binary","addEventListeners","onopen","onclose","onmessage","ev","l","encodePacket","options","compress","len","Buffer","byteLength","threshold","done","JSONP","websocket","jsonp","forceJSONP","Error","re","parts","substring","m","exec","source","authority","ipv6uri","rvalidchars","rvalidescape","rvalidtokens","rvalidbraces","rtrimLeft","rtrimRight","parsejson","JSON","parse","Function","encodeURIComponent","qs","qry","pairs","pair","decodeURIComponent","desc","description","decodePacket","transports","Socket","noop","upgrade","writeBuffer","policyPort","rememberUpgrade","onlyBinaryUpgrades","freeGlobal","Object","keys","priorWebsocketSuccess","createTransport","clone","EIO","transport","o","shift","setTransport","removeAllListeners","onDrain","probe","failed","onTransportOpen","upgradeLosesBinary","upgrading","flush","freezeTransport","error","onTransportClose","onupgrade","to","removeListener","upgrades","onHandshake","setPing","code","filterUpgrades","pingInterval","pingTimeout","onHeartbeat","timeout","clearTimeout","pingTimeoutTimer","pingIntervalTimer","ping","sendPacket","splice","prevBufferLen","waitForUpgrade","cleanupAndClose","reason","filteredUpgrades","arr","has","isArray","hasBinary","_hasBinary","isBuffer","ArrayBuffer","Blob","File","toJSON","arraybuffer","start","end","bytes","slice","abv","result","ii","buffer","chars","base64","bufferLength","p","encoded1","encoded2","encoded3","encoded4","after","count","err_cb","bail","proxy","root","freeExports","freeModule","stringFromCharCode","ucs2decode","string","output","counter","extra","charCodeAt","ucs2encode","array","checkScalarValue","codePoint","toString","toUpperCase","createByte","encodeCodePoint","symbol","utf8encode","codePoints","byteString","readContinuationByte","byteIndex","byteCount","continuationByte","byteArray","decodeSymbol","byte1","byte2","byte3","byte4","utf8decode","tmp","utf8","define","amd","nodeType","object","BlobBuilder","WebKitBlobBuilder","MSBlobBuilder","MozBlobBuilder","blobSupported","size","blobSupportsArrayBufferView","blobBuilderSupported","append","getBlob","mapArrayBufferViews","ary","chunk","buf","copy","set","byteOffset","BlobBuilderConstructor","bb","BlobConstructor","sliceBuffer","base64encoder","isAndroid","match","isPhantomJS","dontSendBlobs","pong","message","packetslist","encodeArrayBuffer","encodeBlob","encodeBase64Object","encodeBase64Packet","contentArray","resultBuffer","encodeBlobAsArrayBuffer","fr","FileReader","readAsArrayBuffer","blob","readAsDataURL","b64data","typed","basic","Array","btoa","decodeBase64Packet","substr","Number","asArray","rest","encodePayloadAsBlob","encodePayloadAsArrayBuffer","setLengthHeader","encodeOne","doneCallback","results","join","each","next","eachWithIndex","el","cb","decodePayloadAsBinary","n","chr","ret","encodedPackets","totalLength","reduce","acc","resultArray","bufferIndex","forEach","isString","ab","view","lenStr","parseInt","binaryIdentifier","lengthAry","bufferTail","buffers","numberTooLong","tailArray","msgLength","Backoff","ms","min","max","factor","jitter","attempts","duration","pow","rand","random","deviation","reset","setMin","setMax","setJitter","eio","bind","Manager","nsps","subs","reconnection","reconnectionAttempts","Infinity","reconnectionDelay","reconnectionDelayMax","randomizationFactor","backoff","connecting","lastPing","encoding","packetBuffer","encoder","Encoder","decoder","Decoder","autoConnect","emitAll","arguments","nsp","updateSocketIds","engine","v","_reconnection","_reconnectionAttempts","_reconnectionDelay","_randomizationFactor","_reconnectionDelayMax","_timeout","maybeReconnectOnOpen","reconnecting","reconnect","connect","skipReconnect","openSub","errorSub","timer","destroy","onping","onpong","ondata","add","ondecoded","onConnecting","processPacketQueue","pack","sub","disconnect","delay","onreconnect","attempt","isLoader","objectTypes","runInContext","context","SyntaxError","TypeError","nativeJSON","stringify","objectProto","getClass","isProperty","undef","isExtended","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","exception","isSupported","serialized","stringifySupported","parseSupported","functionClass","dateClass","numberClass","stringClass","arrayClass","booleanClass","charIndexBuggy","Months","getDay","year","month","property","members","__proto__","original","parent","Properties","valueOf","isFunction","hasProperty","isConstructor","Escapes","leadingZeroes","toPaddedString","width","unicodePrefix","quote","useCharIndex","symbols","charCode","serialize","properties","whitespace","indentation","stack","date","time","hours","minutes","seconds","milliseconds","element","prefix","pop","filter","Unescapes","Index","Source","lex","begin","isSigned","get","hasMembers","update","walk","previousJSON","isRestored","JSON3","mixin","event","_callbacks","off","removeEventListener","args","listeners","hasListeners","isBuf","deconstructPacket","packetData","_deconstructPacket","placeholder","_placeholder","newData","attachments","reconstructPacket","curPlaceHolder","_reconstructPacket","removeBlobs","_removeBlobs","curKey","containingObject","pendingBlobs","fileReader","bloblessData","json","types","CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK","encodeAsBinary","encodeAsString","writeEncoding","deconstruction","unshift","reconstructor","decodeString","BinaryReconstructor","reconPack","takeBinaryData","c","finishedReconstruction","binData","toArray","list","concat","s","h","d","y","val","long","short","parseFloat","toLowerCase","round","plural","ceil","coerce","disable","enable","enabled","humanize","names","skips","formatters","prevColor","prevTime","selectColor","colors","namespace","disabled","curr","diff","useColors","color","format","formatter","formatArgs","logFn","log","console","namespaces","save","RegExp","load","storage","chrome","local","localstorage","documentElement","firebug","table","$1","lastC","removeItem","r","localStorage","lookup","Arr","PLUS","SLASH","NUMBER","LOWER","UPPER","PLUS_URL_SAFE","SLASH_URL_SAFE","elt","b64ToByteArray","placeHolders","L","uint8ToBase64","uint8","extraBytes","temp","tripletToBase64","toByteArray","fromByteArray","base64js","read","offset","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","abs","isNaN","LN2","ieee754","SlowBuffer","INSPECT_MAX_BYTES","poolSize","rootParent","TYPED_ARRAY_SUPPORT","typedArraySupport","Bar","foo","subarray","kMaxLength","arg","fromNumber","fromString","fromObject","that","allocate","checked","fromBuffer","fromArray","fromTypedArray","fromArrayBuffer","fromArrayLike","fromJsonObject","_augment","_isBuffer","fromPool","RangeError","subject","compare","x","isEncoding","pos","item","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","binarySlice","base64Slice","utf16leSlice","equals","inspect","arrayIndexOf","foundIndex","readUInt8","writeUInt8","hexWrite","remaining","strLen","parsed","utf8Write","blitBuffer","asciiWrite","asciiToBytes","binaryWrite","base64Write","ucs2Write","utf16leToBytes","isFinite","swap","_arr","res","firstByte","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","decodeCodePointsArray","MAX_ARGUMENTS_LENGTH","out","toHex","newBuf","sliceLen","checkOffset","ext","readUIntLE","noAssert","mul","readUIntBE","readUInt16LE","readUInt16BE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","checkInt","writeUIntLE","writeUIntBE","objectWriteUInt16","littleEndian","writeUInt16LE","writeUInt16BE","objectWriteUInt32","writeUInt32LE","writeUInt32BE","writeIntLE","limit","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","checkIEEE754","writeFloat","writeFloatLE","writeFloatBE","writeDouble","writeDoubleLE","writeDoubleBE","targetStart","_set","fill","toArrayBuffer","BP","toLocaleString","INVALID_BASE64_RE","base64clean","stringtrim","trim","units","leadSurrogate","hi","lo","dst","_nodeRequire","hasBin","events","connect_error","connect_timeout","reconnect_attempt","reconnect_failed","reconnect_error","io","ids","acks","receiveBuffer","sendBuffer","connected","disconnected","subEvents","parserType","flags","onpacket","onconnect","onevent","onack","ondisconnect","ack","sent","emitBuffered","cache","managers","sameNamespace","newConnection","forceNew","multiplex","f","Promise","t","u","_dereq_","SomePromiseArray","_SomePromiseArray","any","promises","promise","setHowMany","setUnwrap","init","firstLineError","schedule","Queue","util","Async","_customScheduler","_isTickUsed","_lateQueue","_normalQueue","_haveDrainedQueues","_trampolineEnabled","drainQueues","_drainQueues","_schedule","setScheduler","hasCustomScheduler","enableTrampoline","disableTrampolineIfNecessary","hasDevTools","haveItemsQueued","fatalError","isNode","process","stderr","exit","throwLater","AsyncInvokeLater","receiver","_queueTick","AsyncInvoke","AsyncSettlePromises","_pushOne","invokeLater","invoke","settlePromises","_settlePromises","invokeFirst","_drainQueue","queue","_reset","INTERNAL","tryConvertToPromise","calledBind","rejectThis","_","_reject","targetRejected","promiseRejectionQueued","bindingPromise","_then","bindingResolved","thisArg","_bitField","_resolveCallback","bindingRejected","_propagateFrom","propagateFromFunction","_boundValue","boundValueFunction","maybePromise","_target","_setBoundTo","_setOnCancel","_boundTo","_isBound","resolve","old","noConflict","bluebird","cr","callerCache","getterCache","canEvaluate","isIdentifier","getMethodCaller","getGetter","makeMethodCaller","methodName","ensureMethod","makeGetter","propertyName","getCompiled","compiler","classString","caller","maybeCaller","namedGetter","indexedGetter","isIndex","getter","maybeGetter","PromiseArray","apiRejection","tryCatch","errorObj","_async","cancel","cancellation","_warn","child","_isCancellable","_cancelBy","_isFollowing","_followee","_cancelBranched","_cancellationParent","_setWillBeCancelled","_branchHasCancelled","_branchesRemainingToCancel","_enoughBranchesHaveCancelled","canceller","_invokeOnCancel","_cancel","_setCancelled","_cancelPromises","_length","_unsetOnCancel","_onCancelField","isPending","_isCancelled","isCancellable","isCancelled","_doInvokeOnCancel","onCancelCallback","internalOnly","_attachExtraTrace","_resultCancelled","_onCancel","_invokeInternalOnCancel","NEXT_FILTER","getKeys","catchFilter","instances","boundTo","predicateLoop","matchesPredicate","isObject","longStackTraces","contextStack","_promiseCreated","_pushContext","_popContext","_peekContext","Context","_trace","CapturedTrace","peekContext","trace","createContext","lastIndex","deactivateLongStackTraces","activateLongStackTraces","Promise_pushContext","Promise_popContext","Promise_PeekContext","Promise_peekContext","Promise_promiseCreated","ctx","getDomain","_getDomain","Warning","canAttachTrace","unhandledRejectionHandled","possiblyUnhandledRejection","bluebirdFramePattern","nodeFramePattern","parseLinePattern","stackFramePattern","formatStack","indentStackFrames","printWarning","debugging","env","warnings","wForgottenReturn","suppressUnhandledRejections","_ensurePossibleRejectionHandled","_setRejectionIsUnhandled","_notifyUnhandledRejection","_notifyUnhandledRejectionIsHandled","fireRejectionEvent","_setReturnedNonUndefined","_returnedNonUndefined","_isRejectionUnhandled","_settledValue","_setUnhandledRejectionIsNotified","_unsetUnhandledRejectionIsNotified","_isUnhandledRejectionNotified","_unsetRejectionIsUnhandled","shouldUseOwnTrace","warn","onPossiblyUnhandledRejection","domain","domainBind","onUnhandledRejectionHandled","disableLongStackTraces","config","longStackTracesIsSupported","Promise_captureStackTrace","_captureStackTrace","Promise_attachExtraTrace","longStackTracesCaptureStackTrace","longStackTracesAttachExtraTrace","hasLongStackTraces","fireDomEvent","CustomEvent","dispatchEvent","domEvent","detail","cancelable","Event","createEvent","initCustomEvent","fireGlobalEvent","generatePromiseLifecycleEventObject","eventToObjectGenerator","promiseCreated","promiseFulfilled","promiseRejected","promiseResolved","promiseCancelled","promiseChained","warning","unhandledRejection","rejectionHandled","activeFireEvent","globalEventFired","domEventFired","warningsOption","_clearCancellationData","cancellationClearCancellationData","cancellationPropagateFrom","cancellationOnCancel","cancellationSetOnCancel","_attachCancellationCallback","cancellationAttachCancellationCallback","_execute","cancellationExecute","monitoring","_fireEvent","defaultFireEvent","executor","reject","handler","onCancel","previousOnCancel","branchesRemainingToCancel","bindingPropagateFrom","isFulfilled","ignoreSelf","_parent","attachExtraTrace","__stackCleaned__","parseStackAndMessage","notEnumerableProp","checkForgottenReturns","returnValue","handlerLine","creatorLine","traceLines","cleanStack","line","lineMatches","firstUserLine","deprecated","replacement","formatAndLogError","reconstructStack","stacks","removeDuplicateOrEmptyJumps","removeCommonRoots","current","currentLastIndex","currentLastLine","commonRootMeetPoint","isTraceLine","isInternalFrame","shouldIgnore","stackFramesAsArray","title","isSoft","localHandler","localEventFired","formatNonError","ruselessToString","newStr","snip","maxChars","captureStackTrace","parseLineInfoRegex","parseLineInfo","matches","fileName","setBounds","lastLineError","firstStackLines","lastStackLines","firstIndex","firstFileName","lastFileName","info","_promisesCreated","uncycle","inherits","nodes","stackToIndex","node","currentStack","cycleEdgeNode","currentChildLength","stackDetection","v8stackFramePattern","v8stackFormatter","stackTraceLimit","ignoreUntil","hasStackAfterThrow","isTTY","returner","thrower","thenReturn","thenThrow","catchThrow","_reason","caught","catchReturn","_value","PromiseReduce","PromiseAll","all","promiseAllThis","PromiseMapSeries","mapSeries","es5","Objectfreeze","freeze","subError","nameProperty","defaultMessage","SubError","_TypeError","_RangeError","CancellationError","TimeoutError","AggregateError","methods","defineProperty","configurable","enumerable","level","indent","lines","OperationalError","cause","errorTypes","RejectionError","isES5","getDescriptor","getOwnPropertyDescriptor","getOwnPropertyNames","getPrototypeOf","propertyIsWritable","prop","descriptor","proto","ObjectKeys","ObjectGetDescriptor","ObjectDefineProperty","ObjectFreeze","ObjectGetPrototypeOf","ArrayIsArray","PromiseMap","PassThroughHandlerContext","called","cancelPromise","isFinallyHandler","FinallyHandlerCancelReaction","finallyHandler","checkCancel","succeed","fail","reasonOrValue","isRejected","_passThrough","success","then","lastly","tap","Proxyable","errors","yieldHandlers","promiseFromYieldHandler","traceParent","PromiseSpawn","generatorFunction","yieldHandler","internal","_finallyPromise","_promise","_stack","_generatorFunction","_receiver","_generator","_yieldHandlers","_yieldedPromise","_cancellationPhase","_isResolved","_cleanup","_fulfill","_promiseCancelled","implementsReturn","coroutine","returnSentinel","_continue","_promiseFulfilled","_promiseRejected","_run","_rejectCallback","bitField","_proxy","PromiseSpawn$","generator","spawn","addYieldHandler","thenCallback","promiseSetter","generateHolderClass","props","assignment","cancellationCode","passedArguments","holderClasses","thenCallbacks","promiseSetters","last","HolderClass","holder","asyncNeeded","_isFateSealed","_setAsyncGuaranteed","spread","MappingPromiseArray","_filter","constructor$","_callback","_preservedValues","_limit","_inFlight","_queue","_asyncInit","_init$","_init","values","_values","preservedValues","totalResolved","_totalResolved","_resolve","booleans","concurrency","_resolveFromSyncValue","maybeWrapAsError","isUntypedError","rErrorKey","wrapAsOperationalError","markAsOriginatingFromRejection","nodebackForPromise","multiArgs","wrapped","spreadAdapter","nodeback","successAdapter","errorAdapter","newReason","asCallback","nodeify","adapter","makeSelfResolutionError","reflectHandler","PromiseInspection","UNDEFINED_BINDING","APPLY","_fulfillmentHandler0","_rejectionHandler0","_promise0","_receiver0","_resolveFromExecutor","catchInstances","reflect","didFulfill","didReject","_setIsFinal","fulfillmentValue","rejectionReason","originatesFromRejection","getNewLibraryCopy","is","fromNode","fromCallback","cast","_setFulfilled","fulfilled","rejected","internalData","haveInternalData","settler","_settlePromiseCtx","_settlePromiseLateCancellationObserver","_addCallbacks","_setLength","_setRejected","_setFollowing","_isFinal","_unsetCancelled","_receiverAt","_promiseAt","_fulfillmentHandlerAt","_rejectionHandlerAt","_migrateCallback0","follower","fulfill","_migrateCallbackAt","base","proxyable","shouldBind","_setFollowee","synchronous","ignoreNonErrorWarnings","ensureErrorObject","hasStack","_settlePromiseFromHandler","_settlePromise","isPromise","asyncGuaranteed","_settlePromise0","_clearCallbackDataAtIndex","_fulfillPromises","_rejectPromises","deferResolve","deferReject","defer","version","toFastProperties","fillTypes","toResolutionValue","resolveValueIfEmpty","_resolveEmptyArray","_iterate","getActualLength","shouldCopyValues","isResolved","THIS","withAppended","defaultSuffix","defaultPromisified","__isPromisified__","noCopyProps","noCopyPropsPattern","defaultFilter","propsFilter","isPromisified","hasPromisified","suffix","getDataPropertyOrDefault","checkValid","suffixRegexp","keyWithoutAsyncSuffix","promisifiableMethods","inheritedDataKeys","passesDefaultFilter","escapeIdentRegex","makeNodePromisifiedEval","switchCaseArgumentOrder","likelyArgumentCount","argumentSequence","argumentCount","filledRange","parameterDeclaration","parameterCount","originalName","newParameterCount","argumentOrder","shouldProxyThis","generateCallForArgumentCount","comma","generateArgumentSwitchCase","getFunctionCode","makeNodePromisifiedClosure","__","defaultThis","promisified","makeNodePromisified","promisifyAll","promisifier","promisifiedKey","promisify","copyDescriptors","isClass","Es6Map","Map","mapToEntries","extractEntry","entriesToMap","entries","PropertiesPromiseArray","isMap","_isMap","keyOffset","castValue","arrayMove","srcIndex","dstIndex","capacity","_capacity","_front","_willBeOverCapacity","_checkCapacity","_unshiftOne","front","wrapMask","_resizeTo","oldCapacity","moveItemsCount","raceLater","race","ReductionPromiseArray","initialValue","_each","_fn","_initialValue","_currentCancellable","_eachValues","_gotAccum","accum","_eachComplete","sender","_resultCancelled$","gotAccum","completed","valueOrReason","gotValue","noAsyncScheduler","NativePromise","getNativePromise","MutationObserver","GlobalSetImmediate","setImmediate","ProcessNextTick","nextTick","isRecentNode","nativePromise","standalone","cordova","div","attributes","toggleScheduled","div2","o2","classList","toggle","observe","scheduleToggle","SettledPromiseArray","_promiseResolved","inspection","_settledValueField","settle","CANCELLATION","_howMany","_unwrap","_initialized","isArrayResolved","_canPossiblyFulfill","_getRangeError","howMany","_addFulfilled","_fulfilled","_addRejected","_checkOutcome","_rejected","some","__isCancelled","getThen","isAnyBluebirdPromise","doThenable","doGetThen","hasProp","HandleWrapper","handle","afterValue","afterTimeout","successClear","failureClear","handleWrapper","timeoutTimeout","NULL","castPreservingDisposable","thenable","_isDisposable","_getDisposer","_setDisposable","dispose","resources","iterator","tryDispose","Disposer","_data","_context","resource","doDispose","_unsetDisposable","isDisposer","FunctionDisposer","maybeUnwrapDisposer","ResourceList","using","input","spreadArgs","disposer","reflectedResources","resultPromise","inspections","_disposer","tryCatchTarget","globalObject","tryCatcher","Child","Parent","T","isPrimitive","maybeError","safeToString","appendee","defaultValue","excludedPrototypes","isExcludedProto","visitedKeys","enumeration","thisAssignmentPattern","hasMethods","hasMethodsOtherThanConstructor","hasThisAssignmentAndStaticMethods","FakeConstructor","eval","rident","isError","ignore","from","Symbol","ArrayFrom","it","itResult","def","loadTimes","versions","P"],"mappings":"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","file":"bundle.js","sourceRoot":"/source/","sourcesContent":["\n/**\n * Module dependencies.\n */\n\nvar parseuri = require('parseuri');\nvar debug = require('debug')('socket.io-client:url');\n\n/**\n * Module exports.\n */\n\nmodule.exports = url;\n\n/**\n * URL parser.\n *\n * @param {String} url\n * @param {Object} An object meant to mimic window.location.\n *                 Defaults to window.location.\n * @api public\n */\n\nfunction url(uri, loc){\n  var obj = uri;\n\n  // default to window.location\n  var loc = loc || global.location;\n  if (null == uri) uri = loc.protocol + '//' + loc.host;\n\n  // relative path support\n  if ('string' == typeof uri) {\n    if ('/' == uri.charAt(0)) {\n      if ('/' == uri.charAt(1)) {\n        uri = loc.protocol + uri;\n      } else {\n        uri = loc.host + uri;\n      }\n    }\n\n    if (!/^(https?|wss?):\\/\\//.test(uri)) {\n      debug('protocol-less url %s', uri);\n      if ('undefined' != typeof loc) {\n        uri = loc.protocol + '//' + uri;\n      } else {\n        uri = 'https://' + uri;\n      }\n    }\n\n    // parse\n    debug('parse %s', uri);\n    obj = parseuri(uri);\n  }\n\n  // make sure we treat `localhost:80` and `localhost` equally\n  if (!obj.port) {\n    if (/^(http|ws)$/.test(obj.protocol)) {\n      obj.port = '80';\n    }\n    else if (/^(http|ws)s$/.test(obj.protocol)) {\n      obj.port = '443';\n    }\n  }\n\n  obj.path = obj.path || '/';\n\n  var ipv6 = obj.host.indexOf(':') !== -1;\n  var host = ipv6 ? '[' + obj.host + ']' : obj.host;\n\n  // define unique id\n  obj.id = obj.protocol + '://' + host + ':' + obj.port;\n  // define href\n  obj.href = obj.protocol + '://' + host + (loc && loc.port == obj.port ? '' : (':' + obj.port));\n\n  return obj;\n}\n","/* */ \nvar XMLHttpRequest = require('../xmlhttprequest');\nvar Polling = require('./polling');\nvar Emitter = require('component-emitter');\nvar inherit = require('component-inherit');\nvar debug = require('debug')('engine.io-client:polling-xhr');\nmodule.exports = XHR;\nmodule.exports.Request = Request;\nfunction empty() {}\nfunction XHR(opts) {\n  Polling.call(this, opts);\n  if (global.location) {\n    var isSSL = 'https:' == location.protocol;\n    var port = location.port;\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n    this.xd = opts.hostname != global.location.hostname || port != opts.port;\n    this.xs = opts.secure != isSSL;\n  } else {\n    this.extraHeaders = opts.extraHeaders;\n  }\n}\ninherit(XHR, Polling);\nXHR.prototype.supportsBinary = true;\nXHR.prototype.request = function(opts) {\n  opts = opts || {};\n  opts.uri = this.uri();\n  opts.xd = this.xd;\n  opts.xs = this.xs;\n  opts.agent = this.agent || false;\n  opts.supportsBinary = this.supportsBinary;\n  opts.enablesXDR = this.enablesXDR;\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n  opts.extraHeaders = this.extraHeaders;\n  return new Request(opts);\n};\nXHR.prototype.doWrite = function(data, fn) {\n  var isBinary = typeof data !== 'string' && data !== undefined;\n  var req = this.request({\n    method: 'POST',\n    data: data,\n    isBinary: isBinary\n  });\n  var self = this;\n  req.on('success', fn);\n  req.on('error', function(err) {\n    self.onError('xhr post error', err);\n  });\n  this.sendXhr = req;\n};\nXHR.prototype.doPoll = function() {\n  debug('xhr poll');\n  var req = this.request();\n  var self = this;\n  req.on('data', function(data) {\n    self.onData(data);\n  });\n  req.on('error', function(err) {\n    self.onError('xhr poll error', err);\n  });\n  this.pollXhr = req;\n};\nfunction Request(opts) {\n  this.method = opts.method || 'GET';\n  this.uri = opts.uri;\n  this.xd = !!opts.xd;\n  this.xs = !!opts.xs;\n  this.async = false !== opts.async;\n  this.data = undefined != opts.data ? opts.data : null;\n  this.agent = opts.agent;\n  this.isBinary = opts.isBinary;\n  this.supportsBinary = opts.supportsBinary;\n  this.enablesXDR = opts.enablesXDR;\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n  this.extraHeaders = opts.extraHeaders;\n  this.create();\n}\nEmitter(Request.prototype);\nRequest.prototype.create = function() {\n  var opts = {\n    agent: this.agent,\n    xdomain: this.xd,\n    xscheme: this.xs,\n    enablesXDR: this.enablesXDR\n  };\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n  var xhr = this.xhr = new XMLHttpRequest(opts);\n  var self = this;\n  try {\n    debug('xhr open %s: %s', this.method, this.uri);\n    xhr.open(this.method, this.uri, this.async);\n    try {\n      if (this.extraHeaders) {\n        xhr.setDisableHeaderCheck(true);\n        for (var i in this.extraHeaders) {\n          if (this.extraHeaders.hasOwnProperty(i)) {\n            xhr.setRequestHeader(i, this.extraHeaders[i]);\n          }\n        }\n      }\n    } catch (e) {}\n    if (this.supportsBinary) {\n      xhr.responseType = 'arraybuffer';\n    }\n    if ('POST' == this.method) {\n      try {\n        if (this.isBinary) {\n          xhr.setRequestHeader('Content-type', 'application/octet-stream');\n        } else {\n          xhr.setRequestHeader('Content-type', 'text/plain;charset=UTF-8');\n        }\n      } catch (e) {}\n    }\n    if ('withCredentials' in xhr) {\n      xhr.withCredentials = true;\n    }\n    if (this.hasXDR()) {\n      xhr.onload = function() {\n        self.onLoad();\n      };\n      xhr.onerror = function() {\n        self.onError(xhr.responseText);\n      };\n    } else {\n      xhr.onreadystatechange = function() {\n        if (4 != xhr.readyState)\n          return;\n        if (200 == xhr.status || 1223 == xhr.status) {\n          self.onLoad();\n        } else {\n          setTimeout(function() {\n            self.onError(xhr.status);\n          }, 0);\n        }\n      };\n    }\n    debug('xhr data %s', this.data);\n    xhr.send(this.data);\n  } catch (e) {\n    setTimeout(function() {\n      self.onError(e);\n    }, 0);\n    return;\n  }\n  if (global.document) {\n    this.index = Request.requestsCount++;\n    Request.requests[this.index] = this;\n  }\n};\nRequest.prototype.onSuccess = function() {\n  this.emit('success');\n  this.cleanup();\n};\nRequest.prototype.onData = function(data) {\n  this.emit('data', data);\n  this.onSuccess();\n};\nRequest.prototype.onError = function(err) {\n  this.emit('error', err);\n  this.cleanup(true);\n};\nRequest.prototype.cleanup = function(fromError) {\n  if ('undefined' == typeof this.xhr || null === this.xhr) {\n    return;\n  }\n  if (this.hasXDR()) {\n    this.xhr.onload = this.xhr.onerror = empty;\n  } else {\n    this.xhr.onreadystatechange = empty;\n  }\n  if (fromError) {\n    try {\n      this.xhr.abort();\n    } catch (e) {}\n  }\n  if (global.document) {\n    delete Request.requests[this.index];\n  }\n  this.xhr = null;\n};\nRequest.prototype.onLoad = function() {\n  var data;\n  try {\n    var contentType;\n    try {\n      contentType = this.xhr.getResponseHeader('Content-Type').split(';')[0];\n    } catch (e) {}\n    if (contentType === 'application/octet-stream') {\n      data = this.xhr.response;\n    } else {\n      if (!this.supportsBinary) {\n        data = this.xhr.responseText;\n      } else {\n        try {\n          data = String.fromCharCode.apply(null, new Uint8Array(this.xhr.response));\n        } catch (e) {\n          var ui8Arr = new Uint8Array(this.xhr.response);\n          var dataArray = [];\n          for (var idx = 0,\n              length = ui8Arr.length; idx < length; idx++) {\n            dataArray.push(ui8Arr[idx]);\n          }\n          data = String.fromCharCode.apply(null, dataArray);\n        }\n      }\n    }\n  } catch (e) {\n    this.onError(e);\n  }\n  if (null != data) {\n    this.onData(data);\n  }\n};\nRequest.prototype.hasXDR = function() {\n  return 'undefined' !== typeof global.XDomainRequest && !this.xs && this.enablesXDR;\n};\nRequest.prototype.abort = function() {\n  this.cleanup();\n};\nif (global.document) {\n  Request.requestsCount = 0;\n  Request.requests = {};\n  if (global.attachEvent) {\n    global.attachEvent('onunload', unloadHandler);\n  } else if (global.addEventListener) {\n    global.addEventListener('beforeunload', unloadHandler, false);\n  }\n}\nfunction unloadHandler() {\n  for (var i in Request.requests) {\n    if (Request.requests.hasOwnProperty(i)) {\n      Request.requests[i].abort();\n    }\n  }\n}\n","\n/**\n * Module exports.\n *\n * Logic borrowed from Modernizr:\n *\n *   - https://github.com/Modernizr/Modernizr/blob/master/feature-detects/cors.js\n */\n\ntry {\n  module.exports = typeof XMLHttpRequest !== 'undefined' &&\n    'withCredentials' in new XMLHttpRequest();\n} catch (err) {\n  // if XMLHttp support is disabled in IE then it will throw\n  // when trying to create\n  module.exports = false;\n}\n","module.exports = require(\"npm:has-cors@1.1.0/index.js\");","// browser shim for xmlhttprequest module\nvar hasCORS = require('has-cors');\n\nmodule.exports = function(opts) {\n  var xdomain = opts.xdomain;\n\n  // scheme must be same when usign XDomainRequest\n  // http://blogs.msdn.com/b/ieinternals/archive/2010/05/13/xdomainrequest-restrictions-limitations-and-workarounds.aspx\n  var xscheme = opts.xscheme;\n\n  // XDomainRequest has a flow of not sending cookie, therefore it should be disabled as a default.\n  // https://github.com/Automattic/engine.io-client/pull/217\n  var enablesXDR = opts.enablesXDR;\n\n  // XMLHttpRequest can be disabled on IE\n  try {\n    if ('undefined' != typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n      return new XMLHttpRequest();\n    }\n  } catch (e) { }\n\n  // Use XDomainRequest for IE8 if enablesXDR is true\n  // because loading bar keeps flashing when using jsonp-polling\n  // https://github.com/yujiosaka/socke.io-ie8-loading-example\n  try {\n    if ('undefined' != typeof XDomainRequest && !xscheme && enablesXDR) {\n      return new XDomainRequest();\n    }\n  } catch (e) { }\n\n  if (!xdomain) {\n    try {\n      return new ActiveXObject('Microsoft.XMLHTTP');\n    } catch(e) { }\n  }\n}\n","/* */ \nvar Transport = require('../transport');\nvar parseqs = require('parseqs');\nvar parser = require('engine.io-parser');\nvar inherit = require('component-inherit');\nvar yeast = require('yeast');\nvar debug = require('debug')('engine.io-client:polling');\nmodule.exports = Polling;\nvar hasXHR2 = (function() {\n  var XMLHttpRequest = require('../xmlhttprequest');\n  var xhr = new XMLHttpRequest({xdomain: false});\n  return null != xhr.responseType;\n})();\nfunction Polling(opts) {\n  var forceBase64 = (opts && opts.forceBase64);\n  if (!hasXHR2 || forceBase64) {\n    this.supportsBinary = false;\n  }\n  Transport.call(this, opts);\n}\ninherit(Polling, Transport);\nPolling.prototype.name = 'polling';\nPolling.prototype.doOpen = function() {\n  this.poll();\n};\nPolling.prototype.pause = function(onPause) {\n  var pending = 0;\n  var self = this;\n  this.readyState = 'pausing';\n  function pause() {\n    debug('paused');\n    self.readyState = 'paused';\n    onPause();\n  }\n  if (this.polling || !this.writable) {\n    var total = 0;\n    if (this.polling) {\n      debug('we are currently polling - waiting to pause');\n      total++;\n      this.once('pollComplete', function() {\n        debug('pre-pause polling complete');\n        --total || pause();\n      });\n    }\n    if (!this.writable) {\n      debug('we are currently writing - waiting to pause');\n      total++;\n      this.once('drain', function() {\n        debug('pre-pause writing complete');\n        --total || pause();\n      });\n    }\n  } else {\n    pause();\n  }\n};\nPolling.prototype.poll = function() {\n  debug('polling');\n  this.polling = true;\n  this.doPoll();\n  this.emit('poll');\n};\nPolling.prototype.onData = function(data) {\n  var self = this;\n  debug('polling got data %s', data);\n  var callback = function(packet, index, total) {\n    if ('opening' == self.readyState) {\n      self.onOpen();\n    }\n    if ('close' == packet.type) {\n      self.onClose();\n      return false;\n    }\n    self.onPacket(packet);\n  };\n  parser.decodePayload(data, this.socket.binaryType, callback);\n  if ('closed' != this.readyState) {\n    this.polling = false;\n    this.emit('pollComplete');\n    if ('open' == this.readyState) {\n      this.poll();\n    } else {\n      debug('ignoring poll - transport state \"%s\"', this.readyState);\n    }\n  }\n};\nPolling.prototype.doClose = function() {\n  var self = this;\n  function close() {\n    debug('writing close packet');\n    self.write([{type: 'close'}]);\n  }\n  if ('open' == this.readyState) {\n    debug('transport open - closing');\n    close();\n  } else {\n    debug('transport not open - deferring close');\n    this.once('open', close);\n  }\n};\nPolling.prototype.write = function(packets) {\n  var self = this;\n  this.writable = false;\n  var callbackfn = function() {\n    self.writable = true;\n    self.emit('drain');\n  };\n  var self = this;\n  parser.encodePayload(packets, this.supportsBinary, function(data) {\n    self.doWrite(data, callbackfn);\n  });\n};\nPolling.prototype.uri = function() {\n  var query = this.query || {};\n  var schema = this.secure ? 'https' : 'http';\n  var port = '';\n  if (false !== this.timestampRequests) {\n    query[this.timestampParam] = yeast();\n  }\n  if (!this.supportsBinary && !query.sid) {\n    query.b64 = 1;\n  }\n  query = parseqs.encode(query);\n  if (this.port && (('https' == schema && this.port != 443) || ('http' == schema && this.port != 80))) {\n    port = ':' + this.port;\n  }\n  if (query.length) {\n    query = '?' + query;\n  }\n  var ipv6 = this.hostname.indexOf(':') !== -1;\n  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\n};\n","/* */ \nvar Polling = require('./polling');\nvar inherit = require('component-inherit');\nmodule.exports = JSONPPolling;\nvar rNewline = /\\n/g;\nvar rEscapedNewline = /\\\\n/g;\nvar callbacks;\nvar index = 0;\nfunction empty() {}\nfunction JSONPPolling(opts) {\n  Polling.call(this, opts);\n  this.query = this.query || {};\n  if (!callbacks) {\n    if (!global.___eio)\n      global.___eio = [];\n    callbacks = global.___eio;\n  }\n  this.index = callbacks.length;\n  var self = this;\n  callbacks.push(function(msg) {\n    self.onData(msg);\n  });\n  this.query.j = this.index;\n  if (global.document && global.addEventListener) {\n    global.addEventListener('beforeunload', function() {\n      if (self.script)\n        self.script.onerror = empty;\n    }, false);\n  }\n}\ninherit(JSONPPolling, Polling);\nJSONPPolling.prototype.supportsBinary = false;\nJSONPPolling.prototype.doClose = function() {\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n  if (this.form) {\n    this.form.parentNode.removeChild(this.form);\n    this.form = null;\n    this.iframe = null;\n  }\n  Polling.prototype.doClose.call(this);\n};\nJSONPPolling.prototype.doPoll = function() {\n  var self = this;\n  var script = document.createElement('script');\n  if (this.script) {\n    this.script.parentNode.removeChild(this.script);\n    this.script = null;\n  }\n  script.async = true;\n  script.src = this.uri();\n  script.onerror = function(e) {\n    self.onError('jsonp poll error', e);\n  };\n  var insertAt = document.getElementsByTagName('script')[0];\n  if (insertAt) {\n    insertAt.parentNode.insertBefore(script, insertAt);\n  } else {\n    (document.head || document.body).appendChild(script);\n  }\n  this.script = script;\n  var isUAgecko = 'undefined' != typeof navigator && /gecko/i.test(navigator.userAgent);\n  if (isUAgecko) {\n    setTimeout(function() {\n      var iframe = document.createElement('iframe');\n      document.body.appendChild(iframe);\n      document.body.removeChild(iframe);\n    }, 100);\n  }\n};\nJSONPPolling.prototype.doWrite = function(data, fn) {\n  var self = this;\n  if (!this.form) {\n    var form = document.createElement('form');\n    var area = document.createElement('textarea');\n    var id = this.iframeId = 'eio_iframe_' + this.index;\n    var iframe;\n    form.className = 'socketio';\n    form.style.position = 'absolute';\n    form.style.top = '-1000px';\n    form.style.left = '-1000px';\n    form.target = id;\n    form.method = 'POST';\n    form.setAttribute('accept-charset', 'utf-8');\n    area.name = 'd';\n    form.appendChild(area);\n    document.body.appendChild(form);\n    this.form = form;\n    this.area = area;\n  }\n  this.form.action = this.uri();\n  function complete() {\n    initIframe();\n    fn();\n  }\n  function initIframe() {\n    if (self.iframe) {\n      try {\n        self.form.removeChild(self.iframe);\n      } catch (e) {\n        self.onError('jsonp polling iframe removal error', e);\n      }\n    }\n    try {\n      var html = '<iframe src=\"javascript:0\" name=\"' + self.iframeId + '\">';\n      iframe = document.createElement(html);\n    } catch (e) {\n      iframe = document.createElement('iframe');\n      iframe.name = self.iframeId;\n      iframe.src = 'javascript:0';\n    }\n    iframe.id = self.iframeId;\n    self.form.appendChild(iframe);\n    self.iframe = iframe;\n  }\n  initIframe();\n  data = data.replace(rEscapedNewline, '\\\\\\n');\n  this.area.value = data.replace(rNewline, '\\\\n');\n  try {\n    this.form.submit();\n  } catch (e) {}\n  if (this.iframe.attachEvent) {\n    this.iframe.onreadystatechange = function() {\n      if (self.iframe.readyState == 'complete') {\n        complete();\n      }\n    };\n  } else {\n    this.iframe.onload = complete;\n  }\n};\n","/* */ \n\nmodule.exports = function(a, b){\n  var fn = function(){};\n  fn.prototype = b.prototype;\n  a.prototype = new fn;\n  a.prototype.constructor = a;\n};","module.exports = require(\"npm:component-inherit@0.0.3/index\");","/* */ \n'use strict';\n\nvar alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split('')\n  , length = 64\n  , map = {}\n  , seed = 0\n  , i = 0\n  , prev;\n\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nfunction encode(num) {\n  var encoded = '';\n\n  do {\n    encoded = alphabet[num % length] + encoded;\n    num = Math.floor(num / length);\n  } while (num > 0);\n\n  return encoded;\n}\n\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nfunction decode(str) {\n  var decoded = 0;\n\n  for (i = 0; i < str.length; i++) {\n    decoded = decoded * length + map[str.charAt(i)];\n  }\n\n  return decoded;\n}\n\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nfunction yeast() {\n  var now = encode(+new Date());\n\n  if (now !== prev) return seed = 0, prev = now;\n  return now +'.'+ encode(seed++);\n}\n\n//\n// Map each character to its index.\n//\nfor (; i < length; i++) map[alphabet[i]] = i;\n\n//\n// Expose the `yeast`, `encode` and `decode` functions.\n//\nyeast.encode = encode;\nyeast.decode = decode;\nmodule.exports = yeast;\n","module.exports = require(\"npm:yeast@0.1.2/index.js\");","/* */ \nvar Transport = require('../transport');\nvar parser = require('engine.io-parser');\nvar parseqs = require('parseqs');\nvar inherit = require('component-inherit');\nvar yeast = require('yeast');\nvar debug = require('debug')('engine.io-client:websocket');\nvar BrowserWebSocket = global.WebSocket || global.MozWebSocket;\nvar WebSocket = BrowserWebSocket;\nif (!WebSocket && typeof window === 'undefined') {\n  try {\n    WebSocket = require('@empty');\n  } catch (e) {}\n}\nmodule.exports = WS;\nfunction WS(opts) {\n  var forceBase64 = (opts && opts.forceBase64);\n  if (forceBase64) {\n    this.supportsBinary = false;\n  }\n  this.perMessageDeflate = opts.perMessageDeflate;\n  Transport.call(this, opts);\n}\ninherit(WS, Transport);\nWS.prototype.name = 'websocket';\nWS.prototype.supportsBinary = true;\nWS.prototype.doOpen = function() {\n  if (!this.check()) {\n    return;\n  }\n  var self = this;\n  var uri = this.uri();\n  var protocols = void(0);\n  var opts = {\n    agent: this.agent,\n    perMessageDeflate: this.perMessageDeflate\n  };\n  opts.pfx = this.pfx;\n  opts.key = this.key;\n  opts.passphrase = this.passphrase;\n  opts.cert = this.cert;\n  opts.ca = this.ca;\n  opts.ciphers = this.ciphers;\n  opts.rejectUnauthorized = this.rejectUnauthorized;\n  if (this.extraHeaders) {\n    opts.headers = this.extraHeaders;\n  }\n  this.ws = BrowserWebSocket ? new WebSocket(uri) : new WebSocket(uri, protocols, opts);\n  if (this.ws.binaryType === undefined) {\n    this.supportsBinary = false;\n  }\n  if (this.ws.supports && this.ws.supports.binary) {\n    this.supportsBinary = true;\n    this.ws.binaryType = 'buffer';\n  } else {\n    this.ws.binaryType = 'arraybuffer';\n  }\n  this.addEventListeners();\n};\nWS.prototype.addEventListeners = function() {\n  var self = this;\n  this.ws.onopen = function() {\n    self.onOpen();\n  };\n  this.ws.onclose = function() {\n    self.onClose();\n  };\n  this.ws.onmessage = function(ev) {\n    self.onData(ev.data);\n  };\n  this.ws.onerror = function(e) {\n    self.onError('websocket error', e);\n  };\n};\nif ('undefined' != typeof navigator && /iPad|iPhone|iPod/i.test(navigator.userAgent)) {\n  WS.prototype.onData = function(data) {\n    var self = this;\n    setTimeout(function() {\n      Transport.prototype.onData.call(self, data);\n    }, 0);\n  };\n}\nWS.prototype.write = function(packets) {\n  var self = this;\n  this.writable = false;\n  var total = packets.length;\n  for (var i = 0,\n      l = total; i < l; i++) {\n    (function(packet) {\n      parser.encodePacket(packet, self.supportsBinary, function(data) {\n        if (!BrowserWebSocket) {\n          var opts = {};\n          if (packet.options) {\n            opts.compress = packet.options.compress;\n          }\n          if (self.perMessageDeflate) {\n            var len = 'string' == typeof data ? global.Buffer.byteLength(data) : data.length;\n            if (len < self.perMessageDeflate.threshold) {\n              opts.compress = false;\n            }\n          }\n        }\n        try {\n          if (BrowserWebSocket) {\n            self.ws.send(data);\n          } else {\n            self.ws.send(data, opts);\n          }\n        } catch (e) {\n          debug('websocket closed before onclose event');\n        }\n        --total || done();\n      });\n    })(packets[i]);\n  }\n  function done() {\n    self.emit('flush');\n    setTimeout(function() {\n      self.writable = true;\n      self.emit('drain');\n    }, 0);\n  }\n};\nWS.prototype.onClose = function() {\n  Transport.prototype.onClose.call(this);\n};\nWS.prototype.doClose = function() {\n  if (typeof this.ws !== 'undefined') {\n    this.ws.close();\n  }\n};\nWS.prototype.uri = function() {\n  var query = this.query || {};\n  var schema = this.secure ? 'wss' : 'ws';\n  var port = '';\n  if (this.port && (('wss' == schema && this.port != 443) || ('ws' == schema && this.port != 80))) {\n    port = ':' + this.port;\n  }\n  if (this.timestampRequests) {\n    query[this.timestampParam] = yeast();\n  }\n  if (!this.supportsBinary) {\n    query.b64 = 1;\n  }\n  query = parseqs.encode(query);\n  if (query.length) {\n    query = '?' + query;\n  }\n  var ipv6 = this.hostname.indexOf(':') !== -1;\n  return schema + '://' + (ipv6 ? '[' + this.hostname + ']' : this.hostname) + port + this.path + query;\n};\nWS.prototype.check = function() {\n  return !!WebSocket && !('__initialize' in WebSocket && this.name === WS.prototype.name);\n};\n","/* */ \nvar XMLHttpRequest = require('../xmlhttprequest');\nvar XHR = require('./polling-xhr');\nvar JSONP = require('./polling-jsonp');\nvar websocket = require('./websocket');\nexports.polling = polling;\nexports.websocket = websocket;\nfunction polling(opts) {\n  var xhr;\n  var xd = false;\n  var xs = false;\n  var jsonp = false !== opts.jsonp;\n  if (global.location) {\n    var isSSL = 'https:' == location.protocol;\n    var port = location.port;\n    if (!port) {\n      port = isSSL ? 443 : 80;\n    }\n    xd = opts.hostname != location.hostname || port != opts.port;\n    xs = opts.secure != isSSL;\n  }\n  opts.xdomain = xd;\n  opts.xscheme = xs;\n  xhr = new XMLHttpRequest(opts);\n  if ('open' in xhr && !opts.forceJSONP) {\n    return new XHR(opts);\n  } else {\n    if (!jsonp)\n      throw new Error('JSONP disabled');\n    return new JSONP(opts);\n  }\n}\n","/**\n * Parses an URI\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\n\nvar re = /^(?:(?![^:@]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\nvar parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\n\nmodule.exports = function parseuri(str) {\n    var src = str,\n        b = str.indexOf('['),\n        e = str.indexOf(']');\n\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n\n    var m = re.exec(str || ''),\n        uri = {},\n        i = 14;\n\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n\n    return uri;\n};\n","module.exports = require(\"npm:parseuri@0.0.4/index\");","/**\n * JSON parse.\n *\n * @see Based on jQuery#parseJSON (MIT) and JSON2\n * @api private\n */\n\nvar rvalidchars = /^[\\],:{}\\s]*$/;\nvar rvalidescape = /\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g;\nvar rvalidtokens = /\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g;\nvar rvalidbraces = /(?:^|:|,)(?:\\s*\\[)+/g;\nvar rtrimLeft = /^\\s+/;\nvar rtrimRight = /\\s+$/;\n\nmodule.exports = function parsejson(data) {\n  if ('string' != typeof data || !data) {\n    return null;\n  }\n\n  data = data.replace(rtrimLeft, '').replace(rtrimRight, '');\n\n  // Attempt to parse using the native JSON parser first\n  if (global.JSON && JSON.parse) {\n    return JSON.parse(data);\n  }\n\n  if (rvalidchars.test(data.replace(rvalidescape, '@')\n      .replace(rvalidtokens, ']')\n      .replace(rvalidbraces, ''))) {\n    return (new Function('return ' + data))();\n  }\n};","module.exports = require(\"npm:parsejson@0.0.1/index\");","/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\n\nexports.encode = function (obj) {\n  var str = '';\n\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      if (str.length) str += '&';\n      str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n    }\n  }\n\n  return str;\n};\n\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\n\nexports.decode = function(qs){\n  var qry = {};\n  var pairs = qs.split('&');\n  for (var i = 0, l = pairs.length; i < l; i++) {\n    var pair = pairs[i].split('=');\n    qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n  }\n  return qry;\n};\n","module.exports = require(\"npm:parseqs@0.0.2/index\");","/**\n * Module dependencies.\n */\n\nvar parser = require('engine.io-parser');\nvar Emitter = require('component-emitter');\n\n/**\n * Module exports.\n */\n\nmodule.exports = Transport;\n\n/**\n * Transport abstract constructor.\n *\n * @param {Object} options.\n * @api private\n */\n\nfunction Transport (opts) {\n  this.path = opts.path;\n  this.hostname = opts.hostname;\n  this.port = opts.port;\n  this.secure = opts.secure;\n  this.query = opts.query;\n  this.timestampParam = opts.timestampParam;\n  this.timestampRequests = opts.timestampRequests;\n  this.readyState = '';\n  this.agent = opts.agent || false;\n  this.socket = opts.socket;\n  this.enablesXDR = opts.enablesXDR;\n\n  // SSL options for Node.js client\n  this.pfx = opts.pfx;\n  this.key = opts.key;\n  this.passphrase = opts.passphrase;\n  this.cert = opts.cert;\n  this.ca = opts.ca;\n  this.ciphers = opts.ciphers;\n  this.rejectUnauthorized = opts.rejectUnauthorized;\n\n  // other options for Node.js client\n  this.extraHeaders = opts.extraHeaders;\n}\n\n/**\n * Mix in `Emitter`.\n */\n\nEmitter(Transport.prototype);\n\n/**\n * Emits an error.\n *\n * @param {String} str\n * @return {Transport} for chaining\n * @api public\n */\n\nTransport.prototype.onError = function (msg, desc) {\n  var err = new Error(msg);\n  err.type = 'TransportError';\n  err.description = desc;\n  this.emit('error', err);\n  return this;\n};\n\n/**\n * Opens the transport.\n *\n * @api public\n */\n\nTransport.prototype.open = function () {\n  if ('closed' == this.readyState || '' == this.readyState) {\n    this.readyState = 'opening';\n    this.doOpen();\n  }\n\n  return this;\n};\n\n/**\n * Closes the transport.\n *\n * @api private\n */\n\nTransport.prototype.close = function () {\n  if ('opening' == this.readyState || 'open' == this.readyState) {\n    this.doClose();\n    this.onClose();\n  }\n\n  return this;\n};\n\n/**\n * Sends multiple packets.\n *\n * @param {Array} packets\n * @api private\n */\n\nTransport.prototype.send = function(packets){\n  if ('open' == this.readyState) {\n    this.write(packets);\n  } else {\n    throw new Error('Transport not open');\n  }\n};\n\n/**\n * Called upon open\n *\n * @api private\n */\n\nTransport.prototype.onOpen = function () {\n  this.readyState = 'open';\n  this.writable = true;\n  this.emit('open');\n};\n\n/**\n * Called with data.\n *\n * @param {String} data\n * @api private\n */\n\nTransport.prototype.onData = function(data){\n  var packet = parser.decodePacket(data, this.socket.binaryType);\n  this.onPacket(packet);\n};\n\n/**\n * Called with a decoded packet.\n */\n\nTransport.prototype.onPacket = function (packet) {\n  this.emit('packet', packet);\n};\n\n/**\n * Called upon close.\n *\n * @api private\n */\n\nTransport.prototype.onClose = function () {\n  this.readyState = 'closed';\n  this.emit('close');\n};\n","/* */ \nvar transports = require('./transports/index');\nvar Emitter = require('component-emitter');\nvar debug = require('debug')('engine.io-client:socket');\nvar index = require('indexof');\nvar parser = require('engine.io-parser');\nvar parseuri = require('parseuri');\nvar parsejson = require('parsejson');\nvar parseqs = require('parseqs');\nmodule.exports = Socket;\nfunction noop() {}\nfunction Socket(uri, opts) {\n  if (!(this instanceof Socket))\n    return new Socket(uri, opts);\n  opts = opts || {};\n  if (uri && 'object' == typeof uri) {\n    opts = uri;\n    uri = null;\n  }\n  if (uri) {\n    uri = parseuri(uri);\n    opts.hostname = uri.host;\n    opts.secure = uri.protocol == 'https' || uri.protocol == 'wss';\n    opts.port = uri.port;\n    if (uri.query)\n      opts.query = uri.query;\n  } else if (opts.host) {\n    opts.hostname = parseuri(opts.host).host;\n  }\n  this.secure = null != opts.secure ? opts.secure : (global.location && 'https:' == location.protocol);\n  if (opts.hostname && !opts.port) {\n    opts.port = this.secure ? '443' : '80';\n  }\n  this.agent = opts.agent || false;\n  this.hostname = opts.hostname || (global.location ? location.hostname : 'localhost');\n  this.port = opts.port || (global.location && location.port ? location.port : (this.secure ? 443 : 80));\n  this.query = opts.query || {};\n  if ('string' == typeof this.query)\n    this.query = parseqs.decode(this.query);\n  this.upgrade = false !== opts.upgrade;\n  this.path = (opts.path || '/engine.io').replace(/\\/$/, '') + '/';\n  this.forceJSONP = !!opts.forceJSONP;\n  this.jsonp = false !== opts.jsonp;\n  this.forceBase64 = !!opts.forceBase64;\n  this.enablesXDR = !!opts.enablesXDR;\n  this.timestampParam = opts.timestampParam || 't';\n  this.timestampRequests = opts.timestampRequests;\n  this.transports = opts.transports || ['polling', 'websocket'];\n  this.readyState = '';\n  this.writeBuffer = [];\n  this.policyPort = opts.policyPort || 843;\n  this.rememberUpgrade = opts.rememberUpgrade || false;\n  this.binaryType = null;\n  this.onlyBinaryUpgrades = opts.onlyBinaryUpgrades;\n  this.perMessageDeflate = false !== opts.perMessageDeflate ? (opts.perMessageDeflate || {}) : false;\n  if (true === this.perMessageDeflate)\n    this.perMessageDeflate = {};\n  if (this.perMessageDeflate && null == this.perMessageDeflate.threshold) {\n    this.perMessageDeflate.threshold = 1024;\n  }\n  this.pfx = opts.pfx || null;\n  this.key = opts.key || null;\n  this.passphrase = opts.passphrase || null;\n  this.cert = opts.cert || null;\n  this.ca = opts.ca || null;\n  this.ciphers = opts.ciphers || null;\n  this.rejectUnauthorized = opts.rejectUnauthorized === undefined ? true : opts.rejectUnauthorized;\n  var freeGlobal = typeof global == 'object' && global;\n  if (freeGlobal.global === freeGlobal) {\n    if (opts.extraHeaders && Object.keys(opts.extraHeaders).length > 0) {\n      this.extraHeaders = opts.extraHeaders;\n    }\n  }\n  this.open();\n}\nSocket.priorWebsocketSuccess = false;\nEmitter(Socket.prototype);\nSocket.protocol = parser.protocol;\nSocket.Socket = Socket;\nSocket.Transport = require('./transport');\nSocket.transports = require('./transports/index');\nSocket.parser = require('engine.io-parser');\nSocket.prototype.createTransport = function(name) {\n  debug('creating transport \"%s\"', name);\n  var query = clone(this.query);\n  query.EIO = parser.protocol;\n  query.transport = name;\n  if (this.id)\n    query.sid = this.id;\n  var transport = new transports[name]({\n    agent: this.agent,\n    hostname: this.hostname,\n    port: this.port,\n    secure: this.secure,\n    path: this.path,\n    query: query,\n    forceJSONP: this.forceJSONP,\n    jsonp: this.jsonp,\n    forceBase64: this.forceBase64,\n    enablesXDR: this.enablesXDR,\n    timestampRequests: this.timestampRequests,\n    timestampParam: this.timestampParam,\n    policyPort: this.policyPort,\n    socket: this,\n    pfx: this.pfx,\n    key: this.key,\n    passphrase: this.passphrase,\n    cert: this.cert,\n    ca: this.ca,\n    ciphers: this.ciphers,\n    rejectUnauthorized: this.rejectUnauthorized,\n    perMessageDeflate: this.perMessageDeflate,\n    extraHeaders: this.extraHeaders\n  });\n  return transport;\n};\nfunction clone(obj) {\n  var o = {};\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      o[i] = obj[i];\n    }\n  }\n  return o;\n}\nSocket.prototype.open = function() {\n  var transport;\n  if (this.rememberUpgrade && Socket.priorWebsocketSuccess && this.transports.indexOf('websocket') != -1) {\n    transport = 'websocket';\n  } else if (0 === this.transports.length) {\n    var self = this;\n    setTimeout(function() {\n      self.emit('error', 'No transports available');\n    }, 0);\n    return;\n  } else {\n    transport = this.transports[0];\n  }\n  this.readyState = 'opening';\n  try {\n    transport = this.createTransport(transport);\n  } catch (e) {\n    this.transports.shift();\n    this.open();\n    return;\n  }\n  transport.open();\n  this.setTransport(transport);\n};\nSocket.prototype.setTransport = function(transport) {\n  debug('setting transport %s', transport.name);\n  var self = this;\n  if (this.transport) {\n    debug('clearing existing transport %s', this.transport.name);\n    this.transport.removeAllListeners();\n  }\n  this.transport = transport;\n  transport.on('drain', function() {\n    self.onDrain();\n  }).on('packet', function(packet) {\n    self.onPacket(packet);\n  }).on('error', function(e) {\n    self.onError(e);\n  }).on('close', function() {\n    self.onClose('transport close');\n  });\n};\nSocket.prototype.probe = function(name) {\n  debug('probing transport \"%s\"', name);\n  var transport = this.createTransport(name, {probe: 1}),\n      failed = false,\n      self = this;\n  Socket.priorWebsocketSuccess = false;\n  function onTransportOpen() {\n    if (self.onlyBinaryUpgrades) {\n      var upgradeLosesBinary = !this.supportsBinary && self.transport.supportsBinary;\n      failed = failed || upgradeLosesBinary;\n    }\n    if (failed)\n      return;\n    debug('probe transport \"%s\" opened', name);\n    transport.send([{\n      type: 'ping',\n      data: 'probe'\n    }]);\n    transport.once('packet', function(msg) {\n      if (failed)\n        return;\n      if ('pong' == msg.type && 'probe' == msg.data) {\n        debug('probe transport \"%s\" pong', name);\n        self.upgrading = true;\n        self.emit('upgrading', transport);\n        if (!transport)\n          return;\n        Socket.priorWebsocketSuccess = 'websocket' == transport.name;\n        debug('pausing current transport \"%s\"', self.transport.name);\n        self.transport.pause(function() {\n          if (failed)\n            return;\n          if ('closed' == self.readyState)\n            return;\n          debug('changing transport and sending upgrade packet');\n          cleanup();\n          self.setTransport(transport);\n          transport.send([{type: 'upgrade'}]);\n          self.emit('upgrade', transport);\n          transport = null;\n          self.upgrading = false;\n          self.flush();\n        });\n      } else {\n        debug('probe transport \"%s\" failed', name);\n        var err = new Error('probe error');\n        err.transport = transport.name;\n        self.emit('upgradeError', err);\n      }\n    });\n  }\n  function freezeTransport() {\n    if (failed)\n      return;\n    failed = true;\n    cleanup();\n    transport.close();\n    transport = null;\n  }\n  function onerror(err) {\n    var error = new Error('probe error: ' + err);\n    error.transport = transport.name;\n    freezeTransport();\n    debug('probe transport \"%s\" failed because of error: %s', name, err);\n    self.emit('upgradeError', error);\n  }\n  function onTransportClose() {\n    onerror(\"transport closed\");\n  }\n  function onclose() {\n    onerror(\"socket closed\");\n  }\n  function onupgrade(to) {\n    if (transport && to.name != transport.name) {\n      debug('\"%s\" works - aborting \"%s\"', to.name, transport.name);\n      freezeTransport();\n    }\n  }\n  function cleanup() {\n    transport.removeListener('open', onTransportOpen);\n    transport.removeListener('error', onerror);\n    transport.removeListener('close', onTransportClose);\n    self.removeListener('close', onclose);\n    self.removeListener('upgrading', onupgrade);\n  }\n  transport.once('open', onTransportOpen);\n  transport.once('error', onerror);\n  transport.once('close', onTransportClose);\n  this.once('close', onclose);\n  this.once('upgrading', onupgrade);\n  transport.open();\n};\nSocket.prototype.onOpen = function() {\n  debug('socket open');\n  this.readyState = 'open';\n  Socket.priorWebsocketSuccess = 'websocket' == this.transport.name;\n  this.emit('open');\n  this.flush();\n  if ('open' == this.readyState && this.upgrade && this.transport.pause) {\n    debug('starting upgrade probes');\n    for (var i = 0,\n        l = this.upgrades.length; i < l; i++) {\n      this.probe(this.upgrades[i]);\n    }\n  }\n};\nSocket.prototype.onPacket = function(packet) {\n  if ('opening' == this.readyState || 'open' == this.readyState) {\n    debug('socket receive: type \"%s\", data \"%s\"', packet.type, packet.data);\n    this.emit('packet', packet);\n    this.emit('heartbeat');\n    switch (packet.type) {\n      case 'open':\n        this.onHandshake(parsejson(packet.data));\n        break;\n      case 'pong':\n        this.setPing();\n        this.emit('pong');\n        break;\n      case 'error':\n        var err = new Error('server error');\n        err.code = packet.data;\n        this.onError(err);\n        break;\n      case 'message':\n        this.emit('data', packet.data);\n        this.emit('message', packet.data);\n        break;\n    }\n  } else {\n    debug('packet received with socket readyState \"%s\"', this.readyState);\n  }\n};\nSocket.prototype.onHandshake = function(data) {\n  this.emit('handshake', data);\n  this.id = data.sid;\n  this.transport.query.sid = data.sid;\n  this.upgrades = this.filterUpgrades(data.upgrades);\n  this.pingInterval = data.pingInterval;\n  this.pingTimeout = data.pingTimeout;\n  this.onOpen();\n  if ('closed' == this.readyState)\n    return;\n  this.setPing();\n  this.removeListener('heartbeat', this.onHeartbeat);\n  this.on('heartbeat', this.onHeartbeat);\n};\nSocket.prototype.onHeartbeat = function(timeout) {\n  clearTimeout(this.pingTimeoutTimer);\n  var self = this;\n  self.pingTimeoutTimer = setTimeout(function() {\n    if ('closed' == self.readyState)\n      return;\n    self.onClose('ping timeout');\n  }, timeout || (self.pingInterval + self.pingTimeout));\n};\nSocket.prototype.setPing = function() {\n  var self = this;\n  clearTimeout(self.pingIntervalTimer);\n  self.pingIntervalTimer = setTimeout(function() {\n    debug('writing ping packet - expecting pong within %sms', self.pingTimeout);\n    self.ping();\n    self.onHeartbeat(self.pingTimeout);\n  }, self.pingInterval);\n};\nSocket.prototype.ping = function() {\n  var self = this;\n  this.sendPacket('ping', function() {\n    self.emit('ping');\n  });\n};\nSocket.prototype.onDrain = function() {\n  this.writeBuffer.splice(0, this.prevBufferLen);\n  this.prevBufferLen = 0;\n  if (0 === this.writeBuffer.length) {\n    this.emit('drain');\n  } else {\n    this.flush();\n  }\n};\nSocket.prototype.flush = function() {\n  if ('closed' != this.readyState && this.transport.writable && !this.upgrading && this.writeBuffer.length) {\n    debug('flushing %d packets in socket', this.writeBuffer.length);\n    this.transport.send(this.writeBuffer);\n    this.prevBufferLen = this.writeBuffer.length;\n    this.emit('flush');\n  }\n};\nSocket.prototype.write = Socket.prototype.send = function(msg, options, fn) {\n  this.sendPacket('message', msg, options, fn);\n  return this;\n};\nSocket.prototype.sendPacket = function(type, data, options, fn) {\n  if ('function' == typeof data) {\n    fn = data;\n    data = undefined;\n  }\n  if ('function' == typeof options) {\n    fn = options;\n    options = null;\n  }\n  if ('closing' == this.readyState || 'closed' == this.readyState) {\n    return;\n  }\n  options = options || {};\n  options.compress = false !== options.compress;\n  var packet = {\n    type: type,\n    data: data,\n    options: options\n  };\n  this.emit('packetCreate', packet);\n  this.writeBuffer.push(packet);\n  if (fn)\n    this.once('flush', fn);\n  this.flush();\n};\nSocket.prototype.close = function() {\n  if ('opening' == this.readyState || 'open' == this.readyState) {\n    this.readyState = 'closing';\n    var self = this;\n    if (this.writeBuffer.length) {\n      this.once('drain', function() {\n        if (this.upgrading) {\n          waitForUpgrade();\n        } else {\n          close();\n        }\n      });\n    } else if (this.upgrading) {\n      waitForUpgrade();\n    } else {\n      close();\n    }\n  }\n  function close() {\n    self.onClose('forced close');\n    debug('socket closing - telling transport to close');\n    self.transport.close();\n  }\n  function cleanupAndClose() {\n    self.removeListener('upgrade', cleanupAndClose);\n    self.removeListener('upgradeError', cleanupAndClose);\n    close();\n  }\n  function waitForUpgrade() {\n    self.once('upgrade', cleanupAndClose);\n    self.once('upgradeError', cleanupAndClose);\n  }\n  return this;\n};\nSocket.prototype.onError = function(err) {\n  debug('socket error %j', err);\n  Socket.priorWebsocketSuccess = false;\n  this.emit('error', err);\n  this.onClose('transport error', err);\n};\nSocket.prototype.onClose = function(reason, desc) {\n  if ('opening' == this.readyState || 'open' == this.readyState || 'closing' == this.readyState) {\n    debug('socket close with reason: \"%s\"', reason);\n    var self = this;\n    clearTimeout(this.pingIntervalTimer);\n    clearTimeout(this.pingTimeoutTimer);\n    this.transport.removeAllListeners('close');\n    this.transport.close();\n    this.transport.removeAllListeners();\n    this.readyState = 'closed';\n    this.id = null;\n    this.emit('close', reason, desc);\n    self.writeBuffer = [];\n    self.prevBufferLen = 0;\n  }\n};\nSocket.prototype.filterUpgrades = function(upgrades) {\n  var filteredUpgrades = [];\n  for (var i = 0,\n      j = upgrades.length; i < j; i++) {\n    if (~index(this.transports, upgrades[i]))\n      filteredUpgrades.push(upgrades[i]);\n  }\n  return filteredUpgrades;\n};\n","\n/**\n * Gets the keys for an object.\n *\n * @return {Array} keys\n * @api private\n */\n\nmodule.exports = Object.keys || function keys (obj){\n  var arr = [];\n  var has = Object.prototype.hasOwnProperty;\n\n  for (var i in obj) {\n    if (has.call(obj, i)) {\n      arr.push(i);\n    }\n  }\n  return arr;\n};\n","/* */ \n(function(Buffer) {\n  var isArray = require('isarray');\n  module.exports = hasBinary;\n  function hasBinary(data) {\n    function _hasBinary(obj) {\n      if (!obj)\n        return false;\n      if ((global.Buffer && global.Buffer.isBuffer(obj)) || (global.ArrayBuffer && obj instanceof ArrayBuffer) || (global.Blob && obj instanceof Blob) || (global.File && obj instanceof File)) {\n        return true;\n      }\n      if (isArray(obj)) {\n        for (var i = 0; i < obj.length; i++) {\n          if (_hasBinary(obj[i])) {\n            return true;\n          }\n        }\n      } else if (obj && 'object' == typeof obj) {\n        if (obj.toJSON) {\n          obj = obj.toJSON();\n        }\n        for (var key in obj) {\n          if (Object.prototype.hasOwnProperty.call(obj, key) && _hasBinary(obj[key])) {\n            return true;\n          }\n        }\n      }\n      return false;\n    }\n    return _hasBinary(data);\n  }\n})(require('buffer').Buffer);\n","module.exports = require(\"npm:has-binary@0.1.6/index\");","/**\n * An abstraction for slicing an arraybuffer even when\n * ArrayBuffer.prototype.slice is not supported\n *\n * @api public\n */\n\nmodule.exports = function(arraybuffer, start, end) {\n  var bytes = arraybuffer.byteLength;\n  start = start || 0;\n  end = end || bytes;\n\n  if (arraybuffer.slice) { return arraybuffer.slice(start, end); }\n\n  if (start < 0) { start += bytes; }\n  if (end < 0) { end += bytes; }\n  if (end > bytes) { end = bytes; }\n\n  if (start >= bytes || start >= end || bytes === 0) {\n    return new ArrayBuffer(0);\n  }\n\n  var abv = new Uint8Array(arraybuffer);\n  var result = new Uint8Array(end - start);\n  for (var i = start, ii = 0; i < end; i++, ii++) {\n    result[ii] = abv[i];\n  }\n  return result.buffer;\n};\n","module.exports = require(\"npm:arraybuffer.slice@0.0.6/index\");","/*\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n(function(chars){\n  \"use strict\";\n\n  exports.encode = function(arraybuffer) {\n    var bytes = new Uint8Array(arraybuffer),\n    i, len = bytes.length, base64 = \"\";\n\n    for (i = 0; i < len; i+=3) {\n      base64 += chars[bytes[i] >> 2];\n      base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n      base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n      base64 += chars[bytes[i + 2] & 63];\n    }\n\n    if ((len % 3) === 2) {\n      base64 = base64.substring(0, base64.length - 1) + \"=\";\n    } else if (len % 3 === 1) {\n      base64 = base64.substring(0, base64.length - 2) + \"==\";\n    }\n\n    return base64;\n  };\n\n  exports.decode =  function(base64) {\n    var bufferLength = base64.length * 0.75,\n    len = base64.length, i, p = 0,\n    encoded1, encoded2, encoded3, encoded4;\n\n    if (base64[base64.length - 1] === \"=\") {\n      bufferLength--;\n      if (base64[base64.length - 2] === \"=\") {\n        bufferLength--;\n      }\n    }\n\n    var arraybuffer = new ArrayBuffer(bufferLength),\n    bytes = new Uint8Array(arraybuffer);\n\n    for (i = 0; i < len; i+=4) {\n      encoded1 = chars.indexOf(base64[i]);\n      encoded2 = chars.indexOf(base64[i+1]);\n      encoded3 = chars.indexOf(base64[i+2]);\n      encoded4 = chars.indexOf(base64[i+3]);\n\n      bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n      bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n      bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n\n    return arraybuffer;\n  };\n})(\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\");\n","module.exports = require(\"npm:base64-arraybuffer@0.1.2/lib/base64-arraybuffer\");","/* */ \nmodule.exports = after\n\nfunction after(count, callback, err_cb) {\n    var bail = false\n    err_cb = err_cb || noop\n    proxy.count = count\n\n    return (count === 0) ? callback() : proxy\n\n    function proxy(err, result) {\n        if (proxy.count <= 0) {\n            throw new Error('after called too many times')\n        }\n        --proxy.count\n\n        // after first error, rest are passed to err_cb\n        if (err) {\n            bail = true\n            callback(err)\n            // future error callbacks will go to error handler\n            callback = err_cb\n        } else if (proxy.count === 0 && !bail) {\n            callback(null, result)\n        }\n    }\n}\n\nfunction noop() {}\n","module.exports = require(\"npm:after@0.8.1/index\");","/* */ \n\"format cjs\";\n/*! https://mths.be/utf8js v2.0.0 by @mathias */\n;(function(root) {\n\n\t// Detect free variables `exports`\n\tvar freeExports = typeof exports == 'object' && exports;\n\n\t// Detect free variable `module`\n\tvar freeModule = typeof module == 'object' && module &&\n\t\tmodule.exports == freeExports && module;\n\n\t// Detect free variable `global`, from Node.js or Browserified code,\n\t// and use it as `root`\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar stringFromCharCode = String.fromCharCode;\n\n\t// Taken from https://mths.be/punycode\n\tfunction ucs2decode(string) {\n\t\tvar output = [];\n\t\tvar counter = 0;\n\t\tvar length = string.length;\n\t\tvar value;\n\t\tvar extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t// Taken from https://mths.be/punycode\n\tfunction ucs2encode(array) {\n\t\tvar length = array.length;\n\t\tvar index = -1;\n\t\tvar value;\n\t\tvar output = '';\n\t\twhile (++index < length) {\n\t\t\tvalue = array[index];\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t}\n\t\treturn output;\n\t}\n\n\tfunction checkScalarValue(codePoint) {\n\t\tif (codePoint >= 0xD800 && codePoint <= 0xDFFF) {\n\t\t\tthrow Error(\n\t\t\t\t'Lone surrogate U+' + codePoint.toString(16).toUpperCase() +\n\t\t\t\t' is not a scalar value'\n\t\t\t);\n\t\t}\n\t}\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction createByte(codePoint, shift) {\n\t\treturn stringFromCharCode(((codePoint >> shift) & 0x3F) | 0x80);\n\t}\n\n\tfunction encodeCodePoint(codePoint) {\n\t\tif ((codePoint & 0xFFFFFF80) == 0) { // 1-byte sequence\n\t\t\treturn stringFromCharCode(codePoint);\n\t\t}\n\t\tvar symbol = '';\n\t\tif ((codePoint & 0xFFFFF800) == 0) { // 2-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 6) & 0x1F) | 0xC0);\n\t\t}\n\t\telse if ((codePoint & 0xFFFF0000) == 0) { // 3-byte sequence\n\t\t\tcheckScalarValue(codePoint);\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 12) & 0x0F) | 0xE0);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\telse if ((codePoint & 0xFFE00000) == 0) { // 4-byte sequence\n\t\t\tsymbol = stringFromCharCode(((codePoint >> 18) & 0x07) | 0xF0);\n\t\t\tsymbol += createByte(codePoint, 12);\n\t\t\tsymbol += createByte(codePoint, 6);\n\t\t}\n\t\tsymbol += stringFromCharCode((codePoint & 0x3F) | 0x80);\n\t\treturn symbol;\n\t}\n\n\tfunction utf8encode(string) {\n\t\tvar codePoints = ucs2decode(string);\n\t\tvar length = codePoints.length;\n\t\tvar index = -1;\n\t\tvar codePoint;\n\t\tvar byteString = '';\n\t\twhile (++index < length) {\n\t\t\tcodePoint = codePoints[index];\n\t\t\tbyteString += encodeCodePoint(codePoint);\n\t\t}\n\t\treturn byteString;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tfunction readContinuationByte() {\n\t\tif (byteIndex >= byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tvar continuationByte = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\tif ((continuationByte & 0xC0) == 0x80) {\n\t\t\treturn continuationByte & 0x3F;\n\t\t}\n\n\t\t// If we end up here, its not a continuation byte\n\t\tthrow Error('Invalid continuation byte');\n\t}\n\n\tfunction decodeSymbol() {\n\t\tvar byte1;\n\t\tvar byte2;\n\t\tvar byte3;\n\t\tvar byte4;\n\t\tvar codePoint;\n\n\t\tif (byteIndex > byteCount) {\n\t\t\tthrow Error('Invalid byte index');\n\t\t}\n\n\t\tif (byteIndex == byteCount) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Read first byte\n\t\tbyte1 = byteArray[byteIndex] & 0xFF;\n\t\tbyteIndex++;\n\n\t\t// 1-byte sequence (no continuation bytes)\n\t\tif ((byte1 & 0x80) == 0) {\n\t\t\treturn byte1;\n\t\t}\n\n\t\t// 2-byte sequence\n\t\tif ((byte1 & 0xE0) == 0xC0) {\n\t\t\tvar byte2 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x1F) << 6) | byte2;\n\t\t\tif (codePoint >= 0x80) {\n\t\t\t\treturn codePoint;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 3-byte sequence (may include unpaired surrogates)\n\t\tif ((byte1 & 0xF0) == 0xE0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x0F) << 12) | (byte2 << 6) | byte3;\n\t\t\tif (codePoint >= 0x0800) {\n\t\t\t\tcheckScalarValue(codePoint);\n\t\t\t\treturn codePoint;\n\t\t\t} else {\n\t\t\t\tthrow Error('Invalid continuation byte');\n\t\t\t}\n\t\t}\n\n\t\t// 4-byte sequence\n\t\tif ((byte1 & 0xF8) == 0xF0) {\n\t\t\tbyte2 = readContinuationByte();\n\t\t\tbyte3 = readContinuationByte();\n\t\t\tbyte4 = readContinuationByte();\n\t\t\tcodePoint = ((byte1 & 0x0F) << 0x12) | (byte2 << 0x0C) |\n\t\t\t\t(byte3 << 0x06) | byte4;\n\t\t\tif (codePoint >= 0x010000 && codePoint <= 0x10FFFF) {\n\t\t\t\treturn codePoint;\n\t\t\t}\n\t\t}\n\n\t\tthrow Error('Invalid UTF-8 detected');\n\t}\n\n\tvar byteArray;\n\tvar byteCount;\n\tvar byteIndex;\n\tfunction utf8decode(byteString) {\n\t\tbyteArray = ucs2decode(byteString);\n\t\tbyteCount = byteArray.length;\n\t\tbyteIndex = 0;\n\t\tvar codePoints = [];\n\t\tvar tmp;\n\t\twhile ((tmp = decodeSymbol()) !== false) {\n\t\t\tcodePoints.push(tmp);\n\t\t}\n\t\treturn ucs2encode(codePoints);\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar utf8 = {\n\t\t'version': '2.0.0',\n\t\t'encode': utf8encode,\n\t\t'decode': utf8decode\n\t};\n\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine(function() {\n\t\t\treturn utf8;\n\t\t});\n\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\tif (freeModule) { // in Node.js or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = utf8;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tvar object = {};\n\t\t\tvar hasOwnProperty = object.hasOwnProperty;\n\t\t\tfor (var key in utf8) {\n\t\t\t\thasOwnProperty.call(utf8, key) && (freeExports[key] = utf8[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.utf8 = utf8;\n\t}\n\n}(this));\n","module.exports = require(\"npm:utf8@2.1.0/utf8.js\");","/**\n * Create a blob builder even when vendor prefixes exist\n */\n\nvar BlobBuilder = global.BlobBuilder\n  || global.WebKitBlobBuilder\n  || global.MSBlobBuilder\n  || global.MozBlobBuilder;\n\n/**\n * Check if Blob constructor is supported\n */\n\nvar blobSupported = (function() {\n  try {\n    var a = new Blob(['hi']);\n    return a.size === 2;\n  } catch(e) {\n    return false;\n  }\n})();\n\n/**\n * Check if Blob constructor supports ArrayBufferViews\n * Fails in Safari 6, so we need to map to ArrayBuffers there.\n */\n\nvar blobSupportsArrayBufferView = blobSupported && (function() {\n  try {\n    var b = new Blob([new Uint8Array([1,2])]);\n    return b.size === 2;\n  } catch(e) {\n    return false;\n  }\n})();\n\n/**\n * Check if BlobBuilder is supported\n */\n\nvar blobBuilderSupported = BlobBuilder\n  && BlobBuilder.prototype.append\n  && BlobBuilder.prototype.getBlob;\n\n/**\n * Helper function that maps ArrayBufferViews to ArrayBuffers\n * Used by BlobBuilder constructor and old browsers that didn't\n * support it in the Blob constructor.\n */\n\nfunction mapArrayBufferViews(ary) {\n  for (var i = 0; i < ary.length; i++) {\n    var chunk = ary[i];\n    if (chunk.buffer instanceof ArrayBuffer) {\n      var buf = chunk.buffer;\n\n      // if this is a subarray, make a copy so we only\n      // include the subarray region from the underlying buffer\n      if (chunk.byteLength !== buf.byteLength) {\n        var copy = new Uint8Array(chunk.byteLength);\n        copy.set(new Uint8Array(buf, chunk.byteOffset, chunk.byteLength));\n        buf = copy.buffer;\n      }\n\n      ary[i] = buf;\n    }\n  }\n}\n\nfunction BlobBuilderConstructor(ary, options) {\n  options = options || {};\n\n  var bb = new BlobBuilder();\n  mapArrayBufferViews(ary);\n\n  for (var i = 0; i < ary.length; i++) {\n    bb.append(ary[i]);\n  }\n\n  return (options.type) ? bb.getBlob(options.type) : bb.getBlob();\n};\n\nfunction BlobConstructor(ary, options) {\n  mapArrayBufferViews(ary);\n  return new Blob(ary, options || {});\n};\n\nmodule.exports = (function() {\n  if (blobSupported) {\n    return blobSupportsArrayBufferView ? global.Blob : BlobConstructor;\n  } else if (blobBuilderSupported) {\n    return BlobBuilderConstructor;\n  } else {\n    return undefined;\n  }\n})();\n","module.exports = require(\"npm:blob@0.0.4/index\");","/* */ \nvar keys = require('./keys');\nvar hasBinary = require('has-binary');\nvar sliceBuffer = require('arraybuffer.slice');\nvar base64encoder = require('base64-arraybuffer');\nvar after = require('after');\nvar utf8 = require('utf8');\nvar isAndroid = navigator.userAgent.match(/Android/i);\nvar isPhantomJS = /PhantomJS/i.test(navigator.userAgent);\nvar dontSendBlobs = isAndroid || isPhantomJS;\nexports.protocol = 3;\nvar packets = exports.packets = {\n  open: 0,\n  close: 1,\n  ping: 2,\n  pong: 3,\n  message: 4,\n  upgrade: 5,\n  noop: 6\n};\nvar packetslist = keys(packets);\nvar err = {\n  type: 'error',\n  data: 'parser error'\n};\nvar Blob = require('blob');\nexports.encodePacket = function(packet, supportsBinary, utf8encode, callback) {\n  if ('function' == typeof supportsBinary) {\n    callback = supportsBinary;\n    supportsBinary = false;\n  }\n  if ('function' == typeof utf8encode) {\n    callback = utf8encode;\n    utf8encode = null;\n  }\n  var data = (packet.data === undefined) ? undefined : packet.data.buffer || packet.data;\n  if (global.ArrayBuffer && data instanceof ArrayBuffer) {\n    return encodeArrayBuffer(packet, supportsBinary, callback);\n  } else if (Blob && data instanceof global.Blob) {\n    return encodeBlob(packet, supportsBinary, callback);\n  }\n  if (data && data.base64) {\n    return encodeBase64Object(packet, callback);\n  }\n  var encoded = packets[packet.type];\n  if (undefined !== packet.data) {\n    encoded += utf8encode ? utf8.encode(String(packet.data)) : String(packet.data);\n  }\n  return callback('' + encoded);\n};\nfunction encodeBase64Object(packet, callback) {\n  var message = 'b' + exports.packets[packet.type] + packet.data.data;\n  return callback(message);\n}\nfunction encodeArrayBuffer(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n  var data = packet.data;\n  var contentArray = new Uint8Array(data);\n  var resultBuffer = new Uint8Array(1 + data.byteLength);\n  resultBuffer[0] = packets[packet.type];\n  for (var i = 0; i < contentArray.length; i++) {\n    resultBuffer[i + 1] = contentArray[i];\n  }\n  return callback(resultBuffer.buffer);\n}\nfunction encodeBlobAsArrayBuffer(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n  var fr = new FileReader();\n  fr.onload = function() {\n    packet.data = fr.result;\n    exports.encodePacket(packet, supportsBinary, true, callback);\n  };\n  return fr.readAsArrayBuffer(packet.data);\n}\nfunction encodeBlob(packet, supportsBinary, callback) {\n  if (!supportsBinary) {\n    return exports.encodeBase64Packet(packet, callback);\n  }\n  if (dontSendBlobs) {\n    return encodeBlobAsArrayBuffer(packet, supportsBinary, callback);\n  }\n  var length = new Uint8Array(1);\n  length[0] = packets[packet.type];\n  var blob = new Blob([length.buffer, packet.data]);\n  return callback(blob);\n}\nexports.encodeBase64Packet = function(packet, callback) {\n  var message = 'b' + exports.packets[packet.type];\n  if (Blob && packet.data instanceof global.Blob) {\n    var fr = new FileReader();\n    fr.onload = function() {\n      var b64 = fr.result.split(',')[1];\n      callback(message + b64);\n    };\n    return fr.readAsDataURL(packet.data);\n  }\n  var b64data;\n  try {\n    b64data = String.fromCharCode.apply(null, new Uint8Array(packet.data));\n  } catch (e) {\n    var typed = new Uint8Array(packet.data);\n    var basic = new Array(typed.length);\n    for (var i = 0; i < typed.length; i++) {\n      basic[i] = typed[i];\n    }\n    b64data = String.fromCharCode.apply(null, basic);\n  }\n  message += global.btoa(b64data);\n  return callback(message);\n};\nexports.decodePacket = function(data, binaryType, utf8decode) {\n  if (typeof data == 'string' || data === undefined) {\n    if (data.charAt(0) == 'b') {\n      return exports.decodeBase64Packet(data.substr(1), binaryType);\n    }\n    if (utf8decode) {\n      try {\n        data = utf8.decode(data);\n      } catch (e) {\n        return err;\n      }\n    }\n    var type = data.charAt(0);\n    if (Number(type) != type || !packetslist[type]) {\n      return err;\n    }\n    if (data.length > 1) {\n      return {\n        type: packetslist[type],\n        data: data.substring(1)\n      };\n    } else {\n      return {type: packetslist[type]};\n    }\n  }\n  var asArray = new Uint8Array(data);\n  var type = asArray[0];\n  var rest = sliceBuffer(data, 1);\n  if (Blob && binaryType === 'blob') {\n    rest = new Blob([rest]);\n  }\n  return {\n    type: packetslist[type],\n    data: rest\n  };\n};\nexports.decodeBase64Packet = function(msg, binaryType) {\n  var type = packetslist[msg.charAt(0)];\n  if (!global.ArrayBuffer) {\n    return {\n      type: type,\n      data: {\n        base64: true,\n        data: msg.substr(1)\n      }\n    };\n  }\n  var data = base64encoder.decode(msg.substr(1));\n  if (binaryType === 'blob' && Blob) {\n    data = new Blob([data]);\n  }\n  return {\n    type: type,\n    data: data\n  };\n};\nexports.encodePayload = function(packets, supportsBinary, callback) {\n  if (typeof supportsBinary == 'function') {\n    callback = supportsBinary;\n    supportsBinary = null;\n  }\n  var isBinary = hasBinary(packets);\n  if (supportsBinary && isBinary) {\n    if (Blob && !dontSendBlobs) {\n      return exports.encodePayloadAsBlob(packets, callback);\n    }\n    return exports.encodePayloadAsArrayBuffer(packets, callback);\n  }\n  if (!packets.length) {\n    return callback('0:');\n  }\n  function setLengthHeader(message) {\n    return message.length + ':' + message;\n  }\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, !isBinary ? false : supportsBinary, true, function(message) {\n      doneCallback(null, setLengthHeader(message));\n    });\n  }\n  map(packets, encodeOne, function(err, results) {\n    return callback(results.join(''));\n  });\n};\nfunction map(ary, each, done) {\n  var result = new Array(ary.length);\n  var next = after(ary.length, done);\n  var eachWithIndex = function(i, el, cb) {\n    each(el, function(error, msg) {\n      result[i] = msg;\n      cb(error, result);\n    });\n  };\n  for (var i = 0; i < ary.length; i++) {\n    eachWithIndex(i, ary[i], next);\n  }\n}\nexports.decodePayload = function(data, binaryType, callback) {\n  if (typeof data != 'string') {\n    return exports.decodePayloadAsBinary(data, binaryType, callback);\n  }\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n  var packet;\n  if (data == '') {\n    return callback(err, 0, 1);\n  }\n  var length = '',\n      n,\n      msg;\n  for (var i = 0,\n      l = data.length; i < l; i++) {\n    var chr = data.charAt(i);\n    if (':' != chr) {\n      length += chr;\n    } else {\n      if ('' == length || (length != (n = Number(length)))) {\n        return callback(err, 0, 1);\n      }\n      msg = data.substr(i + 1, n);\n      if (length != msg.length) {\n        return callback(err, 0, 1);\n      }\n      if (msg.length) {\n        packet = exports.decodePacket(msg, binaryType, true);\n        if (err.type == packet.type && err.data == packet.data) {\n          return callback(err, 0, 1);\n        }\n        var ret = callback(packet, i + n, l);\n        if (false === ret)\n          return;\n      }\n      i += n;\n      length = '';\n    }\n  }\n  if (length != '') {\n    return callback(err, 0, 1);\n  }\n};\nexports.encodePayloadAsArrayBuffer = function(packets, callback) {\n  if (!packets.length) {\n    return callback(new ArrayBuffer(0));\n  }\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, true, true, function(data) {\n      return doneCallback(null, data);\n    });\n  }\n  map(packets, encodeOne, function(err, encodedPackets) {\n    var totalLength = encodedPackets.reduce(function(acc, p) {\n      var len;\n      if (typeof p === 'string') {\n        len = p.length;\n      } else {\n        len = p.byteLength;\n      }\n      return acc + len.toString().length + len + 2;\n    }, 0);\n    var resultArray = new Uint8Array(totalLength);\n    var bufferIndex = 0;\n    encodedPackets.forEach(function(p) {\n      var isString = typeof p === 'string';\n      var ab = p;\n      if (isString) {\n        var view = new Uint8Array(p.length);\n        for (var i = 0; i < p.length; i++) {\n          view[i] = p.charCodeAt(i);\n        }\n        ab = view.buffer;\n      }\n      if (isString) {\n        resultArray[bufferIndex++] = 0;\n      } else {\n        resultArray[bufferIndex++] = 1;\n      }\n      var lenStr = ab.byteLength.toString();\n      for (var i = 0; i < lenStr.length; i++) {\n        resultArray[bufferIndex++] = parseInt(lenStr[i]);\n      }\n      resultArray[bufferIndex++] = 255;\n      var view = new Uint8Array(ab);\n      for (var i = 0; i < view.length; i++) {\n        resultArray[bufferIndex++] = view[i];\n      }\n    });\n    return callback(resultArray.buffer);\n  });\n};\nexports.encodePayloadAsBlob = function(packets, callback) {\n  function encodeOne(packet, doneCallback) {\n    exports.encodePacket(packet, true, true, function(encoded) {\n      var binaryIdentifier = new Uint8Array(1);\n      binaryIdentifier[0] = 1;\n      if (typeof encoded === 'string') {\n        var view = new Uint8Array(encoded.length);\n        for (var i = 0; i < encoded.length; i++) {\n          view[i] = encoded.charCodeAt(i);\n        }\n        encoded = view.buffer;\n        binaryIdentifier[0] = 0;\n      }\n      var len = (encoded instanceof ArrayBuffer) ? encoded.byteLength : encoded.size;\n      var lenStr = len.toString();\n      var lengthAry = new Uint8Array(lenStr.length + 1);\n      for (var i = 0; i < lenStr.length; i++) {\n        lengthAry[i] = parseInt(lenStr[i]);\n      }\n      lengthAry[lenStr.length] = 255;\n      if (Blob) {\n        var blob = new Blob([binaryIdentifier.buffer, lengthAry.buffer, encoded]);\n        doneCallback(null, blob);\n      }\n    });\n  }\n  map(packets, encodeOne, function(err, results) {\n    return callback(new Blob(results));\n  });\n};\nexports.decodePayloadAsBinary = function(data, binaryType, callback) {\n  if (typeof binaryType === 'function') {\n    callback = binaryType;\n    binaryType = null;\n  }\n  var bufferTail = data;\n  var buffers = [];\n  var numberTooLong = false;\n  while (bufferTail.byteLength > 0) {\n    var tailArray = new Uint8Array(bufferTail);\n    var isString = tailArray[0] === 0;\n    var msgLength = '';\n    for (var i = 1; ; i++) {\n      if (tailArray[i] == 255)\n        break;\n      if (msgLength.length > 310) {\n        numberTooLong = true;\n        break;\n      }\n      msgLength += tailArray[i];\n    }\n    if (numberTooLong)\n      return callback(err, 0, 1);\n    bufferTail = sliceBuffer(bufferTail, 2 + msgLength.length);\n    msgLength = parseInt(msgLength);\n    var msg = sliceBuffer(bufferTail, 0, msgLength);\n    if (isString) {\n      try {\n        msg = String.fromCharCode.apply(null, new Uint8Array(msg));\n      } catch (e) {\n        var typed = new Uint8Array(msg);\n        msg = '';\n        for (var i = 0; i < typed.length; i++) {\n          msg += String.fromCharCode(typed[i]);\n        }\n      }\n    }\n    buffers.push(msg);\n    bufferTail = sliceBuffer(bufferTail, msgLength);\n  }\n  var total = buffers.length;\n  buffers.forEach(function(buffer, i) {\n    callback(exports.decodePacket(buffer, binaryType, true), i, total);\n  });\n};\n","module.exports = require(\"npm:engine.io-parser@1.2.4/lib/browser.js\");","/* */ \nmodule.exports = require('./socket');\nmodule.exports.parser = require('engine.io-parser');\n","/* */ \nmodule.exports = require('./lib/index');\n","module.exports = require(\"npm:engine.io-client@1.6.11/index\");","/* */ \n\nvar indexOf = [].indexOf;\n\nmodule.exports = function(arr, obj){\n  if (indexOf) return arr.indexOf(obj);\n  for (var i = 0; i < arr.length; ++i) {\n    if (arr[i] === obj) return i;\n  }\n  return -1;\n};","module.exports = require(\"npm:indexof@0.0.1/index\");","\n/**\n * Expose `Backoff`.\n */\n\nmodule.exports = Backoff;\n\n/**\n * Initialize backoff timer with `opts`.\n *\n * - `min` initial timeout in milliseconds [100]\n * - `max` max timeout [10000]\n * - `jitter` [0]\n * - `factor` [2]\n *\n * @param {Object} opts\n * @api public\n */\n\nfunction Backoff(opts) {\n  opts = opts || {};\n  this.ms = opts.min || 100;\n  this.max = opts.max || 10000;\n  this.factor = opts.factor || 2;\n  this.jitter = opts.jitter > 0 && opts.jitter <= 1 ? opts.jitter : 0;\n  this.attempts = 0;\n}\n\n/**\n * Return the backoff duration.\n *\n * @return {Number}\n * @api public\n */\n\nBackoff.prototype.duration = function(){\n  var ms = this.ms * Math.pow(this.factor, this.attempts++);\n  if (this.jitter) {\n    var rand =  Math.random();\n    var deviation = Math.floor(rand * this.jitter * ms);\n    ms = (Math.floor(rand * 10) & 1) == 0  ? ms - deviation : ms + deviation;\n  }\n  return Math.min(ms, this.max) | 0;\n};\n\n/**\n * Reset the number of attempts.\n *\n * @api public\n */\n\nBackoff.prototype.reset = function(){\n  this.attempts = 0;\n};\n\n/**\n * Set the minimum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMin = function(min){\n  this.ms = min;\n};\n\n/**\n * Set the maximum duration\n *\n * @api public\n */\n\nBackoff.prototype.setMax = function(max){\n  this.max = max;\n};\n\n/**\n * Set the jitter\n *\n * @api public\n */\n\nBackoff.prototype.setJitter = function(jitter){\n  this.jitter = jitter;\n};\n\n","module.exports = require(\"npm:backo2@1.0.2/index\");","/* */ \nvar eio = require('engine.io-client');\nvar Socket = require('./socket');\nvar Emitter = require('component-emitter');\nvar parser = require('socket.io-parser');\nvar on = require('./on');\nvar bind = require('component-bind');\nvar debug = require('debug')('socket.io-client:manager');\nvar indexOf = require('indexof');\nvar Backoff = require('backo2');\nvar has = Object.prototype.hasOwnProperty;\nmodule.exports = Manager;\nfunction Manager(uri, opts) {\n  if (!(this instanceof Manager))\n    return new Manager(uri, opts);\n  if (uri && ('object' == typeof uri)) {\n    opts = uri;\n    uri = undefined;\n  }\n  opts = opts || {};\n  opts.path = opts.path || '/socket.io';\n  this.nsps = {};\n  this.subs = [];\n  this.opts = opts;\n  this.reconnection(opts.reconnection !== false);\n  this.reconnectionAttempts(opts.reconnectionAttempts || Infinity);\n  this.reconnectionDelay(opts.reconnectionDelay || 1000);\n  this.reconnectionDelayMax(opts.reconnectionDelayMax || 5000);\n  this.randomizationFactor(opts.randomizationFactor || 0.5);\n  this.backoff = new Backoff({\n    min: this.reconnectionDelay(),\n    max: this.reconnectionDelayMax(),\n    jitter: this.randomizationFactor()\n  });\n  this.timeout(null == opts.timeout ? 20000 : opts.timeout);\n  this.readyState = 'closed';\n  this.uri = uri;\n  this.connecting = [];\n  this.lastPing = null;\n  this.encoding = false;\n  this.packetBuffer = [];\n  this.encoder = new parser.Encoder();\n  this.decoder = new parser.Decoder();\n  this.autoConnect = opts.autoConnect !== false;\n  if (this.autoConnect)\n    this.open();\n}\nManager.prototype.emitAll = function() {\n  this.emit.apply(this, arguments);\n  for (var nsp in this.nsps) {\n    if (has.call(this.nsps, nsp)) {\n      this.nsps[nsp].emit.apply(this.nsps[nsp], arguments);\n    }\n  }\n};\nManager.prototype.updateSocketIds = function() {\n  for (var nsp in this.nsps) {\n    if (has.call(this.nsps, nsp)) {\n      this.nsps[nsp].id = this.engine.id;\n    }\n  }\n};\nEmitter(Manager.prototype);\nManager.prototype.reconnection = function(v) {\n  if (!arguments.length)\n    return this._reconnection;\n  this._reconnection = !!v;\n  return this;\n};\nManager.prototype.reconnectionAttempts = function(v) {\n  if (!arguments.length)\n    return this._reconnectionAttempts;\n  this._reconnectionAttempts = v;\n  return this;\n};\nManager.prototype.reconnectionDelay = function(v) {\n  if (!arguments.length)\n    return this._reconnectionDelay;\n  this._reconnectionDelay = v;\n  this.backoff && this.backoff.setMin(v);\n  return this;\n};\nManager.prototype.randomizationFactor = function(v) {\n  if (!arguments.length)\n    return this._randomizationFactor;\n  this._randomizationFactor = v;\n  this.backoff && this.backoff.setJitter(v);\n  return this;\n};\nManager.prototype.reconnectionDelayMax = function(v) {\n  if (!arguments.length)\n    return this._reconnectionDelayMax;\n  this._reconnectionDelayMax = v;\n  this.backoff && this.backoff.setMax(v);\n  return this;\n};\nManager.prototype.timeout = function(v) {\n  if (!arguments.length)\n    return this._timeout;\n  this._timeout = v;\n  return this;\n};\nManager.prototype.maybeReconnectOnOpen = function() {\n  if (!this.reconnecting && this._reconnection && this.backoff.attempts === 0) {\n    this.reconnect();\n  }\n};\nManager.prototype.open = Manager.prototype.connect = function(fn) {\n  debug('readyState %s', this.readyState);\n  if (~this.readyState.indexOf('open'))\n    return this;\n  debug('opening %s', this.uri);\n  this.engine = eio(this.uri, this.opts);\n  var socket = this.engine;\n  var self = this;\n  this.readyState = 'opening';\n  this.skipReconnect = false;\n  var openSub = on(socket, 'open', function() {\n    self.onopen();\n    fn && fn();\n  });\n  var errorSub = on(socket, 'error', function(data) {\n    debug('connect_error');\n    self.cleanup();\n    self.readyState = 'closed';\n    self.emitAll('connect_error', data);\n    if (fn) {\n      var err = new Error('Connection error');\n      err.data = data;\n      fn(err);\n    } else {\n      self.maybeReconnectOnOpen();\n    }\n  });\n  if (false !== this._timeout) {\n    var timeout = this._timeout;\n    debug('connect attempt will timeout after %d', timeout);\n    var timer = setTimeout(function() {\n      debug('connect attempt timed out after %d', timeout);\n      openSub.destroy();\n      socket.close();\n      socket.emit('error', 'timeout');\n      self.emitAll('connect_timeout', timeout);\n    }, timeout);\n    this.subs.push({destroy: function() {\n        clearTimeout(timer);\n      }});\n  }\n  this.subs.push(openSub);\n  this.subs.push(errorSub);\n  return this;\n};\nManager.prototype.onopen = function() {\n  debug('open');\n  this.cleanup();\n  this.readyState = 'open';\n  this.emit('open');\n  var socket = this.engine;\n  this.subs.push(on(socket, 'data', bind(this, 'ondata')));\n  this.subs.push(on(socket, 'ping', bind(this, 'onping')));\n  this.subs.push(on(socket, 'pong', bind(this, 'onpong')));\n  this.subs.push(on(socket, 'error', bind(this, 'onerror')));\n  this.subs.push(on(socket, 'close', bind(this, 'onclose')));\n  this.subs.push(on(this.decoder, 'decoded', bind(this, 'ondecoded')));\n};\nManager.prototype.onping = function() {\n  this.lastPing = new Date;\n  this.emitAll('ping');\n};\nManager.prototype.onpong = function() {\n  this.emitAll('pong', new Date - this.lastPing);\n};\nManager.prototype.ondata = function(data) {\n  this.decoder.add(data);\n};\nManager.prototype.ondecoded = function(packet) {\n  this.emit('packet', packet);\n};\nManager.prototype.onerror = function(err) {\n  debug('error', err);\n  this.emitAll('error', err);\n};\nManager.prototype.socket = function(nsp) {\n  var socket = this.nsps[nsp];\n  if (!socket) {\n    socket = new Socket(this, nsp);\n    this.nsps[nsp] = socket;\n    var self = this;\n    socket.on('connecting', onConnecting);\n    socket.on('connect', function() {\n      socket.id = self.engine.id;\n    });\n    if (this.autoConnect) {\n      onConnecting();\n    }\n  }\n  function onConnecting() {\n    if (!~indexOf(self.connecting, socket)) {\n      self.connecting.push(socket);\n    }\n  }\n  return socket;\n};\nManager.prototype.destroy = function(socket) {\n  var index = indexOf(this.connecting, socket);\n  if (~index)\n    this.connecting.splice(index, 1);\n  if (this.connecting.length)\n    return;\n  this.close();\n};\nManager.prototype.packet = function(packet) {\n  debug('writing packet %j', packet);\n  var self = this;\n  if (!self.encoding) {\n    self.encoding = true;\n    this.encoder.encode(packet, function(encodedPackets) {\n      for (var i = 0; i < encodedPackets.length; i++) {\n        self.engine.write(encodedPackets[i], packet.options);\n      }\n      self.encoding = false;\n      self.processPacketQueue();\n    });\n  } else {\n    self.packetBuffer.push(packet);\n  }\n};\nManager.prototype.processPacketQueue = function() {\n  if (this.packetBuffer.length > 0 && !this.encoding) {\n    var pack = this.packetBuffer.shift();\n    this.packet(pack);\n  }\n};\nManager.prototype.cleanup = function() {\n  debug('cleanup');\n  var sub;\n  while (sub = this.subs.shift())\n    sub.destroy();\n  this.packetBuffer = [];\n  this.encoding = false;\n  this.lastPing = null;\n  this.decoder.destroy();\n};\nManager.prototype.close = Manager.prototype.disconnect = function() {\n  debug('disconnect');\n  this.skipReconnect = true;\n  this.reconnecting = false;\n  if ('opening' == this.readyState) {\n    this.cleanup();\n  }\n  this.backoff.reset();\n  this.readyState = 'closed';\n  if (this.engine)\n    this.engine.close();\n};\nManager.prototype.onclose = function(reason) {\n  debug('onclose');\n  this.cleanup();\n  this.backoff.reset();\n  this.readyState = 'closed';\n  this.emit('close', reason);\n  if (this._reconnection && !this.skipReconnect) {\n    this.reconnect();\n  }\n};\nManager.prototype.reconnect = function() {\n  if (this.reconnecting || this.skipReconnect)\n    return this;\n  var self = this;\n  if (this.backoff.attempts >= this._reconnectionAttempts) {\n    debug('reconnect failed');\n    this.backoff.reset();\n    this.emitAll('reconnect_failed');\n    this.reconnecting = false;\n  } else {\n    var delay = this.backoff.duration();\n    debug('will wait %dms before reconnect attempt', delay);\n    this.reconnecting = true;\n    var timer = setTimeout(function() {\n      if (self.skipReconnect)\n        return;\n      debug('attempting reconnect');\n      self.emitAll('reconnect_attempt', self.backoff.attempts);\n      self.emitAll('reconnecting', self.backoff.attempts);\n      if (self.skipReconnect)\n        return;\n      self.open(function(err) {\n        if (err) {\n          debug('reconnect attempt error');\n          self.reconnecting = false;\n          self.reconnect();\n          self.emitAll('reconnect_error', err.data);\n        } else {\n          debug('reconnect success');\n          self.onreconnect();\n        }\n      });\n    }, delay);\n    this.subs.push({destroy: function() {\n        clearTimeout(timer);\n      }});\n  }\n};\nManager.prototype.onreconnect = function() {\n  var attempt = this.backoff.attempts;\n  this.reconnecting = false;\n  this.backoff.reset();\n  this.updateSocketIds();\n  this.emitAll('reconnect', attempt);\n};\n","/* */ \n\"format cjs\";\n/*! JSON v3.3.2 | http://bestiejs.github.io/json3 | Copyright 2012-2014, Kit Cambridge | http://kit.mit-license.org */\n;(function () {\n  // Detect the `define` function exposed by asynchronous module loaders. The\n  // strict `define` check is necessary for compatibility with `r.js`.\n  var isLoader = typeof define === \"function\" && define.amd;\n\n  // A set of types used to distinguish objects from primitives.\n  var objectTypes = {\n    \"function\": true,\n    \"object\": true\n  };\n\n  // Detect the `exports` object exposed by CommonJS implementations.\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\n\n  // Use the `global` object exposed by Node (including Browserify via\n  // `insert-module-globals`), Narwhal, and Ringo as the default context,\n  // and the `window` object in browsers. Rhino exports a `global` function\n  // instead.\n  var root = objectTypes[typeof window] && window || this,\n      freeGlobal = freeExports && objectTypes[typeof module] && module && !module.nodeType && typeof global == \"object\" && global;\n\n  if (freeGlobal && (freeGlobal[\"global\"] === freeGlobal || freeGlobal[\"window\"] === freeGlobal || freeGlobal[\"self\"] === freeGlobal)) {\n    root = freeGlobal;\n  }\n\n  // Public: Initializes JSON 3 using the given `context` object, attaching the\n  // `stringify` and `parse` functions to the specified `exports` object.\n  function runInContext(context, exports) {\n    context || (context = root[\"Object\"]());\n    exports || (exports = root[\"Object\"]());\n\n    // Native constructor aliases.\n    var Number = context[\"Number\"] || root[\"Number\"],\n        String = context[\"String\"] || root[\"String\"],\n        Object = context[\"Object\"] || root[\"Object\"],\n        Date = context[\"Date\"] || root[\"Date\"],\n        SyntaxError = context[\"SyntaxError\"] || root[\"SyntaxError\"],\n        TypeError = context[\"TypeError\"] || root[\"TypeError\"],\n        Math = context[\"Math\"] || root[\"Math\"],\n        nativeJSON = context[\"JSON\"] || root[\"JSON\"];\n\n    // Delegate to the native `stringify` and `parse` implementations.\n    if (typeof nativeJSON == \"object\" && nativeJSON) {\n      exports.stringify = nativeJSON.stringify;\n      exports.parse = nativeJSON.parse;\n    }\n\n    // Convenience aliases.\n    var objectProto = Object.prototype,\n        getClass = objectProto.toString,\n        isProperty, forEach, undef;\n\n    // Test the `Date#getUTC*` methods. Based on work by @Yaffle.\n    var isExtended = new Date(-3509827334573292);\n    try {\n      // The `getUTCFullYear`, `Month`, and `Date` methods return nonsensical\n      // results for certain dates in Opera >= 10.53.\n      isExtended = isExtended.getUTCFullYear() == -109252 && isExtended.getUTCMonth() === 0 && isExtended.getUTCDate() === 1 &&\n        // Safari < 2.0.2 stores the internal millisecond time value correctly,\n        // but clips the values returned by the date methods to the range of\n        // signed 32-bit integers ([-2 ** 31, 2 ** 31 - 1]).\n        isExtended.getUTCHours() == 10 && isExtended.getUTCMinutes() == 37 && isExtended.getUTCSeconds() == 6 && isExtended.getUTCMilliseconds() == 708;\n    } catch (exception) {}\n\n    // Internal: Determines whether the native `JSON.stringify` and `parse`\n    // implementations are spec-compliant. Based on work by Ken Snyder.\n    function has(name) {\n      if (has[name] !== undef) {\n        // Return cached feature test result.\n        return has[name];\n      }\n      var isSupported;\n      if (name == \"bug-string-char-index\") {\n        // IE <= 7 doesn't support accessing string characters using square\n        // bracket notation. IE 8 only supports this for primitives.\n        isSupported = \"a\"[0] != \"a\";\n      } else if (name == \"json\") {\n        // Indicates whether both `JSON.stringify` and `JSON.parse` are\n        // supported.\n        isSupported = has(\"json-stringify\") && has(\"json-parse\");\n      } else {\n        var value, serialized = '{\"a\":[1,true,false,null,\"\\\\u0000\\\\b\\\\n\\\\f\\\\r\\\\t\"]}';\n        // Test `JSON.stringify`.\n        if (name == \"json-stringify\") {\n          var stringify = exports.stringify, stringifySupported = typeof stringify == \"function\" && isExtended;\n          if (stringifySupported) {\n            // A test function object with a custom `toJSON` method.\n            (value = function () {\n              return 1;\n            }).toJSON = value;\n            try {\n              stringifySupported =\n                // Firefox 3.1b1 and b2 serialize string, number, and boolean\n                // primitives as object literals.\n                stringify(0) === \"0\" &&\n                // FF 3.1b1, b2, and JSON 2 serialize wrapped primitives as object\n                // literals.\n                stringify(new Number()) === \"0\" &&\n                stringify(new String()) == '\"\"' &&\n                // FF 3.1b1, 2 throw an error if the value is `null`, `undefined`, or\n                // does not define a canonical JSON representation (this applies to\n                // objects with `toJSON` properties as well, *unless* they are nested\n                // within an object or array).\n                stringify(getClass) === undef &&\n                // IE 8 serializes `undefined` as `\"undefined\"`. Safari <= 5.1.7 and\n                // FF 3.1b3 pass this test.\n                stringify(undef) === undef &&\n                // Safari <= 5.1.7 and FF 3.1b3 throw `Error`s and `TypeError`s,\n                // respectively, if the value is omitted entirely.\n                stringify() === undef &&\n                // FF 3.1b1, 2 throw an error if the given value is not a number,\n                // string, array, object, Boolean, or `null` literal. This applies to\n                // objects with custom `toJSON` methods as well, unless they are nested\n                // inside object or array literals. YUI 3.0.0b1 ignores custom `toJSON`\n                // methods entirely.\n                stringify(value) === \"1\" &&\n                stringify([value]) == \"[1]\" &&\n                // Prototype <= 1.6.1 serializes `[undefined]` as `\"[]\"` instead of\n                // `\"[null]\"`.\n                stringify([undef]) == \"[null]\" &&\n                // YUI 3.0.0b1 fails to serialize `null` literals.\n                stringify(null) == \"null\" &&\n                // FF 3.1b1, 2 halts serialization if an array contains a function:\n                // `[1, true, getClass, 1]` serializes as \"[1,true,],\". FF 3.1b3\n                // elides non-JSON values from objects and arrays, unless they\n                // define custom `toJSON` methods.\n                stringify([undef, getClass, null]) == \"[null,null,null]\" &&\n                // Simple serialization test. FF 3.1b1 uses Unicode escape sequences\n                // where character escape codes are expected (e.g., `\\b` => `\\u0008`).\n                stringify({ \"a\": [value, true, false, null, \"\\x00\\b\\n\\f\\r\\t\"] }) == serialized &&\n                // FF 3.1b1 and b2 ignore the `filter` and `width` arguments.\n                stringify(null, value) === \"1\" &&\n                stringify([1, 2], null, 1) == \"[\\n 1,\\n 2\\n]\" &&\n                // JSON 2, Prototype <= 1.7, and older WebKit builds incorrectly\n                // serialize extended years.\n                stringify(new Date(-8.64e15)) == '\"-271821-04-20T00:00:00.000Z\"' &&\n                // The milliseconds are optional in ES 5, but required in 5.1.\n                stringify(new Date(8.64e15)) == '\"+275760-09-13T00:00:00.000Z\"' &&\n                // Firefox <= 11.0 incorrectly serializes years prior to 0 as negative\n                // four-digit years instead of six-digit years. Credits: @Yaffle.\n                stringify(new Date(-621987552e5)) == '\"-000001-01-01T00:00:00.000Z\"' &&\n                // Safari <= 5.1.5 and Opera >= 10.53 incorrectly serialize millisecond\n                // values less than 1000. Credits: @Yaffle.\n                stringify(new Date(-1)) == '\"1969-12-31T23:59:59.999Z\"';\n            } catch (exception) {\n              stringifySupported = false;\n            }\n          }\n          isSupported = stringifySupported;\n        }\n        // Test `JSON.parse`.\n        if (name == \"json-parse\") {\n          var parse = exports.parse;\n          if (typeof parse == \"function\") {\n            try {\n              // FF 3.1b1, b2 will throw an exception if a bare literal is provided.\n              // Conforming implementations should also coerce the initial argument to\n              // a string prior to parsing.\n              if (parse(\"0\") === 0 && !parse(false)) {\n                // Simple parsing test.\n                value = parse(serialized);\n                var parseSupported = value[\"a\"].length == 5 && value[\"a\"][0] === 1;\n                if (parseSupported) {\n                  try {\n                    // Safari <= 5.1.2 and FF 3.1b1 allow unescaped tabs in strings.\n                    parseSupported = !parse('\"\\t\"');\n                  } catch (exception) {}\n                  if (parseSupported) {\n                    try {\n                      // FF 4.0 and 4.0.1 allow leading `+` signs and leading\n                      // decimal points. FF 4.0, 4.0.1, and IE 9-10 also allow\n                      // certain octal literals.\n                      parseSupported = parse(\"01\") !== 1;\n                    } catch (exception) {}\n                  }\n                  if (parseSupported) {\n                    try {\n                      // FF 4.0, 4.0.1, and Rhino 1.7R3-R4 allow trailing decimal\n                      // points. These environments, along with FF 3.1b1 and 2,\n                      // also allow trailing commas in JSON objects and arrays.\n                      parseSupported = parse(\"1.\") !== 1;\n                    } catch (exception) {}\n                  }\n                }\n              }\n            } catch (exception) {\n              parseSupported = false;\n            }\n          }\n          isSupported = parseSupported;\n        }\n      }\n      return has[name] = !!isSupported;\n    }\n\n    if (!has(\"json\")) {\n      // Common `[[Class]]` name aliases.\n      var functionClass = \"[object Function]\",\n          dateClass = \"[object Date]\",\n          numberClass = \"[object Number]\",\n          stringClass = \"[object String]\",\n          arrayClass = \"[object Array]\",\n          booleanClass = \"[object Boolean]\";\n\n      // Detect incomplete support for accessing string characters by index.\n      var charIndexBuggy = has(\"bug-string-char-index\");\n\n      // Define additional utility methods if the `Date` methods are buggy.\n      if (!isExtended) {\n        var floor = Math.floor;\n        // A mapping between the months of the year and the number of days between\n        // January 1st and the first of the respective month.\n        var Months = [0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334];\n        // Internal: Calculates the number of days between the Unix epoch and the\n        // first day of the given month.\n        var getDay = function (year, month) {\n          return Months[month] + 365 * (year - 1970) + floor((year - 1969 + (month = +(month > 1))) / 4) - floor((year - 1901 + month) / 100) + floor((year - 1601 + month) / 400);\n        };\n      }\n\n      // Internal: Determines if a property is a direct property of the given\n      // object. Delegates to the native `Object#hasOwnProperty` method.\n      if (!(isProperty = objectProto.hasOwnProperty)) {\n        isProperty = function (property) {\n          var members = {}, constructor;\n          if ((members.__proto__ = null, members.__proto__ = {\n            // The *proto* property cannot be set multiple times in recent\n            // versions of Firefox and SeaMonkey.\n            \"toString\": 1\n          }, members).toString != getClass) {\n            // Safari <= 2.0.3 doesn't implement `Object#hasOwnProperty`, but\n            // supports the mutable *proto* property.\n            isProperty = function (property) {\n              // Capture and break the object's prototype chain (see section 8.6.2\n              // of the ES 5.1 spec). The parenthesized expression prevents an\n              // unsafe transformation by the Closure Compiler.\n              var original = this.__proto__, result = property in (this.__proto__ = null, this);\n              // Restore the original prototype chain.\n              this.__proto__ = original;\n              return result;\n            };\n          } else {\n            // Capture a reference to the top-level `Object` constructor.\n            constructor = members.constructor;\n            // Use the `constructor` property to simulate `Object#hasOwnProperty` in\n            // other environments.\n            isProperty = function (property) {\n              var parent = (this.constructor || constructor).prototype;\n              return property in this && !(property in parent && this[property] === parent[property]);\n            };\n          }\n          members = null;\n          return isProperty.call(this, property);\n        };\n      }\n\n      // Internal: Normalizes the `for...in` iteration algorithm across\n      // environments. Each enumerated key is yielded to a `callback` function.\n      forEach = function (object, callback) {\n        var size = 0, Properties, members, property;\n\n        // Tests for bugs in the current environment's `for...in` algorithm. The\n        // `valueOf` property inherits the non-enumerable flag from\n        // `Object.prototype` in older versions of IE, Netscape, and Mozilla.\n        (Properties = function () {\n          this.valueOf = 0;\n        }).prototype.valueOf = 0;\n\n        // Iterate over a new instance of the `Properties` class.\n        members = new Properties();\n        for (property in members) {\n          // Ignore all properties inherited from `Object.prototype`.\n          if (isProperty.call(members, property)) {\n            size++;\n          }\n        }\n        Properties = members = null;\n\n        // Normalize the iteration algorithm.\n        if (!size) {\n          // A list of non-enumerable properties inherited from `Object.prototype`.\n          members = [\"valueOf\", \"toString\", \"toLocaleString\", \"propertyIsEnumerable\", \"isPrototypeOf\", \"hasOwnProperty\", \"constructor\"];\n          // IE <= 8, Mozilla 1.0, and Netscape 6.2 ignore shadowed non-enumerable\n          // properties.\n          forEach = function (object, callback) {\n            var isFunction = getClass.call(object) == functionClass, property, length;\n            var hasProperty = !isFunction && typeof object.constructor != \"function\" && objectTypes[typeof object.hasOwnProperty] && object.hasOwnProperty || isProperty;\n            for (property in object) {\n              // Gecko <= 1.0 enumerates the `prototype` property of functions under\n              // certain conditions; IE does not.\n              if (!(isFunction && property == \"prototype\") && hasProperty.call(object, property)) {\n                callback(property);\n              }\n            }\n            // Manually invoke the callback for each non-enumerable property.\n            for (length = members.length; property = members[--length]; hasProperty.call(object, property) && callback(property));\n          };\n        } else if (size == 2) {\n          // Safari <= 2.0.4 enumerates shadowed properties twice.\n          forEach = function (object, callback) {\n            // Create a set of iterated properties.\n            var members = {}, isFunction = getClass.call(object) == functionClass, property;\n            for (property in object) {\n              // Store each property name to prevent double enumeration. The\n              // `prototype` property of functions is not enumerated due to cross-\n              // environment inconsistencies.\n              if (!(isFunction && property == \"prototype\") && !isProperty.call(members, property) && (members[property] = 1) && isProperty.call(object, property)) {\n                callback(property);\n              }\n            }\n          };\n        } else {\n          // No bugs detected; use the standard `for...in` algorithm.\n          forEach = function (object, callback) {\n            var isFunction = getClass.call(object) == functionClass, property, isConstructor;\n            for (property in object) {\n              if (!(isFunction && property == \"prototype\") && isProperty.call(object, property) && !(isConstructor = property === \"constructor\")) {\n                callback(property);\n              }\n            }\n            // Manually invoke the callback for the `constructor` property due to\n            // cross-environment inconsistencies.\n            if (isConstructor || isProperty.call(object, (property = \"constructor\"))) {\n              callback(property);\n            }\n          };\n        }\n        return forEach(object, callback);\n      };\n\n      // Public: Serializes a JavaScript `value` as a JSON string. The optional\n      // `filter` argument may specify either a function that alters how object and\n      // array members are serialized, or an array of strings and numbers that\n      // indicates which properties should be serialized. The optional `width`\n      // argument may be either a string or number that specifies the indentation\n      // level of the output.\n      if (!has(\"json-stringify\")) {\n        // Internal: A map of control characters and their escaped equivalents.\n        var Escapes = {\n          92: \"\\\\\\\\\",\n          34: '\\\\\"',\n          8: \"\\\\b\",\n          12: \"\\\\f\",\n          10: \"\\\\n\",\n          13: \"\\\\r\",\n          9: \"\\\\t\"\n        };\n\n        // Internal: Converts `value` into a zero-padded string such that its\n        // length is at least equal to `width`. The `width` must be <= 6.\n        var leadingZeroes = \"000000\";\n        var toPaddedString = function (width, value) {\n          // The `|| 0` expression is necessary to work around a bug in\n          // Opera <= 7.54u2 where `0 == -0`, but `String(-0) !== \"0\"`.\n          return (leadingZeroes + (value || 0)).slice(-width);\n        };\n\n        // Internal: Double-quotes a string `value`, replacing all ASCII control\n        // characters (characters with code unit values between 0 and 31) with\n        // their escaped equivalents. This is an implementation of the\n        // `Quote(value)` operation defined in ES 5.1 section 15.12.3.\n        var unicodePrefix = \"\\\\u00\";\n        var quote = function (value) {\n          var result = '\"', index = 0, length = value.length, useCharIndex = !charIndexBuggy || length > 10;\n          var symbols = useCharIndex && (charIndexBuggy ? value.split(\"\") : value);\n          for (; index < length; index++) {\n            var charCode = value.charCodeAt(index);\n            // If the character is a control character, append its Unicode or\n            // shorthand escape sequence; otherwise, append the character as-is.\n            switch (charCode) {\n              case 8: case 9: case 10: case 12: case 13: case 34: case 92:\n                result += Escapes[charCode];\n                break;\n              default:\n                if (charCode < 32) {\n                  result += unicodePrefix + toPaddedString(2, charCode.toString(16));\n                  break;\n                }\n                result += useCharIndex ? symbols[index] : value.charAt(index);\n            }\n          }\n          return result + '\"';\n        };\n\n        // Internal: Recursively serializes an object. Implements the\n        // `Str(key, holder)`, `JO(value)`, and `JA(value)` operations.\n        var serialize = function (property, object, callback, properties, whitespace, indentation, stack) {\n          var value, className, year, month, date, time, hours, minutes, seconds, milliseconds, results, element, index, length, prefix, result;\n          try {\n            // Necessary for host object support.\n            value = object[property];\n          } catch (exception) {}\n          if (typeof value == \"object\" && value) {\n            className = getClass.call(value);\n            if (className == dateClass && !isProperty.call(value, \"toJSON\")) {\n              if (value > -1 / 0 && value < 1 / 0) {\n                // Dates are serialized according to the `Date#toJSON` method\n                // specified in ES 5.1 section 15.9.5.44. See section 15.9.1.15\n                // for the ISO 8601 date time string format.\n                if (getDay) {\n                  // Manually compute the year, month, date, hours, minutes,\n                  // seconds, and milliseconds if the `getUTC*` methods are\n                  // buggy. Adapted from @Yaffle's `date-shim` project.\n                  date = floor(value / 864e5);\n                  for (year = floor(date / 365.2425) + 1970 - 1; getDay(year + 1, 0) <= date; year++);\n                  for (month = floor((date - getDay(year, 0)) / 30.42); getDay(year, month + 1) <= date; month++);\n                  date = 1 + date - getDay(year, month);\n                  // The `time` value specifies the time within the day (see ES\n                  // 5.1 section 15.9.1.2). The formula `(A % B + B) % B` is used\n                  // to compute `A modulo B`, as the `%` operator does not\n                  // correspond to the `modulo` operation for negative numbers.\n                  time = (value % 864e5 + 864e5) % 864e5;\n                  // The hours, minutes, seconds, and milliseconds are obtained by\n                  // decomposing the time within the day. See section 15.9.1.10.\n                  hours = floor(time / 36e5) % 24;\n                  minutes = floor(time / 6e4) % 60;\n                  seconds = floor(time / 1e3) % 60;\n                  milliseconds = time % 1e3;\n                } else {\n                  year = value.getUTCFullYear();\n                  month = value.getUTCMonth();\n                  date = value.getUTCDate();\n                  hours = value.getUTCHours();\n                  minutes = value.getUTCMinutes();\n                  seconds = value.getUTCSeconds();\n                  milliseconds = value.getUTCMilliseconds();\n                }\n                // Serialize extended years correctly.\n                value = (year <= 0 || year >= 1e4 ? (year < 0 ? \"-\" : \"+\") + toPaddedString(6, year < 0 ? -year : year) : toPaddedString(4, year)) +\n                  \"-\" + toPaddedString(2, month + 1) + \"-\" + toPaddedString(2, date) +\n                  // Months, dates, hours, minutes, and seconds should have two\n                  // digits; milliseconds should have three.\n                  \"T\" + toPaddedString(2, hours) + \":\" + toPaddedString(2, minutes) + \":\" + toPaddedString(2, seconds) +\n                  // Milliseconds are optional in ES 5.0, but required in 5.1.\n                  \".\" + toPaddedString(3, milliseconds) + \"Z\";\n              } else {\n                value = null;\n              }\n            } else if (typeof value.toJSON == \"function\" && ((className != numberClass && className != stringClass && className != arrayClass) || isProperty.call(value, \"toJSON\"))) {\n              // Prototype <= 1.6.1 adds non-standard `toJSON` methods to the\n              // `Number`, `String`, `Date`, and `Array` prototypes. JSON 3\n              // ignores all `toJSON` methods on these objects unless they are\n              // defined directly on an instance.\n              value = value.toJSON(property);\n            }\n          }\n          if (callback) {\n            // If a replacement function was provided, call it to obtain the value\n            // for serialization.\n            value = callback.call(object, property, value);\n          }\n          if (value === null) {\n            return \"null\";\n          }\n          className = getClass.call(value);\n          if (className == booleanClass) {\n            // Booleans are represented literally.\n            return \"\" + value;\n          } else if (className == numberClass) {\n            // JSON numbers must be finite. `Infinity` and `NaN` are serialized as\n            // `\"null\"`.\n            return value > -1 / 0 && value < 1 / 0 ? \"\" + value : \"null\";\n          } else if (className == stringClass) {\n            // Strings are double-quoted and escaped.\n            return quote(\"\" + value);\n          }\n          // Recursively serialize objects and arrays.\n          if (typeof value == \"object\") {\n            // Check for cyclic structures. This is a linear search; performance\n            // is inversely proportional to the number of unique nested objects.\n            for (length = stack.length; length--;) {\n              if (stack[length] === value) {\n                // Cyclic structures cannot be serialized by `JSON.stringify`.\n                throw TypeError();\n              }\n            }\n            // Add the object to the stack of traversed objects.\n            stack.push(value);\n            results = [];\n            // Save the current indentation level and indent one additional level.\n            prefix = indentation;\n            indentation += whitespace;\n            if (className == arrayClass) {\n              // Recursively serialize array elements.\n              for (index = 0, length = value.length; index < length; index++) {\n                element = serialize(index, value, callback, properties, whitespace, indentation, stack);\n                results.push(element === undef ? \"null\" : element);\n              }\n              result = results.length ? (whitespace ? \"[\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"]\" : (\"[\" + results.join(\",\") + \"]\")) : \"[]\";\n            } else {\n              // Recursively serialize object members. Members are selected from\n              // either a user-specified list of property names, or the object\n              // itself.\n              forEach(properties || value, function (property) {\n                var element = serialize(property, value, callback, properties, whitespace, indentation, stack);\n                if (element !== undef) {\n                  // According to ES 5.1 section 15.12.3: \"If `gap` {whitespace}\n                  // is not the empty string, let `member` {quote(property) + \":\"}\n                  // be the concatenation of `member` and the `space` character.\"\n                  // The \"`space` character\" refers to the literal space\n                  // character, not the `space` {width} argument provided to\n                  // `JSON.stringify`.\n                  results.push(quote(property) + \":\" + (whitespace ? \" \" : \"\") + element);\n                }\n              });\n              result = results.length ? (whitespace ? \"{\\n\" + indentation + results.join(\",\\n\" + indentation) + \"\\n\" + prefix + \"}\" : (\"{\" + results.join(\",\") + \"}\")) : \"{}\";\n            }\n            // Remove the object from the traversed object stack.\n            stack.pop();\n            return result;\n          }\n        };\n\n        // Public: `JSON.stringify`. See ES 5.1 section 15.12.3.\n        exports.stringify = function (source, filter, width) {\n          var whitespace, callback, properties, className;\n          if (objectTypes[typeof filter] && filter) {\n            if ((className = getClass.call(filter)) == functionClass) {\n              callback = filter;\n            } else if (className == arrayClass) {\n              // Convert the property names array into a makeshift set.\n              properties = {};\n              for (var index = 0, length = filter.length, value; index < length; value = filter[index++], ((className = getClass.call(value)), className == stringClass || className == numberClass) && (properties[value] = 1));\n            }\n          }\n          if (width) {\n            if ((className = getClass.call(width)) == numberClass) {\n              // Convert the `width` to an integer and create a string containing\n              // `width` number of space characters.\n              if ((width -= width % 1) > 0) {\n                for (whitespace = \"\", width > 10 && (width = 10); whitespace.length < width; whitespace += \" \");\n              }\n            } else if (className == stringClass) {\n              whitespace = width.length <= 10 ? width : width.slice(0, 10);\n            }\n          }\n          // Opera <= 7.54u2 discards the values associated with empty string keys\n          // (`\"\"`) only if they are used directly within an object member list\n          // (e.g., `!(\"\" in { \"\": 1})`).\n          return serialize(\"\", (value = {}, value[\"\"] = source, value), callback, properties, whitespace, \"\", []);\n        };\n      }\n\n      // Public: Parses a JSON source string.\n      if (!has(\"json-parse\")) {\n        var fromCharCode = String.fromCharCode;\n\n        // Internal: A map of escaped control characters and their unescaped\n        // equivalents.\n        var Unescapes = {\n          92: \"\\\\\",\n          34: '\"',\n          47: \"/\",\n          98: \"\\b\",\n          116: \"\\t\",\n          110: \"\\n\",\n          102: \"\\f\",\n          114: \"\\r\"\n        };\n\n        // Internal: Stores the parser state.\n        var Index, Source;\n\n        // Internal: Resets the parser state and throws a `SyntaxError`.\n        var abort = function () {\n          Index = Source = null;\n          throw SyntaxError();\n        };\n\n        // Internal: Returns the next token, or `\"$\"` if the parser has reached\n        // the end of the source string. A token may be a string, number, `null`\n        // literal, or Boolean literal.\n        var lex = function () {\n          var source = Source, length = source.length, value, begin, position, isSigned, charCode;\n          while (Index < length) {\n            charCode = source.charCodeAt(Index);\n            switch (charCode) {\n              case 9: case 10: case 13: case 32:\n                // Skip whitespace tokens, including tabs, carriage returns, line\n                // feeds, and space characters.\n                Index++;\n                break;\n              case 123: case 125: case 91: case 93: case 58: case 44:\n                // Parse a punctuator token (`{`, `}`, `[`, `]`, `:`, or `,`) at\n                // the current position.\n                value = charIndexBuggy ? source.charAt(Index) : source[Index];\n                Index++;\n                return value;\n              case 34:\n                // `\"` delimits a JSON string; advance to the next character and\n                // begin parsing the string. String tokens are prefixed with the\n                // sentinel `@` character to distinguish them from punctuators and\n                // end-of-string tokens.\n                for (value = \"@\", Index++; Index < length;) {\n                  charCode = source.charCodeAt(Index);\n                  if (charCode < 32) {\n                    // Unescaped ASCII control characters (those with a code unit\n                    // less than the space character) are not permitted.\n                    abort();\n                  } else if (charCode == 92) {\n                    // A reverse solidus (`\\`) marks the beginning of an escaped\n                    // control character (including `\"`, `\\`, and `/`) or Unicode\n                    // escape sequence.\n                    charCode = source.charCodeAt(++Index);\n                    switch (charCode) {\n                      case 92: case 34: case 47: case 98: case 116: case 110: case 102: case 114:\n                        // Revive escaped control characters.\n                        value += Unescapes[charCode];\n                        Index++;\n                        break;\n                      case 117:\n                        // `\\u` marks the beginning of a Unicode escape sequence.\n                        // Advance to the first character and validate the\n                        // four-digit code point.\n                        begin = ++Index;\n                        for (position = Index + 4; Index < position; Index++) {\n                          charCode = source.charCodeAt(Index);\n                          // A valid sequence comprises four hexdigits (case-\n                          // insensitive) that form a single hexadecimal value.\n                          if (!(charCode >= 48 && charCode <= 57 || charCode >= 97 && charCode <= 102 || charCode >= 65 && charCode <= 70)) {\n                            // Invalid Unicode escape sequence.\n                            abort();\n                          }\n                        }\n                        // Revive the escaped character.\n                        value += fromCharCode(\"0x\" + source.slice(begin, Index));\n                        break;\n                      default:\n                        // Invalid escape sequence.\n                        abort();\n                    }\n                  } else {\n                    if (charCode == 34) {\n                      // An unescaped double-quote character marks the end of the\n                      // string.\n                      break;\n                    }\n                    charCode = source.charCodeAt(Index);\n                    begin = Index;\n                    // Optimize for the common case where a string is valid.\n                    while (charCode >= 32 && charCode != 92 && charCode != 34) {\n                      charCode = source.charCodeAt(++Index);\n                    }\n                    // Append the string as-is.\n                    value += source.slice(begin, Index);\n                  }\n                }\n                if (source.charCodeAt(Index) == 34) {\n                  // Advance to the next character and return the revived string.\n                  Index++;\n                  return value;\n                }\n                // Unterminated string.\n                abort();\n              default:\n                // Parse numbers and literals.\n                begin = Index;\n                // Advance past the negative sign, if one is specified.\n                if (charCode == 45) {\n                  isSigned = true;\n                  charCode = source.charCodeAt(++Index);\n                }\n                // Parse an integer or floating-point value.\n                if (charCode >= 48 && charCode <= 57) {\n                  // Leading zeroes are interpreted as octal literals.\n                  if (charCode == 48 && ((charCode = source.charCodeAt(Index + 1)), charCode >= 48 && charCode <= 57)) {\n                    // Illegal octal literal.\n                    abort();\n                  }\n                  isSigned = false;\n                  // Parse the integer component.\n                  for (; Index < length && ((charCode = source.charCodeAt(Index)), charCode >= 48 && charCode <= 57); Index++);\n                  // Floats cannot contain a leading decimal point; however, this\n                  // case is already accounted for by the parser.\n                  if (source.charCodeAt(Index) == 46) {\n                    position = ++Index;\n                    // Parse the decimal component.\n                    for (; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);\n                    if (position == Index) {\n                      // Illegal trailing decimal.\n                      abort();\n                    }\n                    Index = position;\n                  }\n                  // Parse exponents. The `e` denoting the exponent is\n                  // case-insensitive.\n                  charCode = source.charCodeAt(Index);\n                  if (charCode == 101 || charCode == 69) {\n                    charCode = source.charCodeAt(++Index);\n                    // Skip past the sign following the exponent, if one is\n                    // specified.\n                    if (charCode == 43 || charCode == 45) {\n                      Index++;\n                    }\n                    // Parse the exponential component.\n                    for (position = Index; position < length && ((charCode = source.charCodeAt(position)), charCode >= 48 && charCode <= 57); position++);\n                    if (position == Index) {\n                      // Illegal empty exponent.\n                      abort();\n                    }\n                    Index = position;\n                  }\n                  // Coerce the parsed value to a JavaScript number.\n                  return +source.slice(begin, Index);\n                }\n                // A negative sign may only precede numbers.\n                if (isSigned) {\n                  abort();\n                }\n                // `true`, `false`, and `null` literals.\n                if (source.slice(Index, Index + 4) == \"true\") {\n                  Index += 4;\n                  return true;\n                } else if (source.slice(Index, Index + 5) == \"false\") {\n                  Index += 5;\n                  return false;\n                } else if (source.slice(Index, Index + 4) == \"null\") {\n                  Index += 4;\n                  return null;\n                }\n                // Unrecognized token.\n                abort();\n            }\n          }\n          // Return the sentinel `$` character if the parser has reached the end\n          // of the source string.\n          return \"$\";\n        };\n\n        // Internal: Parses a JSON `value` token.\n        var get = function (value) {\n          var results, hasMembers;\n          if (value == \"$\") {\n            // Unexpected end of input.\n            abort();\n          }\n          if (typeof value == \"string\") {\n            if ((charIndexBuggy ? value.charAt(0) : value[0]) == \"@\") {\n              // Remove the sentinel `@` character.\n              return value.slice(1);\n            }\n            // Parse object and array literals.\n            if (value == \"[\") {\n              // Parses a JSON array, returning a new JavaScript array.\n              results = [];\n              for (;; hasMembers || (hasMembers = true)) {\n                value = lex();\n                // A closing square bracket marks the end of the array literal.\n                if (value == \"]\") {\n                  break;\n                }\n                // If the array literal contains elements, the current token\n                // should be a comma separating the previous element from the\n                // next.\n                if (hasMembers) {\n                  if (value == \",\") {\n                    value = lex();\n                    if (value == \"]\") {\n                      // Unexpected trailing `,` in array literal.\n                      abort();\n                    }\n                  } else {\n                    // A `,` must separate each array element.\n                    abort();\n                  }\n                }\n                // Elisions and leading commas are not permitted.\n                if (value == \",\") {\n                  abort();\n                }\n                results.push(get(value));\n              }\n              return results;\n            } else if (value == \"{\") {\n              // Parses a JSON object, returning a new JavaScript object.\n              results = {};\n              for (;; hasMembers || (hasMembers = true)) {\n                value = lex();\n                // A closing curly brace marks the end of the object literal.\n                if (value == \"}\") {\n                  break;\n                }\n                // If the object literal contains members, the current token\n                // should be a comma separator.\n                if (hasMembers) {\n                  if (value == \",\") {\n                    value = lex();\n                    if (value == \"}\") {\n                      // Unexpected trailing `,` in object literal.\n                      abort();\n                    }\n                  } else {\n                    // A `,` must separate each object member.\n                    abort();\n                  }\n                }\n                // Leading commas are not permitted, object property names must be\n                // double-quoted strings, and a `:` must separate each property\n                // name and value.\n                if (value == \",\" || typeof value != \"string\" || (charIndexBuggy ? value.charAt(0) : value[0]) != \"@\" || lex() != \":\") {\n                  abort();\n                }\n                results[value.slice(1)] = get(lex());\n              }\n              return results;\n            }\n            // Unexpected token encountered.\n            abort();\n          }\n          return value;\n        };\n\n        // Internal: Updates a traversed object member.\n        var update = function (source, property, callback) {\n          var element = walk(source, property, callback);\n          if (element === undef) {\n            delete source[property];\n          } else {\n            source[property] = element;\n          }\n        };\n\n        // Internal: Recursively traverses a parsed JSON object, invoking the\n        // `callback` function for each value. This is an implementation of the\n        // `Walk(holder, name)` operation defined in ES 5.1 section 15.12.2.\n        var walk = function (source, property, callback) {\n          var value = source[property], length;\n          if (typeof value == \"object\" && value) {\n            // `forEach` can't be used to traverse an array in Opera <= 8.54\n            // because its `Object#hasOwnProperty` implementation returns `false`\n            // for array indices (e.g., `![1, 2, 3].hasOwnProperty(\"0\")`).\n            if (getClass.call(value) == arrayClass) {\n              for (length = value.length; length--;) {\n                update(value, length, callback);\n              }\n            } else {\n              forEach(value, function (property) {\n                update(value, property, callback);\n              });\n            }\n          }\n          return callback.call(source, property, value);\n        };\n\n        // Public: `JSON.parse`. See ES 5.1 section 15.12.2.\n        exports.parse = function (source, callback) {\n          var result, value;\n          Index = 0;\n          Source = \"\" + source;\n          result = get(lex());\n          // If a JSON string contains multiple tokens, it is invalid.\n          if (lex() != \"$\") {\n            abort();\n          }\n          // Reset the parser state.\n          Index = Source = null;\n          return callback && getClass.call(callback) == functionClass ? walk((value = {}, value[\"\"] = result, value), \"\", callback) : result;\n        };\n      }\n    }\n\n    exports[\"runInContext\"] = runInContext;\n    return exports;\n  }\n\n  if (freeExports && !isLoader) {\n    // Export for CommonJS environments.\n    runInContext(root, freeExports);\n  } else {\n    // Export for web browsers and JavaScript engines.\n    var nativeJSON = root.JSON,\n        previousJSON = root[\"JSON3\"],\n        isRestored = false;\n\n    var JSON3 = runInContext(root, (root[\"JSON3\"] = {\n      // Public: Restores the original value of the global `JSON` object and\n      // returns a reference to the `JSON3` object.\n      \"noConflict\": function () {\n        if (!isRestored) {\n          isRestored = true;\n          root.JSON = nativeJSON;\n          root[\"JSON3\"] = previousJSON;\n          nativeJSON = previousJSON = null;\n        }\n        return JSON3;\n      }\n    }));\n\n    root.JSON = {\n      \"parse\": JSON3.parse,\n      \"stringify\": JSON3.stringify\n    };\n  }\n\n  // Export for asynchronous module loaders.\n  if (isLoader) {\n    define(function () {\n      return JSON3;\n    });\n  }\n}).call(this);\n","module.exports = require(\"npm:json3@3.3.2/lib/json3\");","\n/**\n * Expose `Emitter`.\n */\n\nmodule.exports = Emitter;\n\n/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nfunction Emitter(obj) {\n  if (obj) return mixin(obj);\n};\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks[event] = this._callbacks[event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  var self = this;\n  this._callbacks = this._callbacks || {};\n\n  function on() {\n    self.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks[event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks[event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n  var args = [].slice.call(arguments, 1)\n    , callbacks = this._callbacks[event];\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks[event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n","module.exports = require(\"npm:component-emitter@1.1.2/index.js\");","/* */ \n(function(Buffer) {\n  var isArray = require('isarray');\n  var isBuf = require('./is-buffer');\n  exports.deconstructPacket = function(packet) {\n    var buffers = [];\n    var packetData = packet.data;\n    function _deconstructPacket(data) {\n      if (!data)\n        return data;\n      if (isBuf(data)) {\n        var placeholder = {\n          _placeholder: true,\n          num: buffers.length\n        };\n        buffers.push(data);\n        return placeholder;\n      } else if (isArray(data)) {\n        var newData = new Array(data.length);\n        for (var i = 0; i < data.length; i++) {\n          newData[i] = _deconstructPacket(data[i]);\n        }\n        return newData;\n      } else if ('object' == typeof data && !(data instanceof Date)) {\n        var newData = {};\n        for (var key in data) {\n          newData[key] = _deconstructPacket(data[key]);\n        }\n        return newData;\n      }\n      return data;\n    }\n    var pack = packet;\n    pack.data = _deconstructPacket(packetData);\n    pack.attachments = buffers.length;\n    return {\n      packet: pack,\n      buffers: buffers\n    };\n  };\n  exports.reconstructPacket = function(packet, buffers) {\n    var curPlaceHolder = 0;\n    function _reconstructPacket(data) {\n      if (data && data._placeholder) {\n        var buf = buffers[data.num];\n        return buf;\n      } else if (isArray(data)) {\n        for (var i = 0; i < data.length; i++) {\n          data[i] = _reconstructPacket(data[i]);\n        }\n        return data;\n      } else if (data && 'object' == typeof data) {\n        for (var key in data) {\n          data[key] = _reconstructPacket(data[key]);\n        }\n        return data;\n      }\n      return data;\n    }\n    packet.data = _reconstructPacket(packet.data);\n    packet.attachments = undefined;\n    return packet;\n  };\n  exports.removeBlobs = function(data, callback) {\n    function _removeBlobs(obj, curKey, containingObject) {\n      if (!obj)\n        return obj;\n      if ((global.Blob && obj instanceof Blob) || (global.File && obj instanceof File)) {\n        pendingBlobs++;\n        var fileReader = new FileReader();\n        fileReader.onload = function() {\n          if (containingObject) {\n            containingObject[curKey] = this.result;\n          } else {\n            bloblessData = this.result;\n          }\n          if (!--pendingBlobs) {\n            callback(bloblessData);\n          }\n        };\n        fileReader.readAsArrayBuffer(obj);\n      } else if (isArray(obj)) {\n        for (var i = 0; i < obj.length; i++) {\n          _removeBlobs(obj[i], i, obj);\n        }\n      } else if (obj && 'object' == typeof obj && !isBuf(obj)) {\n        for (var key in obj) {\n          _removeBlobs(obj[key], key, obj);\n        }\n      }\n    }\n    var pendingBlobs = 0;\n    var bloblessData = data;\n    _removeBlobs(bloblessData);\n    if (!pendingBlobs) {\n      callback(bloblessData);\n    }\n  };\n})(require('buffer').Buffer);\n","/* */ \n\nmodule.exports = isBuf;\n\n/**\n * Returns true if obj is a buffer or an arraybuffer.\n *\n * @api private\n */\n\nfunction isBuf(obj) {\n  return (global.Buffer && global.Buffer.isBuffer(obj)) ||\n         (global.ArrayBuffer && obj instanceof ArrayBuffer);\n}\n","/* */ \n(function(Buffer) {\n  var debug = require('debug')('socket.io-parser');\n  var json = require('json3');\n  var isArray = require('isarray');\n  var Emitter = require('component-emitter');\n  var binary = require('./binary');\n  var isBuf = require('./is-buffer');\n  exports.protocol = 4;\n  exports.types = ['CONNECT', 'DISCONNECT', 'EVENT', 'ACK', 'ERROR', 'BINARY_EVENT', 'BINARY_ACK'];\n  exports.CONNECT = 0;\n  exports.DISCONNECT = 1;\n  exports.EVENT = 2;\n  exports.ACK = 3;\n  exports.ERROR = 4;\n  exports.BINARY_EVENT = 5;\n  exports.BINARY_ACK = 6;\n  exports.Encoder = Encoder;\n  exports.Decoder = Decoder;\n  function Encoder() {}\n  Encoder.prototype.encode = function(obj, callback) {\n    debug('encoding packet %j', obj);\n    if (exports.BINARY_EVENT == obj.type || exports.BINARY_ACK == obj.type) {\n      encodeAsBinary(obj, callback);\n    } else {\n      var encoding = encodeAsString(obj);\n      callback([encoding]);\n    }\n  };\n  function encodeAsString(obj) {\n    var str = '';\n    var nsp = false;\n    str += obj.type;\n    if (exports.BINARY_EVENT == obj.type || exports.BINARY_ACK == obj.type) {\n      str += obj.attachments;\n      str += '-';\n    }\n    if (obj.nsp && '/' != obj.nsp) {\n      nsp = true;\n      str += obj.nsp;\n    }\n    if (null != obj.id) {\n      if (nsp) {\n        str += ',';\n        nsp = false;\n      }\n      str += obj.id;\n    }\n    if (null != obj.data) {\n      if (nsp)\n        str += ',';\n      str += json.stringify(obj.data);\n    }\n    debug('encoded %j as %s', obj, str);\n    return str;\n  }\n  function encodeAsBinary(obj, callback) {\n    function writeEncoding(bloblessData) {\n      var deconstruction = binary.deconstructPacket(bloblessData);\n      var pack = encodeAsString(deconstruction.packet);\n      var buffers = deconstruction.buffers;\n      buffers.unshift(pack);\n      callback(buffers);\n    }\n    binary.removeBlobs(obj, writeEncoding);\n  }\n  function Decoder() {\n    this.reconstructor = null;\n  }\n  Emitter(Decoder.prototype);\n  Decoder.prototype.add = function(obj) {\n    var packet;\n    if ('string' == typeof obj) {\n      packet = decodeString(obj);\n      if (exports.BINARY_EVENT == packet.type || exports.BINARY_ACK == packet.type) {\n        this.reconstructor = new BinaryReconstructor(packet);\n        if (this.reconstructor.reconPack.attachments === 0) {\n          this.emit('decoded', packet);\n        }\n      } else {\n        this.emit('decoded', packet);\n      }\n    } else if (isBuf(obj) || obj.base64) {\n      if (!this.reconstructor) {\n        throw new Error('got binary data when not reconstructing a packet');\n      } else {\n        packet = this.reconstructor.takeBinaryData(obj);\n        if (packet) {\n          this.reconstructor = null;\n          this.emit('decoded', packet);\n        }\n      }\n    } else {\n      throw new Error('Unknown type: ' + obj);\n    }\n  };\n  function decodeString(str) {\n    var p = {};\n    var i = 0;\n    p.type = Number(str.charAt(0));\n    if (null == exports.types[p.type])\n      return error();\n    if (exports.BINARY_EVENT == p.type || exports.BINARY_ACK == p.type) {\n      var buf = '';\n      while (str.charAt(++i) != '-') {\n        buf += str.charAt(i);\n        if (i == str.length)\n          break;\n      }\n      if (buf != Number(buf) || str.charAt(i) != '-') {\n        throw new Error('Illegal attachments');\n      }\n      p.attachments = Number(buf);\n    }\n    if ('/' == str.charAt(i + 1)) {\n      p.nsp = '';\n      while (++i) {\n        var c = str.charAt(i);\n        if (',' == c)\n          break;\n        p.nsp += c;\n        if (i == str.length)\n          break;\n      }\n    } else {\n      p.nsp = '/';\n    }\n    var next = str.charAt(i + 1);\n    if ('' !== next && Number(next) == next) {\n      p.id = '';\n      while (++i) {\n        var c = str.charAt(i);\n        if (null == c || Number(c) != c) {\n          --i;\n          break;\n        }\n        p.id += str.charAt(i);\n        if (i == str.length)\n          break;\n      }\n      p.id = Number(p.id);\n    }\n    if (str.charAt(++i)) {\n      try {\n        p.data = json.parse(str.substr(i));\n      } catch (e) {\n        return error();\n      }\n    }\n    debug('decoded %s as %j', str, p);\n    return p;\n  }\n  Decoder.prototype.destroy = function() {\n    if (this.reconstructor) {\n      this.reconstructor.finishedReconstruction();\n    }\n  };\n  function BinaryReconstructor(packet) {\n    this.reconPack = packet;\n    this.buffers = [];\n  }\n  BinaryReconstructor.prototype.takeBinaryData = function(binData) {\n    this.buffers.push(binData);\n    if (this.buffers.length == this.reconPack.attachments) {\n      var packet = binary.reconstructPacket(this.reconPack, this.buffers);\n      this.finishedReconstruction();\n      return packet;\n    }\n    return null;\n  };\n  BinaryReconstructor.prototype.finishedReconstruction = function() {\n    this.reconPack = null;\n    this.buffers = [];\n  };\n  function error(data) {\n    return {\n      type: exports.ERROR,\n      data: 'parser error'\n    };\n  }\n})(require('buffer').Buffer);\n","module.exports = require(\"npm:socket.io-parser@2.2.6/index\");","\n/**\n * Expose `Emitter`.\n */\n\nmodule.exports = Emitter;\n\n/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nfunction Emitter(obj) {\n  if (obj) return mixin(obj);\n};\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks['$' + event] = this._callbacks['$' + event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  function on() {\n    this.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks['$' + event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks['$' + event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n  var args = [].slice.call(arguments, 1)\n    , callbacks = this._callbacks['$' + event];\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks['$' + event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n","module.exports = require(\"npm:component-emitter@1.2.0/index.js\");","/* */ \nmodule.exports = toArray\n\nfunction toArray(list, index) {\n    var array = []\n\n    index = index || 0\n\n    for (var i = index || 0; i < list.length; i++) {\n        array[i - index] = list[i]\n    }\n\n    return array\n}\n","module.exports = require(\"npm:to-array@0.1.4/index\");","\n/**\n * Module exports.\n */\n\nmodule.exports = on;\n\n/**\n * Helper for subscriptions.\n *\n * @param {Object|EventEmitter} obj with `Emitter` mixin or `EventEmitter`\n * @param {String} event name\n * @param {Function} callback\n * @api public\n */\n\nfunction on(obj, ev, fn) {\n  obj.on(ev, fn);\n  return {\n    destroy: function(){\n      obj.removeListener(ev, fn);\n    }\n  };\n}\n","/**\n * Slice reference.\n */\n\nvar slice = [].slice;\n\n/**\n * Bind `obj` to `fn`.\n *\n * @param {Object} obj\n * @param {Function|String} fn or string\n * @return {Function}\n * @api public\n */\n\nmodule.exports = function(obj, fn){\n  if ('string' == typeof fn) fn = obj[fn];\n  if ('function' != typeof fn) throw new Error('bind() requires a function');\n  var args = slice.call(arguments, 2);\n  return function(){\n    return fn.apply(obj, args.concat(slice.call(arguments)));\n  }\n};\n","module.exports = require(\"npm:component-bind@1.0.0/index\");","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} options\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options){\n  options = options || {};\n  if ('string' == typeof val) return parse(val);\n  return options.long\n    ? long(val)\n    : short(val);\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = '' + str;\n  if (str.length > 10000) return;\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str);\n  if (!match) return;\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction short(ms) {\n  if (ms >= d) return Math.round(ms / d) + 'd';\n  if (ms >= h) return Math.round(ms / h) + 'h';\n  if (ms >= m) return Math.round(ms / m) + 'm';\n  if (ms >= s) return Math.round(ms / s) + 's';\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction long(ms) {\n  return plural(ms, d, 'day')\n    || plural(ms, h, 'hour')\n    || plural(ms, m, 'minute')\n    || plural(ms, s, 'second')\n    || ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) return;\n  if (ms < n * 1.5) return Math.floor(ms / n) + ' ' + name;\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","module.exports = require(\"npm:ms@0.7.1/index\");","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = debug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lowercased letter, i.e. \"n\".\n */\n\nexports.formatters = {};\n\n/**\n * Previously assigned color.\n */\n\nvar prevColor = 0;\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n *\n * @return {Number}\n * @api private\n */\n\nfunction selectColor() {\n  return exports.colors[prevColor++ % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction debug(namespace) {\n\n  // define the `disabled` version\n  function disabled() {\n  }\n  disabled.enabled = false;\n\n  // define the `enabled` version\n  function enabled() {\n\n    var self = enabled;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // add the `color` if not set\n    if (null == self.useColors) self.useColors = exports.useColors();\n    if (null == self.color && self.useColors) self.color = selectColor();\n\n    var args = Array.prototype.slice.call(arguments);\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %o\n      args = ['%o'].concat(args);\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    if ('function' === typeof exports.formatArgs) {\n      args = exports.formatArgs.apply(self, args);\n    }\n    var logFn = enabled.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n  enabled.enabled = true;\n\n  var fn = exports.enabled(namespace) ? enabled : disabled;\n\n  fn.namespace = namespace;\n\n  return fn;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  var split = (namespaces || '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","\n/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  return ('WebkitAppearance' in document.documentElement.style) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (window.console && (console.firebug || (console.exception && console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31);\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  return JSON.stringify(v);\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs() {\n  var args = arguments;\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return args;\n\n  var c = 'color: ' + this.color;\n  args = [args[0], c, 'color: inherit'].concat(Array.prototype.slice.call(args, 1));\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n  return args;\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage(){\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","module.exports = require(\"npm:debug@2.2.0/browser.js\");","/* */ \nmodule.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n","module.exports = require(\"npm:isarray@0.0.1/index.js\");","/* */ \nvar lookup = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n;(function (exports) {\n\t'use strict';\n\n  var Arr = (typeof Uint8Array !== 'undefined')\n    ? Uint8Array\n    : Array\n\n\tvar PLUS   = '+'.charCodeAt(0)\n\tvar SLASH  = '/'.charCodeAt(0)\n\tvar NUMBER = '0'.charCodeAt(0)\n\tvar LOWER  = 'a'.charCodeAt(0)\n\tvar UPPER  = 'A'.charCodeAt(0)\n\tvar PLUS_URL_SAFE = '-'.charCodeAt(0)\n\tvar SLASH_URL_SAFE = '_'.charCodeAt(0)\n\n\tfunction decode (elt) {\n\t\tvar code = elt.charCodeAt(0)\n\t\tif (code === PLUS ||\n\t\t    code === PLUS_URL_SAFE)\n\t\t\treturn 62 // '+'\n\t\tif (code === SLASH ||\n\t\t    code === SLASH_URL_SAFE)\n\t\t\treturn 63 // '/'\n\t\tif (code < NUMBER)\n\t\t\treturn -1 //no match\n\t\tif (code < NUMBER + 10)\n\t\t\treturn code - NUMBER + 26 + 26\n\t\tif (code < UPPER + 26)\n\t\t\treturn code - UPPER\n\t\tif (code < LOWER + 26)\n\t\t\treturn code - LOWER + 26\n\t}\n\n\tfunction b64ToByteArray (b64) {\n\t\tvar i, j, l, tmp, placeHolders, arr\n\n\t\tif (b64.length % 4 > 0) {\n\t\t\tthrow new Error('Invalid string. Length must be a multiple of 4')\n\t\t}\n\n\t\t// the number of equal signs (place holders)\n\t\t// if there are two placeholders, than the two characters before it\n\t\t// represent one byte\n\t\t// if there is only one, then the three characters before it represent 2 bytes\n\t\t// this is just a cheap hack to not do indexOf twice\n\t\tvar len = b64.length\n\t\tplaceHolders = '=' === b64.charAt(len - 2) ? 2 : '=' === b64.charAt(len - 1) ? 1 : 0\n\n\t\t// base64 is 4/3 + up to two characters of the original data\n\t\tarr = new Arr(b64.length * 3 / 4 - placeHolders)\n\n\t\t// if there are placeholders, only get up to the last complete 4 chars\n\t\tl = placeHolders > 0 ? b64.length - 4 : b64.length\n\n\t\tvar L = 0\n\n\t\tfunction push (v) {\n\t\t\tarr[L++] = v\n\t\t}\n\n\t\tfor (i = 0, j = 0; i < l; i += 4, j += 3) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 18) | (decode(b64.charAt(i + 1)) << 12) | (decode(b64.charAt(i + 2)) << 6) | decode(b64.charAt(i + 3))\n\t\t\tpush((tmp & 0xFF0000) >> 16)\n\t\t\tpush((tmp & 0xFF00) >> 8)\n\t\t\tpush(tmp & 0xFF)\n\t\t}\n\n\t\tif (placeHolders === 2) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 2) | (decode(b64.charAt(i + 1)) >> 4)\n\t\t\tpush(tmp & 0xFF)\n\t\t} else if (placeHolders === 1) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 10) | (decode(b64.charAt(i + 1)) << 4) | (decode(b64.charAt(i + 2)) >> 2)\n\t\t\tpush((tmp >> 8) & 0xFF)\n\t\t\tpush(tmp & 0xFF)\n\t\t}\n\n\t\treturn arr\n\t}\n\n\tfunction uint8ToBase64 (uint8) {\n\t\tvar i,\n\t\t\textraBytes = uint8.length % 3, // if we have 1 byte left, pad 2 bytes\n\t\t\toutput = \"\",\n\t\t\ttemp, length\n\n\t\tfunction encode (num) {\n\t\t\treturn lookup.charAt(num)\n\t\t}\n\n\t\tfunction tripletToBase64 (num) {\n\t\t\treturn encode(num >> 18 & 0x3F) + encode(num >> 12 & 0x3F) + encode(num >> 6 & 0x3F) + encode(num & 0x3F)\n\t\t}\n\n\t\t// go through the array every three bytes, we'll deal with trailing stuff later\n\t\tfor (i = 0, length = uint8.length - extraBytes; i < length; i += 3) {\n\t\t\ttemp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n\t\t\toutput += tripletToBase64(temp)\n\t\t}\n\n\t\t// pad the end with zeros, but make sure to not forget the extra bytes\n\t\tswitch (extraBytes) {\n\t\t\tcase 1:\n\t\t\t\ttemp = uint8[uint8.length - 1]\n\t\t\t\toutput += encode(temp >> 2)\n\t\t\t\toutput += encode((temp << 4) & 0x3F)\n\t\t\t\toutput += '=='\n\t\t\t\tbreak\n\t\t\tcase 2:\n\t\t\t\ttemp = (uint8[uint8.length - 2] << 8) + (uint8[uint8.length - 1])\n\t\t\t\toutput += encode(temp >> 10)\n\t\t\t\toutput += encode((temp >> 4) & 0x3F)\n\t\t\t\toutput += encode((temp << 2) & 0x3F)\n\t\t\t\toutput += '='\n\t\t\t\tbreak\n\t\t}\n\n\t\treturn output\n\t}\n\n\texports.toByteArray = b64ToByteArray\n\texports.fromByteArray = uint8ToBase64\n}(typeof exports === 'undefined' ? (this.base64js = {}) : exports))\n","module.exports = require(\"npm:base64-js@0.0.8/lib/b64.js\");","/* */ \nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","module.exports = require(\"npm:ieee754@1.1.8/index.js\");","/* */ \nvar toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","module.exports = require(\"npm:isarray@1.0.0/index.js\");","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\nBuffer.poolSize = 8192 // not used by this implementation\n\nvar rootParent = {}\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Safari 5-7 lacks support for changing the `Object.prototype.constructor` property\n *     on objects.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\nfunction typedArraySupport () {\n  function Bar () {}\n  try {\n    var arr = new Uint8Array(1)\n    arr.foo = function () { return 42 }\n    arr.constructor = Bar\n    return arr.foo() === 42 && // typed array instances can be augmented\n        arr.constructor === Bar && // constructor can be set\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\n/**\n * Class: Buffer\n * =============\n *\n * The Buffer constructor returns instances of `Uint8Array` that are augmented\n * with function properties for all the node `Buffer` API functions. We use\n * `Uint8Array` so that square bracket notation works as expected -- it returns\n * a single octet.\n *\n * By augmenting the instances, we can avoid modifying the `Uint8Array`\n * prototype.\n */\nfunction Buffer (arg) {\n  if (!(this instanceof Buffer)) {\n    // Avoid going through an ArgumentsAdaptorTrampoline in the common case.\n    if (arguments.length > 1) return new Buffer(arg, arguments[1])\n    return new Buffer(arg)\n  }\n\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    this.length = 0\n    this.parent = undefined\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    return fromNumber(this, arg)\n  }\n\n  // Slightly less common case.\n  if (typeof arg === 'string') {\n    return fromString(this, arg, arguments.length > 1 ? arguments[1] : 'utf8')\n  }\n\n  // Unusual.\n  return fromObject(this, arg)\n}\n\nfunction fromNumber (that, length) {\n  that = allocate(that, length < 0 ? 0 : checked(length) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < length; i++) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') encoding = 'utf8'\n\n  // Assumption: byteLength() return value is always < kMaxLength.\n  var length = byteLength(string, encoding) | 0\n  that = allocate(that, length)\n\n  that.write(string, encoding)\n  return that\n}\n\nfunction fromObject (that, object) {\n  if (Buffer.isBuffer(object)) return fromBuffer(that, object)\n\n  if (isArray(object)) return fromArray(that, object)\n\n  if (object == null) {\n    throw new TypeError('must start with number, buffer, array or string')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined') {\n    if (object.buffer instanceof ArrayBuffer) {\n      return fromTypedArray(that, object)\n    }\n    if (object instanceof ArrayBuffer) {\n      return fromArrayBuffer(that, object)\n    }\n  }\n\n  if (object.length) return fromArrayLike(that, object)\n\n  return fromJsonObject(that, object)\n}\n\nfunction fromBuffer (that, buffer) {\n  var length = checked(buffer.length) | 0\n  that = allocate(that, length)\n  buffer.copy(that, 0, 0, length)\n  return that\n}\n\nfunction fromArray (that, array) {\n  var length = checked(array.length) | 0\n  that = allocate(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\n// Duplicate of fromArray() to keep fromArray() monomorphic.\nfunction fromTypedArray (that, array) {\n  var length = checked(array.length) | 0\n  that = allocate(that, length)\n  // Truncating the elements is probably not what people expect from typed\n  // arrays with BYTES_PER_ELEMENT > 1 but it's compatible with the behavior\n  // of the old Buffer constructor.\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array) {\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    array.byteLength\n    that = Buffer._augment(new Uint8Array(array))\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromTypedArray(that, new Uint8Array(array))\n  }\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = checked(array.length) | 0\n  that = allocate(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\n// Deserialize { type: 'Buffer', data: [1,2,3,...] } into a Buffer object.\n// Returns a zero-length buffer for inputs that don't conform to the spec.\nfunction fromJsonObject (that, object) {\n  var array\n  var length = 0\n\n  if (object.type === 'Buffer' && isArray(object.data)) {\n    array = object.data\n    length = checked(array.length) | 0\n  }\n  that = allocate(that, length)\n\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n} else {\n  // pre-set for values that may exist in the future\n  Buffer.prototype.length = undefined\n  Buffer.prototype.parent = undefined\n}\n\nfunction allocate (that, length) {\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = Buffer._augment(new Uint8Array(length))\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that.length = length\n    that._isBuffer = true\n  }\n\n  var fromPool = length !== 0 && length <= Buffer.poolSize >>> 1\n  if (fromPool) that.parent = rootParent\n\n  return that\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (subject, encoding) {\n  if (!(this instanceof SlowBuffer)) return new SlowBuffer(subject, encoding)\n\n  var buf = new Buffer(subject, encoding)\n  delete buf.parent\n  return buf\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  var i = 0\n  var len = Math.min(x, y)\n  while (i < len) {\n    if (a[i] !== b[i]) break\n\n    ++i\n  }\n\n  if (i !== len) {\n    x = a[i]\n    y = b[i]\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'binary':\n    case 'base64':\n    case 'raw':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) throw new TypeError('list argument must be an Array of Buffers.')\n\n  if (list.length === 0) {\n    return new Buffer(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; i++) {\n      length += list[i].length\n    }\n  }\n\n  var buf = new Buffer(length)\n  var pos = 0\n  for (i = 0; i < list.length; i++) {\n    var item = list[i]\n    item.copy(buf, pos)\n    pos += item.length\n  }\n  return buf\n}\n\nfunction byteLength (string, encoding) {\n  if (typeof string !== 'string') string = '' + string\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'binary':\n      // Deprecated\n      case 'raw':\n      case 'raws':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  start = start | 0\n  end = end === undefined || end === Infinity ? this.length : end | 0\n\n  if (!encoding) encoding = 'utf8'\n  if (start < 0) start = 0\n  if (end > this.length) end = this.length\n  if (end <= start) return ''\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'binary':\n        return binarySlice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return 0\n  return Buffer.compare(this, b)\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset) {\n  if (byteOffset > 0x7fffffff) byteOffset = 0x7fffffff\n  else if (byteOffset < -0x80000000) byteOffset = -0x80000000\n  byteOffset >>= 0\n\n  if (this.length === 0) return -1\n  if (byteOffset >= this.length) return -1\n\n  // Negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = Math.max(this.length + byteOffset, 0)\n\n  if (typeof val === 'string') {\n    if (val.length === 0) return -1 // special case: looking for empty string always fails\n    return String.prototype.indexOf.call(this, val, byteOffset)\n  }\n  if (Buffer.isBuffer(val)) {\n    return arrayIndexOf(this, val, byteOffset)\n  }\n  if (typeof val === 'number') {\n    if (Buffer.TYPED_ARRAY_SUPPORT && Uint8Array.prototype.indexOf === 'function') {\n      return Uint8Array.prototype.indexOf.call(this, val, byteOffset)\n    }\n    return arrayIndexOf(this, [ val ], byteOffset)\n  }\n\n  function arrayIndexOf (arr, val, byteOffset) {\n    var foundIndex = -1\n    for (var i = 0; byteOffset + i < arr.length; i++) {\n      if (arr[byteOffset + i] === val[foundIndex === -1 ? 0 : i - foundIndex]) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === val.length) return byteOffset + foundIndex\n      } else {\n        foundIndex = -1\n      }\n    }\n    return -1\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\n// `get` is deprecated\nBuffer.prototype.get = function get (offset) {\n  console.log('.get() is deprecated. Access using array indexes instead.')\n  return this.readUInt8(offset)\n}\n\n// `set` is deprecated\nBuffer.prototype.set = function set (v, offset) {\n  console.log('.set() is deprecated. Access using array indexes instead.')\n  return this.writeUInt8(v, offset)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new Error('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; i++) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) throw new Error('Invalid hex string')\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction binaryWrite (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    var swap = encoding\n    encoding = offset\n    offset = length | 0\n    length = swap\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'binary':\n        return binaryWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction binarySlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; i++) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = Buffer._augment(this.subarray(start, end))\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; i++) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  if (newBuf.length) newBuf.parent = this.parent || this\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('buffer must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('value is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0)\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0)\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; i++) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; i++) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = value < 0 ? 1 : 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = value < 0 ? 1 : 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (value > max || value < min) throw new RangeError('value is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('index out of range')\n  if (offset < 0) throw new RangeError('index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; i--) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; i++) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    target._set(this.subarray(start, start + len), targetStart)\n  }\n\n  return len\n}\n\n// fill(value, start=0, end=buffer.length)\nBuffer.prototype.fill = function fill (value, start, end) {\n  if (!value) value = 0\n  if (!start) start = 0\n  if (!end) end = this.length\n\n  if (end < start) throw new RangeError('end < start')\n\n  // Fill 0 bytes; we're done\n  if (end === start) return\n  if (this.length === 0) return\n\n  if (start < 0 || start >= this.length) throw new RangeError('start out of bounds')\n  if (end < 0 || end > this.length) throw new RangeError('end out of bounds')\n\n  var i\n  if (typeof value === 'number') {\n    for (i = start; i < end; i++) {\n      this[i] = value\n    }\n  } else {\n    var bytes = utf8ToBytes(value.toString())\n    var len = bytes.length\n    for (i = start; i < end; i++) {\n      this[i] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n/**\n * Creates a new `ArrayBuffer` with the *copied* memory of the buffer instance.\n * Added in Node 0.12. Only available in browsers that support ArrayBuffer.\n */\nBuffer.prototype.toArrayBuffer = function toArrayBuffer () {\n  if (typeof Uint8Array !== 'undefined') {\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n      return (new Buffer(this)).buffer\n    } else {\n      var buf = new Uint8Array(this.length)\n      for (var i = 0, len = buf.length; i < len; i += 1) {\n        buf[i] = this[i]\n      }\n      return buf.buffer\n    }\n  } else {\n    throw new TypeError('Buffer.toArrayBuffer not supported in this browser')\n  }\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar BP = Buffer.prototype\n\n/**\n * Augment a Uint8Array *instance* (not the Uint8Array class!) with Buffer methods\n */\nBuffer._augment = function _augment (arr) {\n  arr.constructor = Buffer\n  arr._isBuffer = true\n\n  // save reference to original Uint8Array set method before overwriting\n  arr._set = arr.set\n\n  // deprecated\n  arr.get = BP.get\n  arr.set = BP.set\n\n  arr.write = BP.write\n  arr.toString = BP.toString\n  arr.toLocaleString = BP.toString\n  arr.toJSON = BP.toJSON\n  arr.equals = BP.equals\n  arr.compare = BP.compare\n  arr.indexOf = BP.indexOf\n  arr.copy = BP.copy\n  arr.slice = BP.slice\n  arr.readUIntLE = BP.readUIntLE\n  arr.readUIntBE = BP.readUIntBE\n  arr.readUInt8 = BP.readUInt8\n  arr.readUInt16LE = BP.readUInt16LE\n  arr.readUInt16BE = BP.readUInt16BE\n  arr.readUInt32LE = BP.readUInt32LE\n  arr.readUInt32BE = BP.readUInt32BE\n  arr.readIntLE = BP.readIntLE\n  arr.readIntBE = BP.readIntBE\n  arr.readInt8 = BP.readInt8\n  arr.readInt16LE = BP.readInt16LE\n  arr.readInt16BE = BP.readInt16BE\n  arr.readInt32LE = BP.readInt32LE\n  arr.readInt32BE = BP.readInt32BE\n  arr.readFloatLE = BP.readFloatLE\n  arr.readFloatBE = BP.readFloatBE\n  arr.readDoubleLE = BP.readDoubleLE\n  arr.readDoubleBE = BP.readDoubleBE\n  arr.writeUInt8 = BP.writeUInt8\n  arr.writeUIntLE = BP.writeUIntLE\n  arr.writeUIntBE = BP.writeUIntBE\n  arr.writeUInt16LE = BP.writeUInt16LE\n  arr.writeUInt16BE = BP.writeUInt16BE\n  arr.writeUInt32LE = BP.writeUInt32LE\n  arr.writeUInt32BE = BP.writeUInt32BE\n  arr.writeIntLE = BP.writeIntLE\n  arr.writeIntBE = BP.writeIntBE\n  arr.writeInt8 = BP.writeInt8\n  arr.writeInt16LE = BP.writeInt16LE\n  arr.writeInt16BE = BP.writeInt16BE\n  arr.writeInt32LE = BP.writeInt32LE\n  arr.writeInt32BE = BP.writeInt32BE\n  arr.writeFloatLE = BP.writeFloatLE\n  arr.writeFloatBE = BP.writeFloatBE\n  arr.writeDoubleLE = BP.writeDoubleLE\n  arr.writeDoubleBE = BP.writeDoubleBE\n  arr.fill = BP.fill\n  arr.inspect = BP.inspect\n  arr.toArrayBuffer = BP.toArrayBuffer\n\n  return arr\n}\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; i++) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; i++) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n","module.exports = require(\"npm:buffer@3.6.0/index.js\");","/* */ \nmodule.exports = System._nodeRequire ? System._nodeRequire('buffer') : require('buffer');","module.exports = require(\"github:jspm/nodelibs-buffer@0.1.0/index\");","/* */ \n(function(Buffer) {\n  var isArray = require('isarray');\n  module.exports = hasBinary;\n  function hasBinary(data) {\n    function _hasBinary(obj) {\n      if (!obj)\n        return false;\n      if ((global.Buffer && global.Buffer.isBuffer && global.Buffer.isBuffer(obj)) || (global.ArrayBuffer && obj instanceof ArrayBuffer) || (global.Blob && obj instanceof Blob) || (global.File && obj instanceof File)) {\n        return true;\n      }\n      if (isArray(obj)) {\n        for (var i = 0; i < obj.length; i++) {\n          if (_hasBinary(obj[i])) {\n            return true;\n          }\n        }\n      } else if (obj && 'object' == typeof obj) {\n        if (obj.toJSON && 'function' == typeof obj.toJSON) {\n          obj = obj.toJSON();\n        }\n        for (var key in obj) {\n          if (Object.prototype.hasOwnProperty.call(obj, key) && _hasBinary(obj[key])) {\n            return true;\n          }\n        }\n      }\n      return false;\n    }\n    return _hasBinary(data);\n  }\n})(require('buffer').Buffer);\n","module.exports = require(\"npm:has-binary@0.1.7/index\");","/* */ \nvar parser = require('socket.io-parser');\nvar Emitter = require('component-emitter');\nvar toArray = require('to-array');\nvar on = require('./on');\nvar bind = require('component-bind');\nvar debug = require('debug')('socket.io-client:socket');\nvar hasBin = require('has-binary');\nmodule.exports = exports = Socket;\nvar events = {\n  connect: 1,\n  connect_error: 1,\n  connect_timeout: 1,\n  connecting: 1,\n  disconnect: 1,\n  error: 1,\n  reconnect: 1,\n  reconnect_attempt: 1,\n  reconnect_failed: 1,\n  reconnect_error: 1,\n  reconnecting: 1,\n  ping: 1,\n  pong: 1\n};\nvar emit = Emitter.prototype.emit;\nfunction Socket(io, nsp) {\n  this.io = io;\n  this.nsp = nsp;\n  this.json = this;\n  this.ids = 0;\n  this.acks = {};\n  this.receiveBuffer = [];\n  this.sendBuffer = [];\n  this.connected = false;\n  this.disconnected = true;\n  if (this.io.autoConnect)\n    this.open();\n}\nEmitter(Socket.prototype);\nSocket.prototype.subEvents = function() {\n  if (this.subs)\n    return;\n  var io = this.io;\n  this.subs = [on(io, 'open', bind(this, 'onopen')), on(io, 'packet', bind(this, 'onpacket')), on(io, 'close', bind(this, 'onclose'))];\n};\nSocket.prototype.open = Socket.prototype.connect = function() {\n  if (this.connected)\n    return this;\n  this.subEvents();\n  this.io.open();\n  if ('open' == this.io.readyState)\n    this.onopen();\n  this.emit('connecting');\n  return this;\n};\nSocket.prototype.send = function() {\n  var args = toArray(arguments);\n  args.unshift('message');\n  this.emit.apply(this, args);\n  return this;\n};\nSocket.prototype.emit = function(ev) {\n  if (events.hasOwnProperty(ev)) {\n    emit.apply(this, arguments);\n    return this;\n  }\n  var args = toArray(arguments);\n  var parserType = parser.EVENT;\n  if (hasBin(args)) {\n    parserType = parser.BINARY_EVENT;\n  }\n  var packet = {\n    type: parserType,\n    data: args\n  };\n  packet.options = {};\n  packet.options.compress = !this.flags || false !== this.flags.compress;\n  if ('function' == typeof args[args.length - 1]) {\n    debug('emitting packet with ack id %d', this.ids);\n    this.acks[this.ids] = args.pop();\n    packet.id = this.ids++;\n  }\n  if (this.connected) {\n    this.packet(packet);\n  } else {\n    this.sendBuffer.push(packet);\n  }\n  delete this.flags;\n  return this;\n};\nSocket.prototype.packet = function(packet) {\n  packet.nsp = this.nsp;\n  this.io.packet(packet);\n};\nSocket.prototype.onopen = function() {\n  debug('transport is open - connecting');\n  if ('/' != this.nsp) {\n    this.packet({type: parser.CONNECT});\n  }\n};\nSocket.prototype.onclose = function(reason) {\n  debug('close (%s)', reason);\n  this.connected = false;\n  this.disconnected = true;\n  delete this.id;\n  this.emit('disconnect', reason);\n};\nSocket.prototype.onpacket = function(packet) {\n  if (packet.nsp != this.nsp)\n    return;\n  switch (packet.type) {\n    case parser.CONNECT:\n      this.onconnect();\n      break;\n    case parser.EVENT:\n      this.onevent(packet);\n      break;\n    case parser.BINARY_EVENT:\n      this.onevent(packet);\n      break;\n    case parser.ACK:\n      this.onack(packet);\n      break;\n    case parser.BINARY_ACK:\n      this.onack(packet);\n      break;\n    case parser.DISCONNECT:\n      this.ondisconnect();\n      break;\n    case parser.ERROR:\n      this.emit('error', packet.data);\n      break;\n  }\n};\nSocket.prototype.onevent = function(packet) {\n  var args = packet.data || [];\n  debug('emitting event %j', args);\n  if (null != packet.id) {\n    debug('attaching ack callback to event');\n    args.push(this.ack(packet.id));\n  }\n  if (this.connected) {\n    emit.apply(this, args);\n  } else {\n    this.receiveBuffer.push(args);\n  }\n};\nSocket.prototype.ack = function(id) {\n  var self = this;\n  var sent = false;\n  return function() {\n    if (sent)\n      return;\n    sent = true;\n    var args = toArray(arguments);\n    debug('sending ack %j', args);\n    var type = hasBin(args) ? parser.BINARY_ACK : parser.ACK;\n    self.packet({\n      type: type,\n      id: id,\n      data: args\n    });\n  };\n};\nSocket.prototype.onack = function(packet) {\n  var ack = this.acks[packet.id];\n  if ('function' == typeof ack) {\n    debug('calling ack %s with %j', packet.id, packet.data);\n    ack.apply(this, packet.data);\n    delete this.acks[packet.id];\n  } else {\n    debug('bad ack %s', packet.id);\n  }\n};\nSocket.prototype.onconnect = function() {\n  this.connected = true;\n  this.disconnected = false;\n  this.emit('connect');\n  this.emitBuffered();\n};\nSocket.prototype.emitBuffered = function() {\n  var i;\n  for (i = 0; i < this.receiveBuffer.length; i++) {\n    emit.apply(this, this.receiveBuffer[i]);\n  }\n  this.receiveBuffer = [];\n  for (i = 0; i < this.sendBuffer.length; i++) {\n    this.packet(this.sendBuffer[i]);\n  }\n  this.sendBuffer = [];\n};\nSocket.prototype.ondisconnect = function() {\n  debug('server disconnect (%s)', this.nsp);\n  this.destroy();\n  this.onclose('io server disconnect');\n};\nSocket.prototype.destroy = function() {\n  if (this.subs) {\n    for (var i = 0; i < this.subs.length; i++) {\n      this.subs[i].destroy();\n    }\n    this.subs = null;\n  }\n  this.io.destroy(this);\n};\nSocket.prototype.close = Socket.prototype.disconnect = function() {\n  if (this.connected) {\n    debug('performing disconnect (%s)', this.nsp);\n    this.packet({type: parser.DISCONNECT});\n  }\n  this.destroy();\n  if (this.connected) {\n    this.onclose('io client disconnect');\n  }\n  return this;\n};\nSocket.prototype.compress = function(compress) {\n  this.flags = this.flags || {};\n  this.flags.compress = compress;\n  return this;\n};\n","/* */ \nvar url = require('./url');\nvar parser = require('socket.io-parser');\nvar Manager = require('./manager');\nvar debug = require('debug')('socket.io-client');\nmodule.exports = exports = lookup;\nvar cache = exports.managers = {};\nfunction lookup(uri, opts) {\n  if (typeof uri == 'object') {\n    opts = uri;\n    uri = undefined;\n  }\n  opts = opts || {};\n  var parsed = url(uri);\n  var source = parsed.source;\n  var id = parsed.id;\n  var path = parsed.path;\n  var sameNamespace = cache[id] && path in cache[id].nsps;\n  var newConnection = opts.forceNew || opts['force new connection'] || false === opts.multiplex || sameNamespace;\n  var io;\n  if (newConnection) {\n    debug('ignoring socket cache for %s', source);\n    io = Manager(source, opts);\n  } else {\n    if (!cache[id]) {\n      debug('new io instance for %s', source);\n      cache[id] = Manager(source, opts);\n    }\n    io = cache[id];\n  }\n  return io.socket(parsed.path);\n}\nexports.protocol = parser.protocol;\nexports.connect = lookup;\nexports.Manager = require('./manager');\nexports.Socket = require('./socket');\n","module.exports = require(\"npm:socket.io-client@1.4.8/lib/index.js\");","import io from 'socket.io-client';\nimport {Time} from 'bolt/utils';\nimport {INotification} from 'bolt/interfaces';\n\nimport {KDGame} from 'game/KDGame';\nimport {BaseMediator} from 'game/mediator/BaseMediator';\nimport {Notifications} from 'game/utils';\n\nexport class ApplicationMediator extends BaseMediator {\n    public static MEDIATOR_NAME: string = 'ApplicationMediator';\n    public socket;\n\n    public onRegister(): void {\n        this.socket = io.connect('https://meow-meltdown.herokuapp.com');\n        // this.socket = io.connect('http://localost:4000');\n        \n        // events to handle\n        this.socket.on('game_connected', (event) => { this.handleSocketEvent('game_connected', event) });\n        this.socket.on('player_connected', (event) => { this.handleSocketEvent('player_connected', event) });\n        this.socket.on('player_swipe', (event) => { this.handleSocketEvent('player_swipe', event) });\n        this.socket.on('start_game', (event) => { this.handleSocketEvent('start_game', event) });\n        this.socket.on('start_countdown', (event) => { this.handleSocketEvent('start_countdown', event) });\n\n        // connect game\n        this.socket.emit('game_connect');\n    }\n\n    public listNotificationInterests(): string[] {\n        return [\n            Notifications.INIT_COUNTDOWN\n        ]\n    }\n\n    public handleNotification(note: INotification) {\n        const name: string = note.getName();\n        const body: any = note.getBody();\n\n        switch (name) {\n            case Notifications.INIT_COUNTDOWN:\n                this.socket.emit('init_countdown');\n                break;\n        }\n    }\n\n    protected handleSocketEvent(type: string, event: any): void {\n        console.log('handleSocketEvent', type, event);\n        switch (type) {\n            case 'game_connected':\n                this.appModel.gameId = event.id;\n                this.sendNotification(Notifications.GAME_CONNECTED, event.id);\n                break;\n            case 'player_connected':\n                this.appModel.numPlayers = event.player;\n                this.sendNotification(Notifications.PLAYER_CONNECTED, event.player);\n                break;\n            case 'player_swipe':\n                this.sendNotification(Notifications.PLAYER_SWIPE, { playerNum: event.player, percent: event.percent });\n                break;\n            case 'start_game':\n                this.sendNotification(Notifications.START_GAME);\n                break;\n            case 'start_countdown':\n                this.sendNotification(Notifications.START_COUNTDOWN);\n                break;\n        }\n    }\n\n    get name(): string {\n        return ApplicationMediator.MEDIATOR_NAME;\n    }\n\n    get kdApplication(): KDGame {\n        return this._viewComponent as KDGame;\n    }\n}","import {Text, Container, Sprite} from 'lightning/display';\nimport {Resources, Colours, Fonts} from 'common/utils';\nexport class TextButton extends Container {\n    private bg: Sprite;\n    private colorBg: Sprite;\n    private label: Text;\n\n    private _text: string;\n    public enabled: boolean = true;\n\n    constructor(x, y, text: string, public color: \"pink\" | \"blue\" | \"green\" | \"orange\", autoSetColor: boolean = false, public buttonWidth: number = 342.5) {\n        super(x, y);\n        this._text = text;\n        this.build();\n\n        if (autoSetColor) {\n            this.setColor(this.color);\n        }\n    }\n\n    protected build(): void {\n        this.bg = this.addChild(new Sprite(0, 0, Resources.UI_SPRITESHEET.id, 'button_background.png')) as Sprite;\n        this.bg.anchor.set(0.5, 0.5);\n        this.bg.width = this.buttonWidth;\n        this.bg.scale.y = this.bg.scale.x;\n        this.bg.x = this.bg.y = 2 * this.bg.scale.x;\n\n        const gfx = this.addChild(new PIXI.Graphics()) as PIXI.Graphics;\n        gfx.beginFill(0xffffff);\n        gfx.drawRect(0, 0, this.buttonWidth - 6 * this.bg.scale.x, this.bg.height - 5 * this.bg.scale.x); \n        gfx.endFill();\n\n        this.colorBg = this.addChild(new Sprite(0, 0, gfx.generateTexture(this.app.renderer, 1))) as Sprite;\n        this.colorBg.anchor.set(0.5, 0.5);\n        this.colorBg.tint = 0x666666;\n\n        this.label = this.addChild(new Text(0, 0, this._text.toUpperCase(), Fonts.STAG_SANS_BLACK, 24 * this.app.resolution, 0xffffff)) as Text;\n        this.label.resolution = this.app.resolution;\n        this.label.anchor.set(0.5, 0.5);\n\n        this.removeChild(gfx);\n        gfx.destroy();\n    }\n\n    public down(): void {\n        this.colorBg.x = this.colorBg.y = this.label.x = this.label.y = 2* this.bg.scale.x;\n        this.bg.visible = false;\n    }\n\n    public up(selected: boolean = false) {\n        if (selected) {\n            this.enabled = false;\n        }\n        this.colorBg.x = this.colorBg.y = this.label.x = this.label.y = 0;\n        this.bg.visible = true;\n    }\n\n    public setColor(color: \"pink\" | \"blue\" | \"green\" | \"orange\"): void {\n        this.color = color;\n        this.colorBg.tint = Colours.getPrimary(this.color);\n    }\n\n    get text(): string {\n        return this._text;\n    }\n}","import {Animator} from 'bolt/utils';\nimport {Colours, Resources, Fonts} from 'common/utils';\nimport {Container, Text, Sprite} from 'lightning/display';\nimport {CatColor} from 'game/gameobjects/Cat';\n\nexport class Ribbon extends Container {\n    private bg: Sprite;\n    private label: Text;\n    private positionLabel: Text;\n    private labelContainer: Container;\n\n    constructor(x: number, y: number, public color: CatColor) {\n        super(x, y);\n        this.build();\n    }\n\n    private build(): void {\n        const gfx = this.addChild(new PIXI.Graphics()) as PIXI.Graphics;\n        gfx.beginFill(Colours.getDark(this.color));\n        gfx.drawCircle(0, 0, 75);\n        gfx.endFill();\n\n        this.bg = this.addChild(new Sprite(0, 0, gfx.generateTexture(this.app.renderer, this.app.resolution))) as Sprite;\n        gfx.destroy();\n        this.removeChild(gfx);\n\n        this.pivot.set(75, 75);\n\n        this.labelContainer = this.addChild(new Container(75, 75)) as Container;\n\n        this.label = this.labelContainer.addChild(new Text(0, 0, '1', Fonts.STAG_SANS_BLACK, 73, 0xffffff)) as Text;\n        this.positionLabel = this.labelContainer.addChild(new Text(0, 0, 'ST', Fonts.STAG_SANS_BLACK, 26, 0xffffff)) as Text;\n\n        this.scale.set(0, 0);\n    }\n\n    public setPosition(position: number) {\n        let posLabel: string;\n        switch (position) {\n            case 1:\n                posLabel = 'ST';\n                break;\n            case 2:\n                posLabel = 'ND';\n                break;\n            case 3:\n                posLabel = 'RD';\n                break;\n            case 4:\n                posLabel = 'TH';\n                break;\n        }\n\n        this.label.text = position.toString();\n        this.positionLabel.text = posLabel;\n\n        this.positionLabel.x = this.label.width + 2;\n        this.positionLabel.y = this.label.y + 10;\n\n        this.labelContainer.pivot.set(this.label.width, this.label.height * 0.5);\n\n        this.show();\n    }\n\n    public show(): void {\n        Animator.to(this.scale, .3, { x: 1, y: 1, ease: Back.easeOut });\n    }\n}","import Promise from \"bluebird\";\nimport {Animator, Time} from 'bolt/utils';\nimport {Colours, Resources, Fonts} from 'common/utils';\nimport {Container, Text, Sprite} from 'lightning/display';\nimport {CatColor} from 'game/gameobjects/Cat';\n\nexport class Countdown extends Container {\n    private bg: Sprite;\n    private circle: Sprite;\n    private label: Text;\n\n    constructor(x: number, y: number, public color: CatColor, public countdownTime: number = 5, public zeroDisplay: string = 'GO') {\n        super(x, y);\n        this.build();\n    }\n\n    private build(): void {\n        const gfx = this.addChild(new PIXI.Graphics()) as PIXI.Graphics;\n        gfx.beginFill(0, 0.25);\n        gfx.drawRect(0, 0, this.app.width, this.app.height);\n        gfx.endFill();\n\n        this.bg = this.addChild(new Sprite(0, 0, gfx.generateTexture(this.app.renderer, this.app.resolution))) as Sprite;\n\n        gfx.clear();\n        gfx.beginFill(0xffffff);\n        gfx.drawCircle(100, 100, 100);\n        gfx.endFill();\n\n        this.circle = this.addChild(new Sprite(this.app.width * 0.5, this.app.height * 0.5, gfx.generateTexture(this.app.renderer,1))) as Sprite;\n        this.circle.anchor.set(0.5, 0.5);\n\n        gfx.destroy();\n        this.removeChild(gfx);\n\n        this.label = this.circle.addChild(new Text(0, 0, '5', Fonts.STAG_SANS_BLACK, 130, Colours.getPrimary(this.color))) as Text;\n        this.label.anchor.set(0.5, 0.5);\n\n        this.circle.scale.set(0, 0);\n        this.alpha = 0;\n        this.visible = false;\n    }\n\n    public show(delay: number = 0): void {\n        this.visible = true;\n        Animator.to(this, 0.3, { delay: delay, alpha: 1, ease: Sine.easeOut }).then(() => {\n            Animator.to(this.circle.scale, 0.3, { x: 1, y: 1, ease: Back.easeOut });\n        });\n    }\n\n    public countdown(): Promise<{}> {\n        return Time.count(this.countdownTime, this.onTimeUpdate, this);\n    }\n\n    protected onTimeUpdate(currentTime: number): void {\n        if (currentTime > 0) {\n            Animator.to(this.circle.scale, 0.2, { x: 1.15, y: 1.15, ease: Sine.easeOut, yoyo: true, repeat: 1 })\n            Time.wait(0.075).then(() => {\n                this.label.text = currentTime === 0 ? this.zeroDisplay : currentTime.toString();\n            });\n        } else {\n            Animator.to(this.circle.scale, 0.4, { delay:0.1, x: 0, y: 0, ease: Back.easeIn })\n        }\n    }\n\n    public hide(): void {\n        if (this.circle.scale.x === 1) {\n            Animator.to(this.circle.scale, 0.2, { x: 0, y: 0, ease: Back.easeIn }).then(() => {\n                Animator.to(this, 0.2, { alpha: 0, ease: Sine.easeIn }).then(() => { this.visible = false; });\n            });\n        } else {\n            Animator.to(this, 0.2, { alpha: 0, ease: Sine.easeIn }).then(() => { this.visible = false; });\n        }\n    }\n}","export class Animation {\n    public static generateFrames(framePrefix: string, startFrame: number, endFrame: number): PIXI.Texture[] {\n        let frames = [],\n            i: number,\n            val: string;\n        for (i = startFrame; i <= endFrame; i++) {\n            val = framePrefix;\n            if (i < 10) {\n                val += '0';\n            }\n            if (i < 100) {\n                val += '0';\n            }\n            if (i < 1000) {\n                val += '0';\n            }\n            val += i;\n            frames.push(PIXI.Texture.fromFrame(val + '.png'));\n        }\n        return frames;\n    }\n}","import {Container, Sprite} from 'lightning/display';\nimport {Animator, Time} from 'bolt/utils';\nimport {Resources} from 'common/utils';\nimport {CatColor} from 'game/gameobjects/Cat';\n\nexport class IceCream extends Container {\n    public totalPieces: number;\n    public remainingPieces: number;\n    public topPiece: Sprite;\n    public stack: Sprite[];\n\n    public finished: boolean = false;\n\n    constructor(x: number = 0, y: number = 0, public color: CatColor, public stackHeight: number) {\n        super(x, y);\n\n        this.build();\n    }\n\n    // public methods\n    public drop(): void {\n        if (this.finished) {\n            return;\n        }\n        const piece = this.stack.shift();\n        this.remainingPieces = this.stack.length;\n        Animator.to(piece.scale, 0.3, { x: 0, y: 0 }).then(() => {\n            this.removeChild(piece);\n        });\n        this.animateDrop();\n\n        if (this.remainingPieces === 0) {\n            this.finished = true;\n        }\n    }\n\n    // private methods\n    protected build(): void {\n        this.stack = [];\n\n        let ypos = 0,\n            piece: Sprite;\n\n        while (ypos < this.stackHeight) {\n            piece = this.addChild(new Sprite(0, -ypos, Resources.CAT_SPRITESHEET.id, this.color + '/' + 'ice_cream_stack.png')) as Sprite;\n            piece.anchor.set(0.5, 1);\n            this.stack.push(piece);\n            ypos += 25;\n        }\n        piece = this.addChild(new Sprite(0, -ypos, Resources.CAT_SPRITESHEET.id, this.color + '/' + 'ice_cream_top.png')) as Sprite;\n        piece.anchor.set(0.5, 1);\n\n        this.stack.push(piece);\n        this.totalPieces = this.stack.length;\n        this.remainingPieces = this.stack.length;\n    }\n\n    protected animateDrop(): void {\n        Animator.to(this, 0.2, { y: \"+=25\", ease: Sine.easeIn })\n    }\n}","import {Animation} from 'lightning/utils';\nimport {Animator, Time} from 'bolt/utils';\nimport {Container, Sprite, MovieClip, TileSprite} from 'lightning/display';\n\nimport {Resources} from 'common/utils';\nimport {Ribbon} from 'common/ui';\nimport {IceCream} from 'game/gameobjects/IceCream';\n\n\nexport type CatColor = \"pink\" | \"blue\" | \"green\" | \"orange\";\n\nexport class Cat extends Container {\n    public static DEFAULT_NECK_HEIGHT: number = 1;\n    public static EXTENDED_NECK_HEIGHT: number = 800;\n\n    public eye: Sprite;\n    public tongue: MovieClip;\n    public base: Sprite;\n    public head: Sprite;\n    public neckTop: Sprite;\n    public neck: TileSprite;\n    public iceCream: IceCream;\n    public ribbon: Ribbon;\n\n    public finished: boolean = false;\n    public canWin: boolean = true;\n    public lickEnabled: boolean = true;\n\n    protected amountNeededForDrop: number = 100;\n    protected debugPercent: number = 0;\n    protected isDown: boolean = false;\n\n    constructor(x: number = 0, y: number = 0, public color: CatColor) {\n        super(x, y);\n        this.build();\n        this.addInteraction();\n\n        this.pivot.set(this.base.width * 0.5, this.base.y + this.base.height);\n    }\n\n    protected build(): void {\n        const atlasId = Resources.CAT_SPRITESHEET.id;\n        this.neckTop = this.addChild(new Sprite(45, 180, atlasId, this.color + '/' + 'neck_top.png')) as Sprite;\n        this.neck = this.addChild(new TileSprite(46, 208 + Cat.DEFAULT_NECK_HEIGHT, atlasId, this.color + '/' + 'neck_tile.png', 81.5, Cat.DEFAULT_NECK_HEIGHT)) as TileSprite;\n        this.neck.anchor.set(0, 1);\n\n        this.iceCream = this.addChild(new IceCream(262, 148, this.color, Cat.EXTENDED_NECK_HEIGHT)) as IceCream;\n        this.head = this.addChild(new Sprite(93, 186, atlasId, this.color + '/' + 'head.png')) as Sprite;\n\n        this.tongue = this.head.addChild(new MovieClip(143, 54, Animation.generateFrames('tongue_', 0, 3))) as MovieClip;\n        this.head.pivot.set(92, 186);\n\n        this.eye = this.head.addChild(new Sprite(110, 63, atlasId, 'eye.png')) as Sprite;\n        this.eye.visible = false;\n\n        this.base = this.addChild(new Sprite(5, this.neckTop.y + this.neckTop.height + Cat.DEFAULT_NECK_HEIGHT - 70, atlasId, this.color + '/' + 'base.png')) as Sprite;\n    }\n\n    protected addInteraction(): void {\n        this.head.interactive = true;\n\n        this.head.on('mousedown', this.onMouseDown, this)\n            .on('touchstart', this.onMouseDown, this)\n\n        this.head.on('mouseup', this.onMouseUp, this)\n            .on('touchend', this.onMouseUp, this)\n            .on('mouseupoutside', this.onMouseUp, this)\n            .on('touchendoutside', this.onMouseUp, this)\n    }\n\n    public onMouseDown(): void {\n        this.isDown = true;\n        this.debugPercent = 0;\n    }\n\n    public onMouseUp(): void {\n        this.isDown = false;\n        this.lick(this.debugPercent);\n    }\n\n    public update() {\n        if (this.isDown) {\n            if (this.debugPercent < 100) {\n                this.debugPercent += 2;\n            }\n        }\n        this.head.y = this.neck.y - this.neck.height + 5;\n    }\n\n    public lick(lickpercent: number): void {\n        if (!this.lickEnabled || !this.canWin) {\n            return;\n        }\n\n        this.lickEnabled = false;\n        const dist = Cat.EXTENDED_NECK_HEIGHT * (lickpercent * 0.01);\n        const time = dist / 1200;\n\n        this.tongue.gotoAndStop(2);\n        Animator.to(this.neck, time, { height: dist, ease: Sine.easeOut });\n\n        Time.wait(time - 0.1).then(() => {\n            this.tongue.gotoAndStop(1);\n            this.eye.visible = true;\n            Animator.to(this.head, 0.1, { rotation: -10 * (Math.PI / 180), ease: Sine.easeOut, yoyo: true, repeat: 1 });\n            Time.wait(0.05).then(() => {\n                this.tongue.gotoAndStop(3);\n            });\n            Time.wait(0.1).then(() => {\n                this.tongue.gotoAndStop(0);\n                Animator.to(this.neck, time * 0.6, { height: 1, ease: Sine.easeIn }).then(() => {\n                    this.lickEnabled = true;\n                    this.eye.visible = false;\n                })\n            });\n        });\n\n        this.amountNeededForDrop -= lickpercent;\n\n        if (this.amountNeededForDrop <= 0) {\n            this.iceCream.drop();\n            this.amountNeededForDrop = Math.round(this.iceCream.remainingPieces / this.iceCream.totalPieces * 100);\n        }\n\n        if (this.iceCream.finished) {\n            Time.wait(0.2).then(() => {\n                this.finished = true;\n            });\n        }\n    }\n}","import {INotification} from 'bolt/interfaces';\n\nimport {BaseMediator} from 'game/mediator/BaseMediator';\nimport {Play} from 'game/state/Play';\nimport {Notifications} from 'game/utils';\n\nexport class PlayMediator extends BaseMediator {\n    public static MEDIATOR_NAME: string = 'PlayMediator';\n\n    public onRegister(): void {\n    }\n    public listNotificationInterests(): string[] {\n        return [\n            Notifications.GAME_CONNECTED,\n            Notifications.START_COUNTDOWN,\n            Notifications.PLAYER_SWIPE\n        ]\n    }\n\n    public handleNotification(note: INotification) {\n        const name: string = note.getName();\n        const body: any = note.getBody();\n\n        switch (name) {\n            case Notifications.PLAYER_SWIPE:\n                this.game.inputSwipe(body.playerNum, body.percent); \n                break;\n            case Notifications.START_COUNTDOWN:\n                this.game.startCountdown();\n                break;\n        }\n    }\n\n    public sendInitCountdown():void{\n        this.sendNotification(Notifications.INIT_COUNTDOWN);\n    }\n\n    get numPlayers() {\n        return this.appModel.numPlayers;\n    }\n\n    get game(): Play {\n        return this._viewComponent as Play;\n    }\n}","import {State, Text, Sprite} from 'lightning/display';\nimport {Animation} from 'lightning/utils';\nimport {Time, Animator} from 'bolt/utils';\n\nimport {Fonts, Resources, Colours} from 'common/utils';\nimport {Ribbon, Countdown} from 'common/ui';\nimport {Cat} from 'game/gameobjects/Cat';\nimport {PlayMediator} from 'game/mediator/PlayMediator';\n\nexport class Play extends State {\n    private static PLAYER_COLORS: ('pink' | 'blue' | 'green' | 'orange')[] = ['pink', 'blue', 'green', 'orange'];\n\n    private static SLURP_SOUNDS: string[] = ['straw_slurp', 'slurping_2', 'slurp'];\n\n    public player1: Cat;\n    public player2: Cat;\n    public player3: Cat;\n    public player4: Cat;\n    public players: Cat[];\n    public bgs: Sprite[];\n    public numPlayers: number = 0;\n\n\n    public player1Bg: Sprite;\n    public player2Bg: Sprite;\n    public player3Bg: Sprite;\n    public player4Bg: Sprite;\n\n    public player1Ribbon: Ribbon;\n    public player2Ribbon: Ribbon;\n    public player3Ribbon: Ribbon;\n    public player4Ribbon: Ribbon;\n\n    public countdown: Countdown;\n    public winner: number = 0;\n    public hasWinner: boolean = false;\n\n    private playerContainerSize: number;\n    private mediator: PlayMediator;\n\n    public init(): void {\n        console.log('play init!')\n        this.mediator = new PlayMediator(this);\n    }\n\n    public preload(): void {\n        console.log('play preload')\n    }\n\n    public build(): void {\n        this.numPlayers = this.mediator.numPlayers;\n        this.playerContainerSize = this.app.width * 0.5 / this.numPlayers;\n        this.generateBackgrounds();\n        this.addPlayers();\n        this.countdown = this.app.ui.addChild(new Countdown(0, 0, 'blue')) as Countdown;\n\n        Animator.staggerFrom(this.bgs, 0.6, { x: this.app.width, ease: Sine.easeOut, delay: 0.6 }, 0.2);\n        Animator.staggerFrom(this.players, 0.6, { y: this.app.height * 2, ease: Sine.easeOut, delay: 1.2 }, 0.2);\n\n        Time.wait(3).then(() => {\n            this.mediator.sendInitCountdown();\n        });\n    }\n\n    public startCountdown() {\n        this.countdown.show();\n        Time.wait(1).then(() => {\n            this.countdown.countdown().then(() => {\n                this.start();\n            });\n        })\n    }\n\n    protected start(): void {\n        this.countdown.hide();\n    }\n\n    protected generateBackgrounds(): void {\n        const size = this.playerContainerSize * 2;\n        const gfx = this.addChild(new PIXI.Graphics()) as PIXI.Graphics;\n        this.bgs = [];\n\n        for (let i = 1; i < this.numPlayers + 1; i++) {\n            gfx.clear();\n            gfx.beginFill(Colours.getBackground(Play.PLAYER_COLORS[i - 1]));\n            gfx.drawRect(0, 0, this.app.width, this.app.height);\n            gfx.endFill();\n            this.bgs.push(this.add.sprite(size * (i - 1), 0, gfx.generateTexture(this.app.renderer, this.app.resolution)));\n\n        }\n        this.removeChild(gfx);\n        gfx.destroy();\n    }\n\n    public addPlayers(): void {\n        this.players = [];\n        let xpos = 0;\n\n        for (let i = 1; i < this.numPlayers + 1; i++) {\n            xpos += this.app.width * (this.playerContainerSize / this.app.width);\n            this.players.push(this.addChild(new Cat(xpos, this.app.height + 5, Play.PLAYER_COLORS[i - 1])) as Cat);\n            this.players[this.players.length - 1].ribbon = this.addChild(new Ribbon(xpos, 185, Play.PLAYER_COLORS[i - 1])) as Ribbon;\n            xpos += this.app.width * (this.playerContainerSize / this.app.width);\n        }\n    }\n\n    public inputSwipe(playerNum: number, percent: number): void {\n        this.players[playerNum - 1].lick(percent);\n        this.app.sound.play('sfx', Play.SLURP_SOUNDS[Math.floor(Math.random() * 3)]);\n    }\n\n    public update(): void {\n        this.updatePlayers();\n        this.checkPlayers();\n        if (!this.hasWinner && this.winner === this.numPlayers) {\n            // game over\n            this.hasWinner = true;\n            console.log('game over');\n        }\n    }\n\n    private updatePlayers(): void {\n        for (let i = 0; i < this.numPlayers; i++) {\n            this.players[i].update();\n        }\n    }\n\n    private checkPlayers(): void {\n        for (let i = 0; i < this.numPlayers; i++) {\n            if (this.players[i].canWin && this.players[i].finished) {\n                this.winner++;\n                this.players[i].canWin = false;\n                this.players[i].ribbon.setPosition(this.winner);\n                this.app.sound.play('sfx', 'fruit_collected');\n            }\n        }\n    }\n\n    public shutdown(): void {\n        this.mediator.destroy();\n    }\n}","import {Model} from 'bolt/mvc';\n\nexport class ApplicationModel extends Model {\n    public static MODEL_NAME: string = 'ApplicationModel';\n\n    public hasCopy: boolean = false;\n    public hasFlightData: boolean = false;\n    public gameId:string;\n    public numPlayers:number =0;\n\n    get name(): string {\n        return ApplicationModel.MODEL_NAME;\n    }\n}","import {Mediator, CopyModel} from 'bolt/mvc';\nimport {ApplicationModel} from 'game/model/ApplicationModel';\n\nexport class BaseMediator extends Mediator {\n    public static MEDIATOR_NAME: string = 'BaseMediator';\n\n    public getCopy(groupId: string, itemId: string): string {\n        return this.copyModel.getCopy(groupId, itemId);\n    }\n\n    public getCopyGroup(groupId: string): any {\n        return this.copyModel.getCopyGroup(groupId);\n    }\n\n    public get name(): string {\n        return this.mediatorName || BaseMediator.MEDIATOR_NAME;\n    }\n\n    public get appModel(): ApplicationModel {\n        return this.app.retrieveModel(ApplicationModel.MODEL_NAME) as ApplicationModel;\n    }\n\n    public get copyModel(): CopyModel {\n        return this.app.retrieveModel(CopyModel.MODEL_NAME) as CopyModel;\n    }\n}","export class Notifications {\n    public static GAME_CONNECTED: string = 'gameConnected';\n    public static PLAYER_CONNECTED: string = 'playerConnected';\n    public static PLAYER_SWIPE: string = 'playerSwipe';\n    public static START_GAME: string = 'startGame';\n    public static INIT_COUNTDOWN: string = 'initCountdown';\n    public static START_COUNTDOWN: string = 'startCountdown';\n}","import {INotification} from 'bolt/interfaces';\n\nimport {BaseMediator} from 'game/mediator/BaseMediator';\nimport {Splash} from 'game/state/Splash';\nimport {Notifications} from 'game/utils';\n\nexport class SplashMediator extends BaseMediator {\n    public static MEDIATOR_NAME: string = 'SplashMediator';\n\n    private connectionsEnabled: boolean = true;\n\n    public onRegister(): void {\n    }\n    public listNotificationInterests(): string[] {\n        return [\n            Notifications.GAME_CONNECTED,\n            Notifications.PLAYER_CONNECTED,\n            Notifications.START_GAME\n        ]\n    }\n\n    public handleNotification(note: INotification) {\n        const name: string = note.getName();\n        const body: any = note.getBody();\n\n        switch (name) {\n            case Notifications.GAME_CONNECTED:\n                this.updateGameId();\n                break;\n            case Notifications.PLAYER_CONNECTED:\n                if (this.connectionsEnabled) {\n                    this.playerConnected(body);\n                }\n                break;\n            case Notifications.START_GAME:\n                this.connectionsEnabled = false;\n                this.splash.proceedToGame();\n                break;\n        }\n    }\n\n    public updateGameId(): void {\n        this.splash.setGameId(this.appModel.gameId);\n    }\n\n    public playerConnected(playerNum: number, debug: boolean = false): void {\n        if (debug) {\n            this.appModel.numPlayers = playerNum;\n        }\n        this.splash.playerConnected(playerNum);\n    }\n\n    get numPlayers() {\n        return this.appModel.numPlayers;\n    }\n\n    get name(): string {\n        return SplashMediator.MEDIATOR_NAME;\n    }\n\n    get splash(): Splash {\n        return this._viewComponent as Splash;\n    }\n}","import {IBrowser} from '../interfaces';\n\nexport class Device {\n    public static IOS: string = 'iOS';\n    public static ANDROID: string = 'android';\n    public static UNKNOWN: string = 'unknown';\n\n    public static get mobile(): boolean {\n        return Device.mobileOS !== Device.UNKNOWN;\n    }\n\n    public static get mobileOS() {\n        const userAgent = window.navigator.userAgent || window.navigator.vendor || window['opera'];\n        if (userAgent.match(/iPad/i) || userAgent.match(/iPhone/i) || userAgent.match(/iPod/i)) {\n            return Device.IOS;\n        } else if (userAgent.match(/Android/i)) {\n            return Device.ANDROID;\n        } else {\n            return Device.UNKNOWN;\n        }\n    }\n\n    public static get browser(): IBrowser {\n        const ua: string = navigator.userAgent.toLowerCase();\n        return {\n            firefox: ua.indexOf('firefox') > -1,\n            ie: ua.indexOf('ie') > -1,\n            safari: ua.indexOf('safari') > -1,\n            chrome: ua.indexOf('chrome') > -1,\n        }\n    }\n\n    public static get pixelRatio() {\n        return typeof window.devicePixelRatio !== undefined ? window.devicePixelRatio : 1;\n    }\n\n    public static get customPixelRatio() {\n        return Device.pixelRatio >= 1.5 ? 2 : 1;\n    }\n}","import Promise from \"bluebird\";\nexport class Animator {\n    static to(target: any, duration: number, vars: any): Promise<{}> {\n        return new Promise(function (resolve, reject) {\n            vars.onComplete = resolve;\n            TweenMax.to(target, duration, vars);\n        });\n    }\n\n    static from(target: any, duration: number, vars: any): Promise<{}> {\n        return new Promise(function (resolve, reject) {\n            vars.onComplete = () => resolve(vars.onCompleteParams);\n            TweenMax.from(target, duration, vars);\n        });\n    }\n\n    static fromTo(target: any, duration: number, fromVars: any, toVars: any): Promise<{}> {\n        return new Promise(function (resolve, reject) {\n            toVars.onComplete = () => resolve(toVars.onCompleteParams);\n            TweenMax.fromTo(target, duration, fromVars, toVars);\n        });\n    }\n\n    static staggerTo(targets: any, duration: number, vars: any, stagger: number, onCompleteParams: any[] = null): Promise<{}> {\n        return new Promise(function (resolve, reject) {\n            TweenMax.staggerTo(targets, duration, vars, stagger, () => { resolve(onCompleteParams) });\n        });\n    }\n\n    static staggerFrom(targets: any, duration: number, vars: any, stagger: number, onCompleteParams: any[] = null): Promise<{}> {\n        return new Promise(function (resolve, reject) {\n            TweenMax.staggerFrom(targets, duration, vars, stagger, () => { resolve(onCompleteParams) });\n        });\n    }\n\n    static staggerFromTo(targets: any, duration: number, fromVars: any, toVars: any, stagger: number, onCompleteParams: any[]): Promise<{}> {\n        return new Promise(function (resolve, reject) {\n            TweenMax.staggerFromTo(targets, duration, fromVars, toVars, stagger, () => { resolve(onCompleteParams) });\n        });\n    }\n}","/* */ \n\"format global\";\n/* @preserve\n * The MIT License (MIT)\n * \n * Copyright (c) 2013-2015 Petka Antonov\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n * \n */\n/**\n * bluebird build version 3.4.6\n * Features enabled: core, race, call_get, generators, map, nodeify, promisify, props, reduce, settle, some, using, timers, filter, any, each\n*/\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var f;\"undefined\"!=typeof window?f=window:\"undefined\"!=typeof global?f=global:\"undefined\"!=typeof self&&(f=self),f.Promise=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof _dereq_==\"function\"&&_dereq_;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof _dereq_==\"function\"&&_dereq_;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nvar SomePromiseArray = Promise._SomePromiseArray;\nfunction any(promises) {\n    var ret = new SomePromiseArray(promises);\n    var promise = ret.promise();\n    ret.setHowMany(1);\n    ret.setUnwrap();\n    ret.init();\n    return promise;\n}\n\nPromise.any = function (promises) {\n    return any(promises);\n};\n\nPromise.prototype.any = function () {\n    return any(this);\n};\n\n};\n\n},{}],2:[function(_dereq_,module,exports){\n\"use strict\";\nvar firstLineError;\ntry {throw new Error(); } catch (e) {firstLineError = e;}\nvar schedule = _dereq_(\"./schedule\");\nvar Queue = _dereq_(\"./queue\");\nvar util = _dereq_(\"./util\");\n\nfunction Async() {\n    this._customScheduler = false;\n    this._isTickUsed = false;\n    this._lateQueue = new Queue(16);\n    this._normalQueue = new Queue(16);\n    this._haveDrainedQueues = false;\n    this._trampolineEnabled = true;\n    var self = this;\n    this.drainQueues = function () {\n        self._drainQueues();\n    };\n    this._schedule = schedule;\n}\n\nAsync.prototype.setScheduler = function(fn) {\n    var prev = this._schedule;\n    this._schedule = fn;\n    this._customScheduler = true;\n    return prev;\n};\n\nAsync.prototype.hasCustomScheduler = function() {\n    return this._customScheduler;\n};\n\nAsync.prototype.enableTrampoline = function() {\n    this._trampolineEnabled = true;\n};\n\nAsync.prototype.disableTrampolineIfNecessary = function() {\n    if (util.hasDevTools) {\n        this._trampolineEnabled = false;\n    }\n};\n\nAsync.prototype.haveItemsQueued = function () {\n    return this._isTickUsed || this._haveDrainedQueues;\n};\n\n\nAsync.prototype.fatalError = function(e, isNode) {\n    if (isNode) {\n        process.stderr.write(\"Fatal \" + (e instanceof Error ? e.stack : e) +\n            \"\\n\");\n        process.exit(2);\n    } else {\n        this.throwLater(e);\n    }\n};\n\nAsync.prototype.throwLater = function(fn, arg) {\n    if (arguments.length === 1) {\n        arg = fn;\n        fn = function () { throw arg; };\n    }\n    if (typeof setTimeout !== \"undefined\") {\n        setTimeout(function() {\n            fn(arg);\n        }, 0);\n    } else try {\n        this._schedule(function() {\n            fn(arg);\n        });\n    } catch (e) {\n        throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n};\n\nfunction AsyncInvokeLater(fn, receiver, arg) {\n    this._lateQueue.push(fn, receiver, arg);\n    this._queueTick();\n}\n\nfunction AsyncInvoke(fn, receiver, arg) {\n    this._normalQueue.push(fn, receiver, arg);\n    this._queueTick();\n}\n\nfunction AsyncSettlePromises(promise) {\n    this._normalQueue._pushOne(promise);\n    this._queueTick();\n}\n\nif (!util.hasDevTools) {\n    Async.prototype.invokeLater = AsyncInvokeLater;\n    Async.prototype.invoke = AsyncInvoke;\n    Async.prototype.settlePromises = AsyncSettlePromises;\n} else {\n    Async.prototype.invokeLater = function (fn, receiver, arg) {\n        if (this._trampolineEnabled) {\n            AsyncInvokeLater.call(this, fn, receiver, arg);\n        } else {\n            this._schedule(function() {\n                setTimeout(function() {\n                    fn.call(receiver, arg);\n                }, 100);\n            });\n        }\n    };\n\n    Async.prototype.invoke = function (fn, receiver, arg) {\n        if (this._trampolineEnabled) {\n            AsyncInvoke.call(this, fn, receiver, arg);\n        } else {\n            this._schedule(function() {\n                fn.call(receiver, arg);\n            });\n        }\n    };\n\n    Async.prototype.settlePromises = function(promise) {\n        if (this._trampolineEnabled) {\n            AsyncSettlePromises.call(this, promise);\n        } else {\n            this._schedule(function() {\n                promise._settlePromises();\n            });\n        }\n    };\n}\n\nAsync.prototype.invokeFirst = function (fn, receiver, arg) {\n    this._normalQueue.unshift(fn, receiver, arg);\n    this._queueTick();\n};\n\nAsync.prototype._drainQueue = function(queue) {\n    while (queue.length() > 0) {\n        var fn = queue.shift();\n        if (typeof fn !== \"function\") {\n            fn._settlePromises();\n            continue;\n        }\n        var receiver = queue.shift();\n        var arg = queue.shift();\n        fn.call(receiver, arg);\n    }\n};\n\nAsync.prototype._drainQueues = function () {\n    this._drainQueue(this._normalQueue);\n    this._reset();\n    this._haveDrainedQueues = true;\n    this._drainQueue(this._lateQueue);\n};\n\nAsync.prototype._queueTick = function () {\n    if (!this._isTickUsed) {\n        this._isTickUsed = true;\n        this._schedule(this.drainQueues);\n    }\n};\n\nAsync.prototype._reset = function () {\n    this._isTickUsed = false;\n};\n\nmodule.exports = Async;\nmodule.exports.firstLineError = firstLineError;\n\n},{\"./queue\":26,\"./schedule\":29,\"./util\":36}],3:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, tryConvertToPromise, debug) {\nvar calledBind = false;\nvar rejectThis = function(_, e) {\n    this._reject(e);\n};\n\nvar targetRejected = function(e, context) {\n    context.promiseRejectionQueued = true;\n    context.bindingPromise._then(rejectThis, rejectThis, null, this, e);\n};\n\nvar bindingResolved = function(thisArg, context) {\n    if (((this._bitField & 50397184) === 0)) {\n        this._resolveCallback(context.target);\n    }\n};\n\nvar bindingRejected = function(e, context) {\n    if (!context.promiseRejectionQueued) this._reject(e);\n};\n\nPromise.prototype.bind = function (thisArg) {\n    if (!calledBind) {\n        calledBind = true;\n        Promise.prototype._propagateFrom = debug.propagateFromFunction();\n        Promise.prototype._boundValue = debug.boundValueFunction();\n    }\n    var maybePromise = tryConvertToPromise(thisArg);\n    var ret = new Promise(INTERNAL);\n    ret._propagateFrom(this, 1);\n    var target = this._target();\n    ret._setBoundTo(maybePromise);\n    if (maybePromise instanceof Promise) {\n        var context = {\n            promiseRejectionQueued: false,\n            promise: ret,\n            target: target,\n            bindingPromise: maybePromise\n        };\n        target._then(INTERNAL, targetRejected, undefined, ret, context);\n        maybePromise._then(\n            bindingResolved, bindingRejected, undefined, ret, context);\n        ret._setOnCancel(maybePromise);\n    } else {\n        ret._resolveCallback(target);\n    }\n    return ret;\n};\n\nPromise.prototype._setBoundTo = function (obj) {\n    if (obj !== undefined) {\n        this._bitField = this._bitField | 2097152;\n        this._boundTo = obj;\n    } else {\n        this._bitField = this._bitField & (~2097152);\n    }\n};\n\nPromise.prototype._isBound = function () {\n    return (this._bitField & 2097152) === 2097152;\n};\n\nPromise.bind = function (thisArg, value) {\n    return Promise.resolve(value).bind(thisArg);\n};\n};\n\n},{}],4:[function(_dereq_,module,exports){\n\"use strict\";\nvar old;\nif (typeof Promise !== \"undefined\") old = Promise;\nfunction noConflict() {\n    try { if (Promise === bluebird) Promise = old; }\n    catch (e) {}\n    return bluebird;\n}\nvar bluebird = _dereq_(\"./promise\")();\nbluebird.noConflict = noConflict;\nmodule.exports = bluebird;\n\n},{\"./promise\":22}],5:[function(_dereq_,module,exports){\n\"use strict\";\nvar cr = Object.create;\nif (cr) {\n    var callerCache = cr(null);\n    var getterCache = cr(null);\n    callerCache[\" size\"] = getterCache[\" size\"] = 0;\n}\n\nmodule.exports = function(Promise) {\nvar util = _dereq_(\"./util\");\nvar canEvaluate = util.canEvaluate;\nvar isIdentifier = util.isIdentifier;\n\nvar getMethodCaller;\nvar getGetter;\nif (!true) {\nvar makeMethodCaller = function (methodName) {\n    return new Function(\"ensureMethod\", \"                                    \\n\\\n        return function(obj) {                                               \\n\\\n            'use strict'                                                     \\n\\\n            var len = this.length;                                           \\n\\\n            ensureMethod(obj, 'methodName');                                 \\n\\\n            switch(len) {                                                    \\n\\\n                case 1: return obj.methodName(this[0]);                      \\n\\\n                case 2: return obj.methodName(this[0], this[1]);             \\n\\\n                case 3: return obj.methodName(this[0], this[1], this[2]);    \\n\\\n                case 0: return obj.methodName();                             \\n\\\n                default:                                                     \\n\\\n                    return obj.methodName.apply(obj, this);                  \\n\\\n            }                                                                \\n\\\n        };                                                                   \\n\\\n        \".replace(/methodName/g, methodName))(ensureMethod);\n};\n\nvar makeGetter = function (propertyName) {\n    return new Function(\"obj\", \"                                             \\n\\\n        'use strict';                                                        \\n\\\n        return obj.propertyName;                                             \\n\\\n        \".replace(\"propertyName\", propertyName));\n};\n\nvar getCompiled = function(name, compiler, cache) {\n    var ret = cache[name];\n    if (typeof ret !== \"function\") {\n        if (!isIdentifier(name)) {\n            return null;\n        }\n        ret = compiler(name);\n        cache[name] = ret;\n        cache[\" size\"]++;\n        if (cache[\" size\"] > 512) {\n            var keys = Object.keys(cache);\n            for (var i = 0; i < 256; ++i) delete cache[keys[i]];\n            cache[\" size\"] = keys.length - 256;\n        }\n    }\n    return ret;\n};\n\ngetMethodCaller = function(name) {\n    return getCompiled(name, makeMethodCaller, callerCache);\n};\n\ngetGetter = function(name) {\n    return getCompiled(name, makeGetter, getterCache);\n};\n}\n\nfunction ensureMethod(obj, methodName) {\n    var fn;\n    if (obj != null) fn = obj[methodName];\n    if (typeof fn !== \"function\") {\n        var message = \"Object \" + util.classString(obj) + \" has no method '\" +\n            util.toString(methodName) + \"'\";\n        throw new Promise.TypeError(message);\n    }\n    return fn;\n}\n\nfunction caller(obj) {\n    var methodName = this.pop();\n    var fn = ensureMethod(obj, methodName);\n    return fn.apply(obj, this);\n}\nPromise.prototype.call = function (methodName) {\n    var args = [].slice.call(arguments, 1);;\n    if (!true) {\n        if (canEvaluate) {\n            var maybeCaller = getMethodCaller(methodName);\n            if (maybeCaller !== null) {\n                return this._then(\n                    maybeCaller, undefined, undefined, args, undefined);\n            }\n        }\n    }\n    args.push(methodName);\n    return this._then(caller, undefined, undefined, args, undefined);\n};\n\nfunction namedGetter(obj) {\n    return obj[this];\n}\nfunction indexedGetter(obj) {\n    var index = +this;\n    if (index < 0) index = Math.max(0, index + obj.length);\n    return obj[index];\n}\nPromise.prototype.get = function (propertyName) {\n    var isIndex = (typeof propertyName === \"number\");\n    var getter;\n    if (!isIndex) {\n        if (canEvaluate) {\n            var maybeGetter = getGetter(propertyName);\n            getter = maybeGetter !== null ? maybeGetter : namedGetter;\n        } else {\n            getter = namedGetter;\n        }\n    } else {\n        getter = indexedGetter;\n    }\n    return this._then(getter, undefined, undefined, propertyName, undefined);\n};\n};\n\n},{\"./util\":36}],6:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, PromiseArray, apiRejection, debug) {\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar async = Promise._async;\n\nPromise.prototype[\"break\"] = Promise.prototype.cancel = function() {\n    if (!debug.cancellation()) return this._warn(\"cancellation is disabled\");\n\n    var promise = this;\n    var child = promise;\n    while (promise._isCancellable()) {\n        if (!promise._cancelBy(child)) {\n            if (child._isFollowing()) {\n                child._followee().cancel();\n            } else {\n                child._cancelBranched();\n            }\n            break;\n        }\n\n        var parent = promise._cancellationParent;\n        if (parent == null || !parent._isCancellable()) {\n            if (promise._isFollowing()) {\n                promise._followee().cancel();\n            } else {\n                promise._cancelBranched();\n            }\n            break;\n        } else {\n            if (promise._isFollowing()) promise._followee().cancel();\n            promise._setWillBeCancelled();\n            child = promise;\n            promise = parent;\n        }\n    }\n};\n\nPromise.prototype._branchHasCancelled = function() {\n    this._branchesRemainingToCancel--;\n};\n\nPromise.prototype._enoughBranchesHaveCancelled = function() {\n    return this._branchesRemainingToCancel === undefined ||\n           this._branchesRemainingToCancel <= 0;\n};\n\nPromise.prototype._cancelBy = function(canceller) {\n    if (canceller === this) {\n        this._branchesRemainingToCancel = 0;\n        this._invokeOnCancel();\n        return true;\n    } else {\n        this._branchHasCancelled();\n        if (this._enoughBranchesHaveCancelled()) {\n            this._invokeOnCancel();\n            return true;\n        }\n    }\n    return false;\n};\n\nPromise.prototype._cancelBranched = function() {\n    if (this._enoughBranchesHaveCancelled()) {\n        this._cancel();\n    }\n};\n\nPromise.prototype._cancel = function() {\n    if (!this._isCancellable()) return;\n    this._setCancelled();\n    async.invoke(this._cancelPromises, this, undefined);\n};\n\nPromise.prototype._cancelPromises = function() {\n    if (this._length() > 0) this._settlePromises();\n};\n\nPromise.prototype._unsetOnCancel = function() {\n    this._onCancelField = undefined;\n};\n\nPromise.prototype._isCancellable = function() {\n    return this.isPending() && !this._isCancelled();\n};\n\nPromise.prototype.isCancellable = function() {\n    return this.isPending() && !this.isCancelled();\n};\n\nPromise.prototype._doInvokeOnCancel = function(onCancelCallback, internalOnly) {\n    if (util.isArray(onCancelCallback)) {\n        for (var i = 0; i < onCancelCallback.length; ++i) {\n            this._doInvokeOnCancel(onCancelCallback[i], internalOnly);\n        }\n    } else if (onCancelCallback !== undefined) {\n        if (typeof onCancelCallback === \"function\") {\n            if (!internalOnly) {\n                var e = tryCatch(onCancelCallback).call(this._boundValue());\n                if (e === errorObj) {\n                    this._attachExtraTrace(e.e);\n                    async.throwLater(e.e);\n                }\n            }\n        } else {\n            onCancelCallback._resultCancelled(this);\n        }\n    }\n};\n\nPromise.prototype._invokeOnCancel = function() {\n    var onCancelCallback = this._onCancel();\n    this._unsetOnCancel();\n    async.invoke(this._doInvokeOnCancel, this, onCancelCallback);\n};\n\nPromise.prototype._invokeInternalOnCancel = function() {\n    if (this._isCancellable()) {\n        this._doInvokeOnCancel(this._onCancel(), true);\n        this._unsetOnCancel();\n    }\n};\n\nPromise.prototype._resultCancelled = function() {\n    this.cancel();\n};\n\n};\n\n},{\"./util\":36}],7:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(NEXT_FILTER) {\nvar util = _dereq_(\"./util\");\nvar getKeys = _dereq_(\"./es5\").keys;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\n\nfunction catchFilter(instances, cb, promise) {\n    return function(e) {\n        var boundTo = promise._boundValue();\n        predicateLoop: for (var i = 0; i < instances.length; ++i) {\n            var item = instances[i];\n\n            if (item === Error ||\n                (item != null && item.prototype instanceof Error)) {\n                if (e instanceof item) {\n                    return tryCatch(cb).call(boundTo, e);\n                }\n            } else if (typeof item === \"function\") {\n                var matchesPredicate = tryCatch(item).call(boundTo, e);\n                if (matchesPredicate === errorObj) {\n                    return matchesPredicate;\n                } else if (matchesPredicate) {\n                    return tryCatch(cb).call(boundTo, e);\n                }\n            } else if (util.isObject(e)) {\n                var keys = getKeys(item);\n                for (var j = 0; j < keys.length; ++j) {\n                    var key = keys[j];\n                    if (item[key] != e[key]) {\n                        continue predicateLoop;\n                    }\n                }\n                return tryCatch(cb).call(boundTo, e);\n            }\n        }\n        return NEXT_FILTER;\n    };\n}\n\nreturn catchFilter;\n};\n\n},{\"./es5\":13,\"./util\":36}],8:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nvar longStackTraces = false;\nvar contextStack = [];\n\nPromise.prototype._promiseCreated = function() {};\nPromise.prototype._pushContext = function() {};\nPromise.prototype._popContext = function() {return null;};\nPromise._peekContext = Promise.prototype._peekContext = function() {};\n\nfunction Context() {\n    this._trace = new Context.CapturedTrace(peekContext());\n}\nContext.prototype._pushContext = function () {\n    if (this._trace !== undefined) {\n        this._trace._promiseCreated = null;\n        contextStack.push(this._trace);\n    }\n};\n\nContext.prototype._popContext = function () {\n    if (this._trace !== undefined) {\n        var trace = contextStack.pop();\n        var ret = trace._promiseCreated;\n        trace._promiseCreated = null;\n        return ret;\n    }\n    return null;\n};\n\nfunction createContext() {\n    if (longStackTraces) return new Context();\n}\n\nfunction peekContext() {\n    var lastIndex = contextStack.length - 1;\n    if (lastIndex >= 0) {\n        return contextStack[lastIndex];\n    }\n    return undefined;\n}\nContext.CapturedTrace = null;\nContext.create = createContext;\nContext.deactivateLongStackTraces = function() {};\nContext.activateLongStackTraces = function() {\n    var Promise_pushContext = Promise.prototype._pushContext;\n    var Promise_popContext = Promise.prototype._popContext;\n    var Promise_PeekContext = Promise._peekContext;\n    var Promise_peekContext = Promise.prototype._peekContext;\n    var Promise_promiseCreated = Promise.prototype._promiseCreated;\n    Context.deactivateLongStackTraces = function() {\n        Promise.prototype._pushContext = Promise_pushContext;\n        Promise.prototype._popContext = Promise_popContext;\n        Promise._peekContext = Promise_PeekContext;\n        Promise.prototype._peekContext = Promise_peekContext;\n        Promise.prototype._promiseCreated = Promise_promiseCreated;\n        longStackTraces = false;\n    };\n    longStackTraces = true;\n    Promise.prototype._pushContext = Context.prototype._pushContext;\n    Promise.prototype._popContext = Context.prototype._popContext;\n    Promise._peekContext = Promise.prototype._peekContext = peekContext;\n    Promise.prototype._promiseCreated = function() {\n        var ctx = this._peekContext();\n        if (ctx && ctx._promiseCreated == null) ctx._promiseCreated = this;\n    };\n};\nreturn Context;\n};\n\n},{}],9:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, Context) {\nvar getDomain = Promise._getDomain;\nvar async = Promise._async;\nvar Warning = _dereq_(\"./errors\").Warning;\nvar util = _dereq_(\"./util\");\nvar canAttachTrace = util.canAttachTrace;\nvar unhandledRejectionHandled;\nvar possiblyUnhandledRejection;\nvar bluebirdFramePattern =\n    /[\\\\\\/]bluebird[\\\\\\/]js[\\\\\\/](release|debug|instrumented)/;\nvar nodeFramePattern = /\\((?:timers\\.js):\\d+:\\d+\\)/;\nvar parseLinePattern = /[\\/<\\(](.+?):(\\d+):(\\d+)\\)?\\s*$/;\nvar stackFramePattern = null;\nvar formatStack = null;\nvar indentStackFrames = false;\nvar printWarning;\nvar debugging = !!(util.env(\"BLUEBIRD_DEBUG\") != 0 &&\n                        (true ||\n                         util.env(\"BLUEBIRD_DEBUG\") ||\n                         util.env(\"NODE_ENV\") === \"development\"));\n\nvar warnings = !!(util.env(\"BLUEBIRD_WARNINGS\") != 0 &&\n    (debugging || util.env(\"BLUEBIRD_WARNINGS\")));\n\nvar longStackTraces = !!(util.env(\"BLUEBIRD_LONG_STACK_TRACES\") != 0 &&\n    (debugging || util.env(\"BLUEBIRD_LONG_STACK_TRACES\")));\n\nvar wForgottenReturn = util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\") != 0 &&\n    (warnings || !!util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\"));\n\nPromise.prototype.suppressUnhandledRejections = function() {\n    var target = this._target();\n    target._bitField = ((target._bitField & (~1048576)) |\n                      524288);\n};\n\nPromise.prototype._ensurePossibleRejectionHandled = function () {\n    if ((this._bitField & 524288) !== 0) return;\n    this._setRejectionIsUnhandled();\n    async.invokeLater(this._notifyUnhandledRejection, this, undefined);\n};\n\nPromise.prototype._notifyUnhandledRejectionIsHandled = function () {\n    fireRejectionEvent(\"rejectionHandled\",\n                                  unhandledRejectionHandled, undefined, this);\n};\n\nPromise.prototype._setReturnedNonUndefined = function() {\n    this._bitField = this._bitField | 268435456;\n};\n\nPromise.prototype._returnedNonUndefined = function() {\n    return (this._bitField & 268435456) !== 0;\n};\n\nPromise.prototype._notifyUnhandledRejection = function () {\n    if (this._isRejectionUnhandled()) {\n        var reason = this._settledValue();\n        this._setUnhandledRejectionIsNotified();\n        fireRejectionEvent(\"unhandledRejection\",\n                                      possiblyUnhandledRejection, reason, this);\n    }\n};\n\nPromise.prototype._setUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField | 262144;\n};\n\nPromise.prototype._unsetUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField & (~262144);\n};\n\nPromise.prototype._isUnhandledRejectionNotified = function () {\n    return (this._bitField & 262144) > 0;\n};\n\nPromise.prototype._setRejectionIsUnhandled = function () {\n    this._bitField = this._bitField | 1048576;\n};\n\nPromise.prototype._unsetRejectionIsUnhandled = function () {\n    this._bitField = this._bitField & (~1048576);\n    if (this._isUnhandledRejectionNotified()) {\n        this._unsetUnhandledRejectionIsNotified();\n        this._notifyUnhandledRejectionIsHandled();\n    }\n};\n\nPromise.prototype._isRejectionUnhandled = function () {\n    return (this._bitField & 1048576) > 0;\n};\n\nPromise.prototype._warn = function(message, shouldUseOwnTrace, promise) {\n    return warn(message, shouldUseOwnTrace, promise || this);\n};\n\nPromise.onPossiblyUnhandledRejection = function (fn) {\n    var domain = getDomain();\n    possiblyUnhandledRejection =\n        typeof fn === \"function\" ? (domain === null ?\n                                            fn : util.domainBind(domain, fn))\n                                 : undefined;\n};\n\nPromise.onUnhandledRejectionHandled = function (fn) {\n    var domain = getDomain();\n    unhandledRejectionHandled =\n        typeof fn === \"function\" ? (domain === null ?\n                                            fn : util.domainBind(domain, fn))\n                                 : undefined;\n};\n\nvar disableLongStackTraces = function() {};\nPromise.longStackTraces = function () {\n    if (async.haveItemsQueued() && !config.longStackTraces) {\n        throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    if (!config.longStackTraces && longStackTracesIsSupported()) {\n        var Promise_captureStackTrace = Promise.prototype._captureStackTrace;\n        var Promise_attachExtraTrace = Promise.prototype._attachExtraTrace;\n        config.longStackTraces = true;\n        disableLongStackTraces = function() {\n            if (async.haveItemsQueued() && !config.longStackTraces) {\n                throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n            }\n            Promise.prototype._captureStackTrace = Promise_captureStackTrace;\n            Promise.prototype._attachExtraTrace = Promise_attachExtraTrace;\n            Context.deactivateLongStackTraces();\n            async.enableTrampoline();\n            config.longStackTraces = false;\n        };\n        Promise.prototype._captureStackTrace = longStackTracesCaptureStackTrace;\n        Promise.prototype._attachExtraTrace = longStackTracesAttachExtraTrace;\n        Context.activateLongStackTraces();\n        async.disableTrampolineIfNecessary();\n    }\n};\n\nPromise.hasLongStackTraces = function () {\n    return config.longStackTraces && longStackTracesIsSupported();\n};\n\nvar fireDomEvent = (function() {\n    try {\n        if (typeof CustomEvent === \"function\") {\n            var event = new CustomEvent(\"CustomEvent\");\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = new CustomEvent(name.toLowerCase(), {\n                    detail: event,\n                    cancelable: true\n                });\n                return !util.global.dispatchEvent(domEvent);\n            };\n        } else if (typeof Event === \"function\") {\n            var event = new Event(\"CustomEvent\");\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = new Event(name.toLowerCase(), {\n                    cancelable: true\n                });\n                domEvent.detail = event;\n                return !util.global.dispatchEvent(domEvent);\n            };\n        } else {\n            var event = document.createEvent(\"CustomEvent\");\n            event.initCustomEvent(\"testingtheevent\", false, true, {});\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = document.createEvent(\"CustomEvent\");\n                domEvent.initCustomEvent(name.toLowerCase(), false, true,\n                    event);\n                return !util.global.dispatchEvent(domEvent);\n            };\n        }\n    } catch (e) {}\n    return function() {\n        return false;\n    };\n})();\n\nvar fireGlobalEvent = (function() {\n    if (util.isNode) {\n        return function() {\n            return process.emit.apply(process, arguments);\n        };\n    } else {\n        if (!util.global) {\n            return function() {\n                return false;\n            };\n        }\n        return function(name) {\n            var methodName = \"on\" + name.toLowerCase();\n            var method = util.global[methodName];\n            if (!method) return false;\n            method.apply(util.global, [].slice.call(arguments, 1));\n            return true;\n        };\n    }\n})();\n\nfunction generatePromiseLifecycleEventObject(name, promise) {\n    return {promise: promise};\n}\n\nvar eventToObjectGenerator = {\n    promiseCreated: generatePromiseLifecycleEventObject,\n    promiseFulfilled: generatePromiseLifecycleEventObject,\n    promiseRejected: generatePromiseLifecycleEventObject,\n    promiseResolved: generatePromiseLifecycleEventObject,\n    promiseCancelled: generatePromiseLifecycleEventObject,\n    promiseChained: function(name, promise, child) {\n        return {promise: promise, child: child};\n    },\n    warning: function(name, warning) {\n        return {warning: warning};\n    },\n    unhandledRejection: function (name, reason, promise) {\n        return {reason: reason, promise: promise};\n    },\n    rejectionHandled: generatePromiseLifecycleEventObject\n};\n\nvar activeFireEvent = function (name) {\n    var globalEventFired = false;\n    try {\n        globalEventFired = fireGlobalEvent.apply(null, arguments);\n    } catch (e) {\n        async.throwLater(e);\n        globalEventFired = true;\n    }\n\n    var domEventFired = false;\n    try {\n        domEventFired = fireDomEvent(name,\n                    eventToObjectGenerator[name].apply(null, arguments));\n    } catch (e) {\n        async.throwLater(e);\n        domEventFired = true;\n    }\n\n    return domEventFired || globalEventFired;\n};\n\nPromise.config = function(opts) {\n    opts = Object(opts);\n    if (\"longStackTraces\" in opts) {\n        if (opts.longStackTraces) {\n            Promise.longStackTraces();\n        } else if (!opts.longStackTraces && Promise.hasLongStackTraces()) {\n            disableLongStackTraces();\n        }\n    }\n    if (\"warnings\" in opts) {\n        var warningsOption = opts.warnings;\n        config.warnings = !!warningsOption;\n        wForgottenReturn = config.warnings;\n\n        if (util.isObject(warningsOption)) {\n            if (\"wForgottenReturn\" in warningsOption) {\n                wForgottenReturn = !!warningsOption.wForgottenReturn;\n            }\n        }\n    }\n    if (\"cancellation\" in opts && opts.cancellation && !config.cancellation) {\n        if (async.haveItemsQueued()) {\n            throw new Error(\n                \"cannot enable cancellation after promises are in use\");\n        }\n        Promise.prototype._clearCancellationData =\n            cancellationClearCancellationData;\n        Promise.prototype._propagateFrom = cancellationPropagateFrom;\n        Promise.prototype._onCancel = cancellationOnCancel;\n        Promise.prototype._setOnCancel = cancellationSetOnCancel;\n        Promise.prototype._attachCancellationCallback =\n            cancellationAttachCancellationCallback;\n        Promise.prototype._execute = cancellationExecute;\n        propagateFromFunction = cancellationPropagateFrom;\n        config.cancellation = true;\n    }\n    if (\"monitoring\" in opts) {\n        if (opts.monitoring && !config.monitoring) {\n            config.monitoring = true;\n            Promise.prototype._fireEvent = activeFireEvent;\n        } else if (!opts.monitoring && config.monitoring) {\n            config.monitoring = false;\n            Promise.prototype._fireEvent = defaultFireEvent;\n        }\n    }\n};\n\nfunction defaultFireEvent() { return false; }\n\nPromise.prototype._fireEvent = defaultFireEvent;\nPromise.prototype._execute = function(executor, resolve, reject) {\n    try {\n        executor(resolve, reject);\n    } catch (e) {\n        return e;\n    }\n};\nPromise.prototype._onCancel = function () {};\nPromise.prototype._setOnCancel = function (handler) { ; };\nPromise.prototype._attachCancellationCallback = function(onCancel) {\n    ;\n};\nPromise.prototype._captureStackTrace = function () {};\nPromise.prototype._attachExtraTrace = function () {};\nPromise.prototype._clearCancellationData = function() {};\nPromise.prototype._propagateFrom = function (parent, flags) {\n    ;\n    ;\n};\n\nfunction cancellationExecute(executor, resolve, reject) {\n    var promise = this;\n    try {\n        executor(resolve, reject, function(onCancel) {\n            if (typeof onCancel !== \"function\") {\n                throw new TypeError(\"onCancel must be a function, got: \" +\n                                    util.toString(onCancel));\n            }\n            promise._attachCancellationCallback(onCancel);\n        });\n    } catch (e) {\n        return e;\n    }\n}\n\nfunction cancellationAttachCancellationCallback(onCancel) {\n    if (!this._isCancellable()) return this;\n\n    var previousOnCancel = this._onCancel();\n    if (previousOnCancel !== undefined) {\n        if (util.isArray(previousOnCancel)) {\n            previousOnCancel.push(onCancel);\n        } else {\n            this._setOnCancel([previousOnCancel, onCancel]);\n        }\n    } else {\n        this._setOnCancel(onCancel);\n    }\n}\n\nfunction cancellationOnCancel() {\n    return this._onCancelField;\n}\n\nfunction cancellationSetOnCancel(onCancel) {\n    this._onCancelField = onCancel;\n}\n\nfunction cancellationClearCancellationData() {\n    this._cancellationParent = undefined;\n    this._onCancelField = undefined;\n}\n\nfunction cancellationPropagateFrom(parent, flags) {\n    if ((flags & 1) !== 0) {\n        this._cancellationParent = parent;\n        var branchesRemainingToCancel = parent._branchesRemainingToCancel;\n        if (branchesRemainingToCancel === undefined) {\n            branchesRemainingToCancel = 0;\n        }\n        parent._branchesRemainingToCancel = branchesRemainingToCancel + 1;\n    }\n    if ((flags & 2) !== 0 && parent._isBound()) {\n        this._setBoundTo(parent._boundTo);\n    }\n}\n\nfunction bindingPropagateFrom(parent, flags) {\n    if ((flags & 2) !== 0 && parent._isBound()) {\n        this._setBoundTo(parent._boundTo);\n    }\n}\nvar propagateFromFunction = bindingPropagateFrom;\n\nfunction boundValueFunction() {\n    var ret = this._boundTo;\n    if (ret !== undefined) {\n        if (ret instanceof Promise) {\n            if (ret.isFulfilled()) {\n                return ret.value();\n            } else {\n                return undefined;\n            }\n        }\n    }\n    return ret;\n}\n\nfunction longStackTracesCaptureStackTrace() {\n    this._trace = new CapturedTrace(this._peekContext());\n}\n\nfunction longStackTracesAttachExtraTrace(error, ignoreSelf) {\n    if (canAttachTrace(error)) {\n        var trace = this._trace;\n        if (trace !== undefined) {\n            if (ignoreSelf) trace = trace._parent;\n        }\n        if (trace !== undefined) {\n            trace.attachExtraTrace(error);\n        } else if (!error.__stackCleaned__) {\n            var parsed = parseStackAndMessage(error);\n            util.notEnumerableProp(error, \"stack\",\n                parsed.message + \"\\n\" + parsed.stack.join(\"\\n\"));\n            util.notEnumerableProp(error, \"__stackCleaned__\", true);\n        }\n    }\n}\n\nfunction checkForgottenReturns(returnValue, promiseCreated, name, promise,\n                               parent) {\n    if (returnValue === undefined && promiseCreated !== null &&\n        wForgottenReturn) {\n        if (parent !== undefined && parent._returnedNonUndefined()) return;\n        if ((promise._bitField & 65535) === 0) return;\n\n        if (name) name = name + \" \";\n        var handlerLine = \"\";\n        var creatorLine = \"\";\n        if (promiseCreated._trace) {\n            var traceLines = promiseCreated._trace.stack.split(\"\\n\");\n            var stack = cleanStack(traceLines);\n            for (var i = stack.length - 1; i >= 0; --i) {\n                var line = stack[i];\n                if (!nodeFramePattern.test(line)) {\n                    var lineMatches = line.match(parseLinePattern);\n                    if (lineMatches) {\n                        handlerLine  = \"at \" + lineMatches[1] +\n                            \":\" + lineMatches[2] + \":\" + lineMatches[3] + \" \";\n                    }\n                    break;\n                }\n            }\n\n            if (stack.length > 0) {\n                var firstUserLine = stack[0];\n                for (var i = 0; i < traceLines.length; ++i) {\n\n                    if (traceLines[i] === firstUserLine) {\n                        if (i > 0) {\n                            creatorLine = \"\\n\" + traceLines[i - 1];\n                        }\n                        break;\n                    }\n                }\n\n            }\n        }\n        var msg = \"a promise was created in a \" + name +\n            \"handler \" + handlerLine + \"but was not returned from it, \" +\n            \"see http://goo.gl/rRqMUw\" +\n            creatorLine;\n        promise._warn(msg, true, promiseCreated);\n    }\n}\n\nfunction deprecated(name, replacement) {\n    var message = name +\n        \" is deprecated and will be removed in a future version.\";\n    if (replacement) message += \" Use \" + replacement + \" instead.\";\n    return warn(message);\n}\n\nfunction warn(message, shouldUseOwnTrace, promise) {\n    if (!config.warnings) return;\n    var warning = new Warning(message);\n    var ctx;\n    if (shouldUseOwnTrace) {\n        promise._attachExtraTrace(warning);\n    } else if (config.longStackTraces && (ctx = Promise._peekContext())) {\n        ctx.attachExtraTrace(warning);\n    } else {\n        var parsed = parseStackAndMessage(warning);\n        warning.stack = parsed.message + \"\\n\" + parsed.stack.join(\"\\n\");\n    }\n\n    if (!activeFireEvent(\"warning\", warning)) {\n        formatAndLogError(warning, \"\", true);\n    }\n}\n\nfunction reconstructStack(message, stacks) {\n    for (var i = 0; i < stacks.length - 1; ++i) {\n        stacks[i].push(\"From previous event:\");\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    if (i < stacks.length) {\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    return message + \"\\n\" + stacks.join(\"\\n\");\n}\n\nfunction removeDuplicateOrEmptyJumps(stacks) {\n    for (var i = 0; i < stacks.length; ++i) {\n        if (stacks[i].length === 0 ||\n            ((i + 1 < stacks.length) && stacks[i][0] === stacks[i+1][0])) {\n            stacks.splice(i, 1);\n            i--;\n        }\n    }\n}\n\nfunction removeCommonRoots(stacks) {\n    var current = stacks[0];\n    for (var i = 1; i < stacks.length; ++i) {\n        var prev = stacks[i];\n        var currentLastIndex = current.length - 1;\n        var currentLastLine = current[currentLastIndex];\n        var commonRootMeetPoint = -1;\n\n        for (var j = prev.length - 1; j >= 0; --j) {\n            if (prev[j] === currentLastLine) {\n                commonRootMeetPoint = j;\n                break;\n            }\n        }\n\n        for (var j = commonRootMeetPoint; j >= 0; --j) {\n            var line = prev[j];\n            if (current[currentLastIndex] === line) {\n                current.pop();\n                currentLastIndex--;\n            } else {\n                break;\n            }\n        }\n        current = prev;\n    }\n}\n\nfunction cleanStack(stack) {\n    var ret = [];\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        var isTraceLine = \"    (No stack trace)\" === line ||\n            stackFramePattern.test(line);\n        var isInternalFrame = isTraceLine && shouldIgnore(line);\n        if (isTraceLine && !isInternalFrame) {\n            if (indentStackFrames && line.charAt(0) !== \" \") {\n                line = \"    \" + line;\n            }\n            ret.push(line);\n        }\n    }\n    return ret;\n}\n\nfunction stackFramesAsArray(error) {\n    var stack = error.stack.replace(/\\s+$/g, \"\").split(\"\\n\");\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        if (\"    (No stack trace)\" === line || stackFramePattern.test(line)) {\n            break;\n        }\n    }\n    if (i > 0) {\n        stack = stack.slice(i);\n    }\n    return stack;\n}\n\nfunction parseStackAndMessage(error) {\n    var stack = error.stack;\n    var message = error.toString();\n    stack = typeof stack === \"string\" && stack.length > 0\n                ? stackFramesAsArray(error) : [\"    (No stack trace)\"];\n    return {\n        message: message,\n        stack: cleanStack(stack)\n    };\n}\n\nfunction formatAndLogError(error, title, isSoft) {\n    if (typeof console !== \"undefined\") {\n        var message;\n        if (util.isObject(error)) {\n            var stack = error.stack;\n            message = title + formatStack(stack, error);\n        } else {\n            message = title + String(error);\n        }\n        if (typeof printWarning === \"function\") {\n            printWarning(message, isSoft);\n        } else if (typeof console.log === \"function\" ||\n            typeof console.log === \"object\") {\n            console.log(message);\n        }\n    }\n}\n\nfunction fireRejectionEvent(name, localHandler, reason, promise) {\n    var localEventFired = false;\n    try {\n        if (typeof localHandler === \"function\") {\n            localEventFired = true;\n            if (name === \"rejectionHandled\") {\n                localHandler(promise);\n            } else {\n                localHandler(reason, promise);\n            }\n        }\n    } catch (e) {\n        async.throwLater(e);\n    }\n\n    if (name === \"unhandledRejection\") {\n        if (!activeFireEvent(name, reason, promise) && !localEventFired) {\n            formatAndLogError(reason, \"Unhandled rejection \");\n        }\n    } else {\n        activeFireEvent(name, promise);\n    }\n}\n\nfunction formatNonError(obj) {\n    var str;\n    if (typeof obj === \"function\") {\n        str = \"[function \" +\n            (obj.name || \"anonymous\") +\n            \"]\";\n    } else {\n        str = obj && typeof obj.toString === \"function\"\n            ? obj.toString() : util.toString(obj);\n        var ruselessToString = /\\[object [a-zA-Z0-9$_]+\\]/;\n        if (ruselessToString.test(str)) {\n            try {\n                var newStr = JSON.stringify(obj);\n                str = newStr;\n            }\n            catch(e) {\n\n            }\n        }\n        if (str.length === 0) {\n            str = \"(empty array)\";\n        }\n    }\n    return (\"(<\" + snip(str) + \">, no stack trace)\");\n}\n\nfunction snip(str) {\n    var maxChars = 41;\n    if (str.length < maxChars) {\n        return str;\n    }\n    return str.substr(0, maxChars - 3) + \"...\";\n}\n\nfunction longStackTracesIsSupported() {\n    return typeof captureStackTrace === \"function\";\n}\n\nvar shouldIgnore = function() { return false; };\nvar parseLineInfoRegex = /[\\/<\\(]([^:\\/]+):(\\d+):(?:\\d+)\\)?\\s*$/;\nfunction parseLineInfo(line) {\n    var matches = line.match(parseLineInfoRegex);\n    if (matches) {\n        return {\n            fileName: matches[1],\n            line: parseInt(matches[2], 10)\n        };\n    }\n}\n\nfunction setBounds(firstLineError, lastLineError) {\n    if (!longStackTracesIsSupported()) return;\n    var firstStackLines = firstLineError.stack.split(\"\\n\");\n    var lastStackLines = lastLineError.stack.split(\"\\n\");\n    var firstIndex = -1;\n    var lastIndex = -1;\n    var firstFileName;\n    var lastFileName;\n    for (var i = 0; i < firstStackLines.length; ++i) {\n        var result = parseLineInfo(firstStackLines[i]);\n        if (result) {\n            firstFileName = result.fileName;\n            firstIndex = result.line;\n            break;\n        }\n    }\n    for (var i = 0; i < lastStackLines.length; ++i) {\n        var result = parseLineInfo(lastStackLines[i]);\n        if (result) {\n            lastFileName = result.fileName;\n            lastIndex = result.line;\n            break;\n        }\n    }\n    if (firstIndex < 0 || lastIndex < 0 || !firstFileName || !lastFileName ||\n        firstFileName !== lastFileName || firstIndex >= lastIndex) {\n        return;\n    }\n\n    shouldIgnore = function(line) {\n        if (bluebirdFramePattern.test(line)) return true;\n        var info = parseLineInfo(line);\n        if (info) {\n            if (info.fileName === firstFileName &&\n                (firstIndex <= info.line && info.line <= lastIndex)) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\n\nfunction CapturedTrace(parent) {\n    this._parent = parent;\n    this._promisesCreated = 0;\n    var length = this._length = 1 + (parent === undefined ? 0 : parent._length);\n    captureStackTrace(this, CapturedTrace);\n    if (length > 32) this.uncycle();\n}\nutil.inherits(CapturedTrace, Error);\nContext.CapturedTrace = CapturedTrace;\n\nCapturedTrace.prototype.uncycle = function() {\n    var length = this._length;\n    if (length < 2) return;\n    var nodes = [];\n    var stackToIndex = {};\n\n    for (var i = 0, node = this; node !== undefined; ++i) {\n        nodes.push(node);\n        node = node._parent;\n    }\n    length = this._length = i;\n    for (var i = length - 1; i >= 0; --i) {\n        var stack = nodes[i].stack;\n        if (stackToIndex[stack] === undefined) {\n            stackToIndex[stack] = i;\n        }\n    }\n    for (var i = 0; i < length; ++i) {\n        var currentStack = nodes[i].stack;\n        var index = stackToIndex[currentStack];\n        if (index !== undefined && index !== i) {\n            if (index > 0) {\n                nodes[index - 1]._parent = undefined;\n                nodes[index - 1]._length = 1;\n            }\n            nodes[i]._parent = undefined;\n            nodes[i]._length = 1;\n            var cycleEdgeNode = i > 0 ? nodes[i - 1] : this;\n\n            if (index < length - 1) {\n                cycleEdgeNode._parent = nodes[index + 1];\n                cycleEdgeNode._parent.uncycle();\n                cycleEdgeNode._length =\n                    cycleEdgeNode._parent._length + 1;\n            } else {\n                cycleEdgeNode._parent = undefined;\n                cycleEdgeNode._length = 1;\n            }\n            var currentChildLength = cycleEdgeNode._length + 1;\n            for (var j = i - 2; j >= 0; --j) {\n                nodes[j]._length = currentChildLength;\n                currentChildLength++;\n            }\n            return;\n        }\n    }\n};\n\nCapturedTrace.prototype.attachExtraTrace = function(error) {\n    if (error.__stackCleaned__) return;\n    this.uncycle();\n    var parsed = parseStackAndMessage(error);\n    var message = parsed.message;\n    var stacks = [parsed.stack];\n\n    var trace = this;\n    while (trace !== undefined) {\n        stacks.push(cleanStack(trace.stack.split(\"\\n\")));\n        trace = trace._parent;\n    }\n    removeCommonRoots(stacks);\n    removeDuplicateOrEmptyJumps(stacks);\n    util.notEnumerableProp(error, \"stack\", reconstructStack(message, stacks));\n    util.notEnumerableProp(error, \"__stackCleaned__\", true);\n};\n\nvar captureStackTrace = (function stackDetection() {\n    var v8stackFramePattern = /^\\s*at\\s*/;\n    var v8stackFormatter = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if (error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    if (typeof Error.stackTraceLimit === \"number\" &&\n        typeof Error.captureStackTrace === \"function\") {\n        Error.stackTraceLimit += 6;\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        var captureStackTrace = Error.captureStackTrace;\n\n        shouldIgnore = function(line) {\n            return bluebirdFramePattern.test(line);\n        };\n        return function(receiver, ignoreUntil) {\n            Error.stackTraceLimit += 6;\n            captureStackTrace(receiver, ignoreUntil);\n            Error.stackTraceLimit -= 6;\n        };\n    }\n    var err = new Error();\n\n    if (typeof err.stack === \"string\" &&\n        err.stack.split(\"\\n\")[0].indexOf(\"stackDetection@\") >= 0) {\n        stackFramePattern = /@/;\n        formatStack = v8stackFormatter;\n        indentStackFrames = true;\n        return function captureStackTrace(o) {\n            o.stack = new Error().stack;\n        };\n    }\n\n    var hasStackAfterThrow;\n    try { throw new Error(); }\n    catch(e) {\n        hasStackAfterThrow = (\"stack\" in e);\n    }\n    if (!(\"stack\" in err) && hasStackAfterThrow &&\n        typeof Error.stackTraceLimit === \"number\") {\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        return function captureStackTrace(o) {\n            Error.stackTraceLimit += 6;\n            try { throw new Error(); }\n            catch(e) { o.stack = e.stack; }\n            Error.stackTraceLimit -= 6;\n        };\n    }\n\n    formatStack = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if ((typeof error === \"object\" ||\n            typeof error === \"function\") &&\n            error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    return null;\n\n})([]);\n\nif (typeof console !== \"undefined\" && typeof console.warn !== \"undefined\") {\n    printWarning = function (message) {\n        console.warn(message);\n    };\n    if (util.isNode && process.stderr.isTTY) {\n        printWarning = function(message, isSoft) {\n            var color = isSoft ? \"\\u001b[33m\" : \"\\u001b[31m\";\n            console.warn(color + message + \"\\u001b[0m\\n\");\n        };\n    } else if (!util.isNode && typeof (new Error().stack) === \"string\") {\n        printWarning = function(message, isSoft) {\n            console.warn(\"%c\" + message,\n                        isSoft ? \"color: darkorange\" : \"color: red\");\n        };\n    }\n}\n\nvar config = {\n    warnings: warnings,\n    longStackTraces: false,\n    cancellation: false,\n    monitoring: false\n};\n\nif (longStackTraces) Promise.longStackTraces();\n\nreturn {\n    longStackTraces: function() {\n        return config.longStackTraces;\n    },\n    warnings: function() {\n        return config.warnings;\n    },\n    cancellation: function() {\n        return config.cancellation;\n    },\n    monitoring: function() {\n        return config.monitoring;\n    },\n    propagateFromFunction: function() {\n        return propagateFromFunction;\n    },\n    boundValueFunction: function() {\n        return boundValueFunction;\n    },\n    checkForgottenReturns: checkForgottenReturns,\n    setBounds: setBounds,\n    warn: warn,\n    deprecated: deprecated,\n    CapturedTrace: CapturedTrace,\n    fireDomEvent: fireDomEvent,\n    fireGlobalEvent: fireGlobalEvent\n};\n};\n\n},{\"./errors\":12,\"./util\":36}],10:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nfunction returner() {\n    return this.value;\n}\nfunction thrower() {\n    throw this.reason;\n}\n\nPromise.prototype[\"return\"] =\nPromise.prototype.thenReturn = function (value) {\n    if (value instanceof Promise) value.suppressUnhandledRejections();\n    return this._then(\n        returner, undefined, undefined, {value: value}, undefined);\n};\n\nPromise.prototype[\"throw\"] =\nPromise.prototype.thenThrow = function (reason) {\n    return this._then(\n        thrower, undefined, undefined, {reason: reason}, undefined);\n};\n\nPromise.prototype.catchThrow = function (reason) {\n    if (arguments.length <= 1) {\n        return this._then(\n            undefined, thrower, undefined, {reason: reason}, undefined);\n    } else {\n        var _reason = arguments[1];\n        var handler = function() {throw _reason;};\n        return this.caught(reason, handler);\n    }\n};\n\nPromise.prototype.catchReturn = function (value) {\n    if (arguments.length <= 1) {\n        if (value instanceof Promise) value.suppressUnhandledRejections();\n        return this._then(\n            undefined, returner, undefined, {value: value}, undefined);\n    } else {\n        var _value = arguments[1];\n        if (_value instanceof Promise) _value.suppressUnhandledRejections();\n        var handler = function() {return _value;};\n        return this.caught(value, handler);\n    }\n};\n};\n\n},{}],11:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar PromiseReduce = Promise.reduce;\nvar PromiseAll = Promise.all;\n\nfunction promiseAllThis() {\n    return PromiseAll(this);\n}\n\nfunction PromiseMapSeries(promises, fn) {\n    return PromiseReduce(promises, fn, INTERNAL, INTERNAL);\n}\n\nPromise.prototype.each = function (fn) {\n    return PromiseReduce(this, fn, INTERNAL, 0)\n              ._then(promiseAllThis, undefined, undefined, this, undefined);\n};\n\nPromise.prototype.mapSeries = function (fn) {\n    return PromiseReduce(this, fn, INTERNAL, INTERNAL);\n};\n\nPromise.each = function (promises, fn) {\n    return PromiseReduce(promises, fn, INTERNAL, 0)\n              ._then(promiseAllThis, undefined, undefined, promises, undefined);\n};\n\nPromise.mapSeries = PromiseMapSeries;\n};\n\n\n},{}],12:[function(_dereq_,module,exports){\n\"use strict\";\nvar es5 = _dereq_(\"./es5\");\nvar Objectfreeze = es5.freeze;\nvar util = _dereq_(\"./util\");\nvar inherits = util.inherits;\nvar notEnumerableProp = util.notEnumerableProp;\n\nfunction subError(nameProperty, defaultMessage) {\n    function SubError(message) {\n        if (!(this instanceof SubError)) return new SubError(message);\n        notEnumerableProp(this, \"message\",\n            typeof message === \"string\" ? message : defaultMessage);\n        notEnumerableProp(this, \"name\", nameProperty);\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, this.constructor);\n        } else {\n            Error.call(this);\n        }\n    }\n    inherits(SubError, Error);\n    return SubError;\n}\n\nvar _TypeError, _RangeError;\nvar Warning = subError(\"Warning\", \"warning\");\nvar CancellationError = subError(\"CancellationError\", \"cancellation error\");\nvar TimeoutError = subError(\"TimeoutError\", \"timeout error\");\nvar AggregateError = subError(\"AggregateError\", \"aggregate error\");\ntry {\n    _TypeError = TypeError;\n    _RangeError = RangeError;\n} catch(e) {\n    _TypeError = subError(\"TypeError\", \"type error\");\n    _RangeError = subError(\"RangeError\", \"range error\");\n}\n\nvar methods = (\"join pop push shift unshift slice filter forEach some \" +\n    \"every map indexOf lastIndexOf reduce reduceRight sort reverse\").split(\" \");\n\nfor (var i = 0; i < methods.length; ++i) {\n    if (typeof Array.prototype[methods[i]] === \"function\") {\n        AggregateError.prototype[methods[i]] = Array.prototype[methods[i]];\n    }\n}\n\nes5.defineProperty(AggregateError.prototype, \"length\", {\n    value: 0,\n    configurable: false,\n    writable: true,\n    enumerable: true\n});\nAggregateError.prototype[\"isOperational\"] = true;\nvar level = 0;\nAggregateError.prototype.toString = function() {\n    var indent = Array(level * 4 + 1).join(\" \");\n    var ret = \"\\n\" + indent + \"AggregateError of:\" + \"\\n\";\n    level++;\n    indent = Array(level * 4 + 1).join(\" \");\n    for (var i = 0; i < this.length; ++i) {\n        var str = this[i] === this ? \"[Circular AggregateError]\" : this[i] + \"\";\n        var lines = str.split(\"\\n\");\n        for (var j = 0; j < lines.length; ++j) {\n            lines[j] = indent + lines[j];\n        }\n        str = lines.join(\"\\n\");\n        ret += str + \"\\n\";\n    }\n    level--;\n    return ret;\n};\n\nfunction OperationalError(message) {\n    if (!(this instanceof OperationalError))\n        return new OperationalError(message);\n    notEnumerableProp(this, \"name\", \"OperationalError\");\n    notEnumerableProp(this, \"message\", message);\n    this.cause = message;\n    this[\"isOperational\"] = true;\n\n    if (message instanceof Error) {\n        notEnumerableProp(this, \"message\", message.message);\n        notEnumerableProp(this, \"stack\", message.stack);\n    } else if (Error.captureStackTrace) {\n        Error.captureStackTrace(this, this.constructor);\n    }\n\n}\ninherits(OperationalError, Error);\n\nvar errorTypes = Error[\"__BluebirdErrorTypes__\"];\nif (!errorTypes) {\n    errorTypes = Objectfreeze({\n        CancellationError: CancellationError,\n        TimeoutError: TimeoutError,\n        OperationalError: OperationalError,\n        RejectionError: OperationalError,\n        AggregateError: AggregateError\n    });\n    es5.defineProperty(Error, \"__BluebirdErrorTypes__\", {\n        value: errorTypes,\n        writable: false,\n        enumerable: false,\n        configurable: false\n    });\n}\n\nmodule.exports = {\n    Error: Error,\n    TypeError: _TypeError,\n    RangeError: _RangeError,\n    CancellationError: errorTypes.CancellationError,\n    OperationalError: errorTypes.OperationalError,\n    TimeoutError: errorTypes.TimeoutError,\n    AggregateError: errorTypes.AggregateError,\n    Warning: Warning\n};\n\n},{\"./es5\":13,\"./util\":36}],13:[function(_dereq_,module,exports){\nvar isES5 = (function(){\n    \"use strict\";\n    return this === undefined;\n})();\n\nif (isES5) {\n    module.exports = {\n        freeze: Object.freeze,\n        defineProperty: Object.defineProperty,\n        getDescriptor: Object.getOwnPropertyDescriptor,\n        keys: Object.keys,\n        names: Object.getOwnPropertyNames,\n        getPrototypeOf: Object.getPrototypeOf,\n        isArray: Array.isArray,\n        isES5: isES5,\n        propertyIsWritable: function(obj, prop) {\n            var descriptor = Object.getOwnPropertyDescriptor(obj, prop);\n            return !!(!descriptor || descriptor.writable || descriptor.set);\n        }\n    };\n} else {\n    var has = {}.hasOwnProperty;\n    var str = {}.toString;\n    var proto = {}.constructor.prototype;\n\n    var ObjectKeys = function (o) {\n        var ret = [];\n        for (var key in o) {\n            if (has.call(o, key)) {\n                ret.push(key);\n            }\n        }\n        return ret;\n    };\n\n    var ObjectGetDescriptor = function(o, key) {\n        return {value: o[key]};\n    };\n\n    var ObjectDefineProperty = function (o, key, desc) {\n        o[key] = desc.value;\n        return o;\n    };\n\n    var ObjectFreeze = function (obj) {\n        return obj;\n    };\n\n    var ObjectGetPrototypeOf = function (obj) {\n        try {\n            return Object(obj).constructor.prototype;\n        }\n        catch (e) {\n            return proto;\n        }\n    };\n\n    var ArrayIsArray = function (obj) {\n        try {\n            return str.call(obj) === \"[object Array]\";\n        }\n        catch(e) {\n            return false;\n        }\n    };\n\n    module.exports = {\n        isArray: ArrayIsArray,\n        keys: ObjectKeys,\n        names: ObjectKeys,\n        defineProperty: ObjectDefineProperty,\n        getDescriptor: ObjectGetDescriptor,\n        freeze: ObjectFreeze,\n        getPrototypeOf: ObjectGetPrototypeOf,\n        isES5: isES5,\n        propertyIsWritable: function() {\n            return true;\n        }\n    };\n}\n\n},{}],14:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar PromiseMap = Promise.map;\n\nPromise.prototype.filter = function (fn, options) {\n    return PromiseMap(this, fn, options, INTERNAL);\n};\n\nPromise.filter = function (promises, fn, options) {\n    return PromiseMap(promises, fn, options, INTERNAL);\n};\n};\n\n},{}],15:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, tryConvertToPromise) {\nvar util = _dereq_(\"./util\");\nvar CancellationError = Promise.CancellationError;\nvar errorObj = util.errorObj;\n\nfunction PassThroughHandlerContext(promise, type, handler) {\n    this.promise = promise;\n    this.type = type;\n    this.handler = handler;\n    this.called = false;\n    this.cancelPromise = null;\n}\n\nPassThroughHandlerContext.prototype.isFinallyHandler = function() {\n    return this.type === 0;\n};\n\nfunction FinallyHandlerCancelReaction(finallyHandler) {\n    this.finallyHandler = finallyHandler;\n}\n\nFinallyHandlerCancelReaction.prototype._resultCancelled = function() {\n    checkCancel(this.finallyHandler);\n};\n\nfunction checkCancel(ctx, reason) {\n    if (ctx.cancelPromise != null) {\n        if (arguments.length > 1) {\n            ctx.cancelPromise._reject(reason);\n        } else {\n            ctx.cancelPromise._cancel();\n        }\n        ctx.cancelPromise = null;\n        return true;\n    }\n    return false;\n}\n\nfunction succeed() {\n    return finallyHandler.call(this, this.promise._target()._settledValue());\n}\nfunction fail(reason) {\n    if (checkCancel(this, reason)) return;\n    errorObj.e = reason;\n    return errorObj;\n}\nfunction finallyHandler(reasonOrValue) {\n    var promise = this.promise;\n    var handler = this.handler;\n\n    if (!this.called) {\n        this.called = true;\n        var ret = this.isFinallyHandler()\n            ? handler.call(promise._boundValue())\n            : handler.call(promise._boundValue(), reasonOrValue);\n        if (ret !== undefined) {\n            promise._setReturnedNonUndefined();\n            var maybePromise = tryConvertToPromise(ret, promise);\n            if (maybePromise instanceof Promise) {\n                if (this.cancelPromise != null) {\n                    if (maybePromise._isCancelled()) {\n                        var reason =\n                            new CancellationError(\"late cancellation observer\");\n                        promise._attachExtraTrace(reason);\n                        errorObj.e = reason;\n                        return errorObj;\n                    } else if (maybePromise.isPending()) {\n                        maybePromise._attachCancellationCallback(\n                            new FinallyHandlerCancelReaction(this));\n                    }\n                }\n                return maybePromise._then(\n                    succeed, fail, undefined, this, undefined);\n            }\n        }\n    }\n\n    if (promise.isRejected()) {\n        checkCancel(this);\n        errorObj.e = reasonOrValue;\n        return errorObj;\n    } else {\n        checkCancel(this);\n        return reasonOrValue;\n    }\n}\n\nPromise.prototype._passThrough = function(handler, type, success, fail) {\n    if (typeof handler !== \"function\") return this.then();\n    return this._then(success,\n                      fail,\n                      undefined,\n                      new PassThroughHandlerContext(this, type, handler),\n                      undefined);\n};\n\nPromise.prototype.lastly =\nPromise.prototype[\"finally\"] = function (handler) {\n    return this._passThrough(handler,\n                             0,\n                             finallyHandler,\n                             finallyHandler);\n};\n\nPromise.prototype.tap = function (handler) {\n    return this._passThrough(handler, 1, finallyHandler);\n};\n\nreturn PassThroughHandlerContext;\n};\n\n},{\"./util\":36}],16:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise,\n                          apiRejection,\n                          INTERNAL,\n                          tryConvertToPromise,\n                          Proxyable,\n                          debug) {\nvar errors = _dereq_(\"./errors\");\nvar TypeError = errors.TypeError;\nvar util = _dereq_(\"./util\");\nvar errorObj = util.errorObj;\nvar tryCatch = util.tryCatch;\nvar yieldHandlers = [];\n\nfunction promiseFromYieldHandler(value, yieldHandlers, traceParent) {\n    for (var i = 0; i < yieldHandlers.length; ++i) {\n        traceParent._pushContext();\n        var result = tryCatch(yieldHandlers[i])(value);\n        traceParent._popContext();\n        if (result === errorObj) {\n            traceParent._pushContext();\n            var ret = Promise.reject(errorObj.e);\n            traceParent._popContext();\n            return ret;\n        }\n        var maybePromise = tryConvertToPromise(result, traceParent);\n        if (maybePromise instanceof Promise) return maybePromise;\n    }\n    return null;\n}\n\nfunction PromiseSpawn(generatorFunction, receiver, yieldHandler, stack) {\n    if (debug.cancellation()) {\n        var internal = new Promise(INTERNAL);\n        var _finallyPromise = this._finallyPromise = new Promise(INTERNAL);\n        this._promise = internal.lastly(function() {\n            return _finallyPromise;\n        });\n        internal._captureStackTrace();\n        internal._setOnCancel(this);\n    } else {\n        var promise = this._promise = new Promise(INTERNAL);\n        promise._captureStackTrace();\n    }\n    this._stack = stack;\n    this._generatorFunction = generatorFunction;\n    this._receiver = receiver;\n    this._generator = undefined;\n    this._yieldHandlers = typeof yieldHandler === \"function\"\n        ? [yieldHandler].concat(yieldHandlers)\n        : yieldHandlers;\n    this._yieldedPromise = null;\n    this._cancellationPhase = false;\n}\nutil.inherits(PromiseSpawn, Proxyable);\n\nPromiseSpawn.prototype._isResolved = function() {\n    return this._promise === null;\n};\n\nPromiseSpawn.prototype._cleanup = function() {\n    this._promise = this._generator = null;\n    if (debug.cancellation() && this._finallyPromise !== null) {\n        this._finallyPromise._fulfill();\n        this._finallyPromise = null;\n    }\n};\n\nPromiseSpawn.prototype._promiseCancelled = function() {\n    if (this._isResolved()) return;\n    var implementsReturn = typeof this._generator[\"return\"] !== \"undefined\";\n\n    var result;\n    if (!implementsReturn) {\n        var reason = new Promise.CancellationError(\n            \"generator .return() sentinel\");\n        Promise.coroutine.returnSentinel = reason;\n        this._promise._attachExtraTrace(reason);\n        this._promise._pushContext();\n        result = tryCatch(this._generator[\"throw\"]).call(this._generator,\n                                                         reason);\n        this._promise._popContext();\n    } else {\n        this._promise._pushContext();\n        result = tryCatch(this._generator[\"return\"]).call(this._generator,\n                                                          undefined);\n        this._promise._popContext();\n    }\n    this._cancellationPhase = true;\n    this._yieldedPromise = null;\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._promiseFulfilled = function(value) {\n    this._yieldedPromise = null;\n    this._promise._pushContext();\n    var result = tryCatch(this._generator.next).call(this._generator, value);\n    this._promise._popContext();\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._promiseRejected = function(reason) {\n    this._yieldedPromise = null;\n    this._promise._attachExtraTrace(reason);\n    this._promise._pushContext();\n    var result = tryCatch(this._generator[\"throw\"])\n        .call(this._generator, reason);\n    this._promise._popContext();\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._resultCancelled = function() {\n    if (this._yieldedPromise instanceof Promise) {\n        var promise = this._yieldedPromise;\n        this._yieldedPromise = null;\n        promise.cancel();\n    }\n};\n\nPromiseSpawn.prototype.promise = function () {\n    return this._promise;\n};\n\nPromiseSpawn.prototype._run = function () {\n    this._generator = this._generatorFunction.call(this._receiver);\n    this._receiver =\n        this._generatorFunction = undefined;\n    this._promiseFulfilled(undefined);\n};\n\nPromiseSpawn.prototype._continue = function (result) {\n    var promise = this._promise;\n    if (result === errorObj) {\n        this._cleanup();\n        if (this._cancellationPhase) {\n            return promise.cancel();\n        } else {\n            return promise._rejectCallback(result.e, false);\n        }\n    }\n\n    var value = result.value;\n    if (result.done === true) {\n        this._cleanup();\n        if (this._cancellationPhase) {\n            return promise.cancel();\n        } else {\n            return promise._resolveCallback(value);\n        }\n    } else {\n        var maybePromise = tryConvertToPromise(value, this._promise);\n        if (!(maybePromise instanceof Promise)) {\n            maybePromise =\n                promiseFromYieldHandler(maybePromise,\n                                        this._yieldHandlers,\n                                        this._promise);\n            if (maybePromise === null) {\n                this._promiseRejected(\n                    new TypeError(\n                        \"A value %s was yielded that could not be treated as a promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\\u000a\".replace(\"%s\", value) +\n                        \"From coroutine:\\u000a\" +\n                        this._stack.split(\"\\n\").slice(1, -7).join(\"\\n\")\n                    )\n                );\n                return;\n            }\n        }\n        maybePromise = maybePromise._target();\n        var bitField = maybePromise._bitField;\n        ;\n        if (((bitField & 50397184) === 0)) {\n            this._yieldedPromise = maybePromise;\n            maybePromise._proxy(this, null);\n        } else if (((bitField & 33554432) !== 0)) {\n            Promise._async.invoke(\n                this._promiseFulfilled, this, maybePromise._value()\n            );\n        } else if (((bitField & 16777216) !== 0)) {\n            Promise._async.invoke(\n                this._promiseRejected, this, maybePromise._reason()\n            );\n        } else {\n            this._promiseCancelled();\n        }\n    }\n};\n\nPromise.coroutine = function (generatorFunction, options) {\n    if (typeof generatorFunction !== \"function\") {\n        throw new TypeError(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var yieldHandler = Object(options).yieldHandler;\n    var PromiseSpawn$ = PromiseSpawn;\n    var stack = new Error().stack;\n    return function () {\n        var generator = generatorFunction.apply(this, arguments);\n        var spawn = new PromiseSpawn$(undefined, undefined, yieldHandler,\n                                      stack);\n        var ret = spawn.promise();\n        spawn._generator = generator;\n        spawn._promiseFulfilled(undefined);\n        return ret;\n    };\n};\n\nPromise.coroutine.addYieldHandler = function(fn) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    yieldHandlers.push(fn);\n};\n\nPromise.spawn = function (generatorFunction) {\n    debug.deprecated(\"Promise.spawn()\", \"Promise.coroutine()\");\n    if (typeof generatorFunction !== \"function\") {\n        return apiRejection(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var spawn = new PromiseSpawn(generatorFunction, this);\n    var ret = spawn.promise();\n    spawn._run(Promise.spawn);\n    return ret;\n};\n};\n\n},{\"./errors\":12,\"./util\":36}],17:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, PromiseArray, tryConvertToPromise, INTERNAL, async,\n         getDomain) {\nvar util = _dereq_(\"./util\");\nvar canEvaluate = util.canEvaluate;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar reject;\n\nif (!true) {\nif (canEvaluate) {\n    var thenCallback = function(i) {\n        return new Function(\"value\", \"holder\", \"                             \\n\\\n            'use strict';                                                    \\n\\\n            holder.pIndex = value;                                           \\n\\\n            holder.checkFulfillment(this);                                   \\n\\\n            \".replace(/Index/g, i));\n    };\n\n    var promiseSetter = function(i) {\n        return new Function(\"promise\", \"holder\", \"                           \\n\\\n            'use strict';                                                    \\n\\\n            holder.pIndex = promise;                                         \\n\\\n            \".replace(/Index/g, i));\n    };\n\n    var generateHolderClass = function(total) {\n        var props = new Array(total);\n        for (var i = 0; i < props.length; ++i) {\n            props[i] = \"this.p\" + (i+1);\n        }\n        var assignment = props.join(\" = \") + \" = null;\";\n        var cancellationCode= \"var promise;\\n\" + props.map(function(prop) {\n            return \"                                                         \\n\\\n                promise = \" + prop + \";                                      \\n\\\n                if (promise instanceof Promise) {                            \\n\\\n                    promise.cancel();                                        \\n\\\n                }                                                            \\n\\\n            \";\n        }).join(\"\\n\");\n        var passedArguments = props.join(\", \");\n        var name = \"Holder$\" + total;\n\n\n        var code = \"return function(tryCatch, errorObj, Promise, async) {    \\n\\\n            'use strict';                                                    \\n\\\n            function [TheName](fn) {                                         \\n\\\n                [TheProperties]                                              \\n\\\n                this.fn = fn;                                                \\n\\\n                this.asyncNeeded = true;                                     \\n\\\n                this.now = 0;                                                \\n\\\n            }                                                                \\n\\\n                                                                             \\n\\\n            [TheName].prototype._callFunction = function(promise) {          \\n\\\n                promise._pushContext();                                      \\n\\\n                var ret = tryCatch(this.fn)([ThePassedArguments]);           \\n\\\n                promise._popContext();                                       \\n\\\n                if (ret === errorObj) {                                      \\n\\\n                    promise._rejectCallback(ret.e, false);                   \\n\\\n                } else {                                                     \\n\\\n                    promise._resolveCallback(ret);                           \\n\\\n                }                                                            \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            [TheName].prototype.checkFulfillment = function(promise) {       \\n\\\n                var now = ++this.now;                                        \\n\\\n                if (now === [TheTotal]) {                                    \\n\\\n                    if (this.asyncNeeded) {                                  \\n\\\n                        async.invoke(this._callFunction, this, promise);     \\n\\\n                    } else {                                                 \\n\\\n                        this._callFunction(promise);                         \\n\\\n                    }                                                        \\n\\\n                                                                             \\n\\\n                }                                                            \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            [TheName].prototype._resultCancelled = function() {              \\n\\\n                [CancellationCode]                                           \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            return [TheName];                                                \\n\\\n        }(tryCatch, errorObj, Promise, async);                               \\n\\\n        \";\n\n        code = code.replace(/\\[TheName\\]/g, name)\n            .replace(/\\[TheTotal\\]/g, total)\n            .replace(/\\[ThePassedArguments\\]/g, passedArguments)\n            .replace(/\\[TheProperties\\]/g, assignment)\n            .replace(/\\[CancellationCode\\]/g, cancellationCode);\n\n        return new Function(\"tryCatch\", \"errorObj\", \"Promise\", \"async\", code)\n                           (tryCatch, errorObj, Promise, async);\n    };\n\n    var holderClasses = [];\n    var thenCallbacks = [];\n    var promiseSetters = [];\n\n    for (var i = 0; i < 8; ++i) {\n        holderClasses.push(generateHolderClass(i + 1));\n        thenCallbacks.push(thenCallback(i + 1));\n        promiseSetters.push(promiseSetter(i + 1));\n    }\n\n    reject = function (reason) {\n        this._reject(reason);\n    };\n}}\n\nPromise.join = function () {\n    var last = arguments.length - 1;\n    var fn;\n    if (last > 0 && typeof arguments[last] === \"function\") {\n        fn = arguments[last];\n        if (!true) {\n            if (last <= 8 && canEvaluate) {\n                var ret = new Promise(INTERNAL);\n                ret._captureStackTrace();\n                var HolderClass = holderClasses[last - 1];\n                var holder = new HolderClass(fn);\n                var callbacks = thenCallbacks;\n\n                for (var i = 0; i < last; ++i) {\n                    var maybePromise = tryConvertToPromise(arguments[i], ret);\n                    if (maybePromise instanceof Promise) {\n                        maybePromise = maybePromise._target();\n                        var bitField = maybePromise._bitField;\n                        ;\n                        if (((bitField & 50397184) === 0)) {\n                            maybePromise._then(callbacks[i], reject,\n                                               undefined, ret, holder);\n                            promiseSetters[i](maybePromise, holder);\n                            holder.asyncNeeded = false;\n                        } else if (((bitField & 33554432) !== 0)) {\n                            callbacks[i].call(ret,\n                                              maybePromise._value(), holder);\n                        } else if (((bitField & 16777216) !== 0)) {\n                            ret._reject(maybePromise._reason());\n                        } else {\n                            ret._cancel();\n                        }\n                    } else {\n                        callbacks[i].call(ret, maybePromise, holder);\n                    }\n                }\n\n                if (!ret._isFateSealed()) {\n                    if (holder.asyncNeeded) {\n                        var domain = getDomain();\n                        if (domain !== null) {\n                            holder.fn = util.domainBind(domain, holder.fn);\n                        }\n                    }\n                    ret._setAsyncGuaranteed();\n                    ret._setOnCancel(holder);\n                }\n                return ret;\n            }\n        }\n    }\n    var args = [].slice.call(arguments);;\n    if (fn) args.pop();\n    var ret = new PromiseArray(args).promise();\n    return fn !== undefined ? ret.spread(fn) : ret;\n};\n\n};\n\n},{\"./util\":36}],18:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise,\n                          PromiseArray,\n                          apiRejection,\n                          tryConvertToPromise,\n                          INTERNAL,\n                          debug) {\nvar getDomain = Promise._getDomain;\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar async = Promise._async;\n\nfunction MappingPromiseArray(promises, fn, limit, _filter) {\n    this.constructor$(promises);\n    this._promise._captureStackTrace();\n    var domain = getDomain();\n    this._callback = domain === null ? fn : util.domainBind(domain, fn);\n    this._preservedValues = _filter === INTERNAL\n        ? new Array(this.length())\n        : null;\n    this._limit = limit;\n    this._inFlight = 0;\n    this._queue = [];\n    async.invoke(this._asyncInit, this, undefined);\n}\nutil.inherits(MappingPromiseArray, PromiseArray);\n\nMappingPromiseArray.prototype._asyncInit = function() {\n    this._init$(undefined, -2);\n};\n\nMappingPromiseArray.prototype._init = function () {};\n\nMappingPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var values = this._values;\n    var length = this.length();\n    var preservedValues = this._preservedValues;\n    var limit = this._limit;\n\n    if (index < 0) {\n        index = (index * -1) - 1;\n        values[index] = value;\n        if (limit >= 1) {\n            this._inFlight--;\n            this._drainQueue();\n            if (this._isResolved()) return true;\n        }\n    } else {\n        if (limit >= 1 && this._inFlight >= limit) {\n            values[index] = value;\n            this._queue.push(index);\n            return false;\n        }\n        if (preservedValues !== null) preservedValues[index] = value;\n\n        var promise = this._promise;\n        var callback = this._callback;\n        var receiver = promise._boundValue();\n        promise._pushContext();\n        var ret = tryCatch(callback).call(receiver, value, index, length);\n        var promiseCreated = promise._popContext();\n        debug.checkForgottenReturns(\n            ret,\n            promiseCreated,\n            preservedValues !== null ? \"Promise.filter\" : \"Promise.map\",\n            promise\n        );\n        if (ret === errorObj) {\n            this._reject(ret.e);\n            return true;\n        }\n\n        var maybePromise = tryConvertToPromise(ret, this._promise);\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            var bitField = maybePromise._bitField;\n            ;\n            if (((bitField & 50397184) === 0)) {\n                if (limit >= 1) this._inFlight++;\n                values[index] = maybePromise;\n                maybePromise._proxy(this, (index + 1) * -1);\n                return false;\n            } else if (((bitField & 33554432) !== 0)) {\n                ret = maybePromise._value();\n            } else if (((bitField & 16777216) !== 0)) {\n                this._reject(maybePromise._reason());\n                return true;\n            } else {\n                this._cancel();\n                return true;\n            }\n        }\n        values[index] = ret;\n    }\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= length) {\n        if (preservedValues !== null) {\n            this._filter(values, preservedValues);\n        } else {\n            this._resolve(values);\n        }\n        return true;\n    }\n    return false;\n};\n\nMappingPromiseArray.prototype._drainQueue = function () {\n    var queue = this._queue;\n    var limit = this._limit;\n    var values = this._values;\n    while (queue.length > 0 && this._inFlight < limit) {\n        if (this._isResolved()) return;\n        var index = queue.pop();\n        this._promiseFulfilled(values[index], index);\n    }\n};\n\nMappingPromiseArray.prototype._filter = function (booleans, values) {\n    var len = values.length;\n    var ret = new Array(len);\n    var j = 0;\n    for (var i = 0; i < len; ++i) {\n        if (booleans[i]) ret[j++] = values[i];\n    }\n    ret.length = j;\n    this._resolve(ret);\n};\n\nMappingPromiseArray.prototype.preservedValues = function () {\n    return this._preservedValues;\n};\n\nfunction map(promises, fn, options, _filter) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n\n    var limit = 0;\n    if (options !== undefined) {\n        if (typeof options === \"object\" && options !== null) {\n            if (typeof options.concurrency !== \"number\") {\n                return Promise.reject(\n                    new TypeError(\"'concurrency' must be a number but it is \" +\n                                    util.classString(options.concurrency)));\n            }\n            limit = options.concurrency;\n        } else {\n            return Promise.reject(new TypeError(\n                            \"options argument must be an object but it is \" +\n                             util.classString(options)));\n        }\n    }\n    limit = typeof limit === \"number\" &&\n        isFinite(limit) && limit >= 1 ? limit : 0;\n    return new MappingPromiseArray(promises, fn, limit, _filter).promise();\n}\n\nPromise.prototype.map = function (fn, options) {\n    return map(this, fn, options, null);\n};\n\nPromise.map = function (promises, fn, options, _filter) {\n    return map(promises, fn, options, _filter);\n};\n\n\n};\n\n},{\"./util\":36}],19:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, INTERNAL, tryConvertToPromise, apiRejection, debug) {\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\n\nPromise.method = function (fn) {\n    if (typeof fn !== \"function\") {\n        throw new Promise.TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    return function () {\n        var ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._pushContext();\n        var value = tryCatch(fn).apply(this, arguments);\n        var promiseCreated = ret._popContext();\n        debug.checkForgottenReturns(\n            value, promiseCreated, \"Promise.method\", ret);\n        ret._resolveFromSyncValue(value);\n        return ret;\n    };\n};\n\nPromise.attempt = Promise[\"try\"] = function (fn) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._pushContext();\n    var value;\n    if (arguments.length > 1) {\n        debug.deprecated(\"calling Promise.try with more than 1 argument\");\n        var arg = arguments[1];\n        var ctx = arguments[2];\n        value = util.isArray(arg) ? tryCatch(fn).apply(ctx, arg)\n                                  : tryCatch(fn).call(ctx, arg);\n    } else {\n        value = tryCatch(fn)();\n    }\n    var promiseCreated = ret._popContext();\n    debug.checkForgottenReturns(\n        value, promiseCreated, \"Promise.try\", ret);\n    ret._resolveFromSyncValue(value);\n    return ret;\n};\n\nPromise.prototype._resolveFromSyncValue = function (value) {\n    if (value === util.errorObj) {\n        this._rejectCallback(value.e, false);\n    } else {\n        this._resolveCallback(value, true);\n    }\n};\n};\n\n},{\"./util\":36}],20:[function(_dereq_,module,exports){\n\"use strict\";\nvar util = _dereq_(\"./util\");\nvar maybeWrapAsError = util.maybeWrapAsError;\nvar errors = _dereq_(\"./errors\");\nvar OperationalError = errors.OperationalError;\nvar es5 = _dereq_(\"./es5\");\n\nfunction isUntypedError(obj) {\n    return obj instanceof Error &&\n        es5.getPrototypeOf(obj) === Error.prototype;\n}\n\nvar rErrorKey = /^(?:name|message|stack|cause)$/;\nfunction wrapAsOperationalError(obj) {\n    var ret;\n    if (isUntypedError(obj)) {\n        ret = new OperationalError(obj);\n        ret.name = obj.name;\n        ret.message = obj.message;\n        ret.stack = obj.stack;\n        var keys = es5.keys(obj);\n        for (var i = 0; i < keys.length; ++i) {\n            var key = keys[i];\n            if (!rErrorKey.test(key)) {\n                ret[key] = obj[key];\n            }\n        }\n        return ret;\n    }\n    util.markAsOriginatingFromRejection(obj);\n    return obj;\n}\n\nfunction nodebackForPromise(promise, multiArgs) {\n    return function(err, value) {\n        if (promise === null) return;\n        if (err) {\n            var wrapped = wrapAsOperationalError(maybeWrapAsError(err));\n            promise._attachExtraTrace(wrapped);\n            promise._reject(wrapped);\n        } else if (!multiArgs) {\n            promise._fulfill(value);\n        } else {\n            var args = [].slice.call(arguments, 1);;\n            promise._fulfill(args);\n        }\n        promise = null;\n    };\n}\n\nmodule.exports = nodebackForPromise;\n\n},{\"./errors\":12,\"./es5\":13,\"./util\":36}],21:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nvar util = _dereq_(\"./util\");\nvar async = Promise._async;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\n\nfunction spreadAdapter(val, nodeback) {\n    var promise = this;\n    if (!util.isArray(val)) return successAdapter.call(promise, val, nodeback);\n    var ret =\n        tryCatch(nodeback).apply(promise._boundValue(), [null].concat(val));\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\n\nfunction successAdapter(val, nodeback) {\n    var promise = this;\n    var receiver = promise._boundValue();\n    var ret = val === undefined\n        ? tryCatch(nodeback).call(receiver, null)\n        : tryCatch(nodeback).call(receiver, null, val);\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\nfunction errorAdapter(reason, nodeback) {\n    var promise = this;\n    if (!reason) {\n        var newReason = new Error(reason + \"\");\n        newReason.cause = reason;\n        reason = newReason;\n    }\n    var ret = tryCatch(nodeback).call(promise._boundValue(), reason);\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\n\nPromise.prototype.asCallback = Promise.prototype.nodeify = function (nodeback,\n                                                                     options) {\n    if (typeof nodeback == \"function\") {\n        var adapter = successAdapter;\n        if (options !== undefined && Object(options).spread) {\n            adapter = spreadAdapter;\n        }\n        this._then(\n            adapter,\n            errorAdapter,\n            undefined,\n            this,\n            nodeback\n        );\n    }\n    return this;\n};\n};\n\n},{\"./util\":36}],22:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function() {\nvar makeSelfResolutionError = function () {\n    return new TypeError(\"circular promise resolution chain\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n};\nvar reflectHandler = function() {\n    return new Promise.PromiseInspection(this._target());\n};\nvar apiRejection = function(msg) {\n    return Promise.reject(new TypeError(msg));\n};\nfunction Proxyable() {}\nvar UNDEFINED_BINDING = {};\nvar util = _dereq_(\"./util\");\n\nvar getDomain;\nif (util.isNode) {\n    getDomain = function() {\n        var ret = process.domain;\n        if (ret === undefined) ret = null;\n        return ret;\n    };\n} else {\n    getDomain = function() {\n        return null;\n    };\n}\nutil.notEnumerableProp(Promise, \"_getDomain\", getDomain);\n\nvar es5 = _dereq_(\"./es5\");\nvar Async = _dereq_(\"./async\");\nvar async = new Async();\nes5.defineProperty(Promise, \"_async\", {value: async});\nvar errors = _dereq_(\"./errors\");\nvar TypeError = Promise.TypeError = errors.TypeError;\nPromise.RangeError = errors.RangeError;\nvar CancellationError = Promise.CancellationError = errors.CancellationError;\nPromise.TimeoutError = errors.TimeoutError;\nPromise.OperationalError = errors.OperationalError;\nPromise.RejectionError = errors.OperationalError;\nPromise.AggregateError = errors.AggregateError;\nvar INTERNAL = function(){};\nvar APPLY = {};\nvar NEXT_FILTER = {};\nvar tryConvertToPromise = _dereq_(\"./thenables\")(Promise, INTERNAL);\nvar PromiseArray =\n    _dereq_(\"./promise_array\")(Promise, INTERNAL,\n                               tryConvertToPromise, apiRejection, Proxyable);\nvar Context = _dereq_(\"./context\")(Promise);\n /*jshint unused:false*/\nvar createContext = Context.create;\nvar debug = _dereq_(\"./debuggability\")(Promise, Context);\nvar CapturedTrace = debug.CapturedTrace;\nvar PassThroughHandlerContext =\n    _dereq_(\"./finally\")(Promise, tryConvertToPromise);\nvar catchFilter = _dereq_(\"./catch_filter\")(NEXT_FILTER);\nvar nodebackForPromise = _dereq_(\"./nodeback\");\nvar errorObj = util.errorObj;\nvar tryCatch = util.tryCatch;\nfunction check(self, executor) {\n    if (typeof executor !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(executor));\n    }\n    if (self.constructor !== Promise) {\n        throw new TypeError(\"the promise constructor cannot be invoked directly\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n}\n\nfunction Promise(executor) {\n    this._bitField = 0;\n    this._fulfillmentHandler0 = undefined;\n    this._rejectionHandler0 = undefined;\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    if (executor !== INTERNAL) {\n        check(this, executor);\n        this._resolveFromExecutor(executor);\n    }\n    this._promiseCreated();\n    this._fireEvent(\"promiseCreated\", this);\n}\n\nPromise.prototype.toString = function () {\n    return \"[object Promise]\";\n};\n\nPromise.prototype.caught = Promise.prototype[\"catch\"] = function (fn) {\n    var len = arguments.length;\n    if (len > 1) {\n        var catchInstances = new Array(len - 1),\n            j = 0, i;\n        for (i = 0; i < len - 1; ++i) {\n            var item = arguments[i];\n            if (util.isObject(item)) {\n                catchInstances[j++] = item;\n            } else {\n                return apiRejection(\"expecting an object but got \" +\n                    \"A catch statement predicate \" + util.classString(item));\n            }\n        }\n        catchInstances.length = j;\n        fn = arguments[i];\n        return this.then(undefined, catchFilter(catchInstances, fn, this));\n    }\n    return this.then(undefined, fn);\n};\n\nPromise.prototype.reflect = function () {\n    return this._then(reflectHandler,\n        reflectHandler, undefined, this, undefined);\n};\n\nPromise.prototype.then = function (didFulfill, didReject) {\n    if (debug.warnings() && arguments.length > 0 &&\n        typeof didFulfill !== \"function\" &&\n        typeof didReject !== \"function\") {\n        var msg = \".then() only accepts functions but was passed: \" +\n                util.classString(didFulfill);\n        if (arguments.length > 1) {\n            msg += \", \" + util.classString(didReject);\n        }\n        this._warn(msg);\n    }\n    return this._then(didFulfill, didReject, undefined, undefined, undefined);\n};\n\nPromise.prototype.done = function (didFulfill, didReject) {\n    var promise =\n        this._then(didFulfill, didReject, undefined, undefined, undefined);\n    promise._setIsFinal();\n};\n\nPromise.prototype.spread = function (fn) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    return this.all()._then(fn, undefined, undefined, APPLY, undefined);\n};\n\nPromise.prototype.toJSON = function () {\n    var ret = {\n        isFulfilled: false,\n        isRejected: false,\n        fulfillmentValue: undefined,\n        rejectionReason: undefined\n    };\n    if (this.isFulfilled()) {\n        ret.fulfillmentValue = this.value();\n        ret.isFulfilled = true;\n    } else if (this.isRejected()) {\n        ret.rejectionReason = this.reason();\n        ret.isRejected = true;\n    }\n    return ret;\n};\n\nPromise.prototype.all = function () {\n    if (arguments.length > 0) {\n        this._warn(\".all() was passed arguments but it does not take any\");\n    }\n    return new PromiseArray(this).promise();\n};\n\nPromise.prototype.error = function (fn) {\n    return this.caught(util.originatesFromRejection, fn);\n};\n\nPromise.getNewLibraryCopy = module.exports;\n\nPromise.is = function (val) {\n    return val instanceof Promise;\n};\n\nPromise.fromNode = Promise.fromCallback = function(fn) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    var multiArgs = arguments.length > 1 ? !!Object(arguments[1]).multiArgs\n                                         : false;\n    var result = tryCatch(fn)(nodebackForPromise(ret, multiArgs));\n    if (result === errorObj) {\n        ret._rejectCallback(result.e, true);\n    }\n    if (!ret._isFateSealed()) ret._setAsyncGuaranteed();\n    return ret;\n};\n\nPromise.all = function (promises) {\n    return new PromiseArray(promises).promise();\n};\n\nPromise.cast = function (obj) {\n    var ret = tryConvertToPromise(obj);\n    if (!(ret instanceof Promise)) {\n        ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._setFulfilled();\n        ret._rejectionHandler0 = obj;\n    }\n    return ret;\n};\n\nPromise.resolve = Promise.fulfilled = Promise.cast;\n\nPromise.reject = Promise.rejected = function (reason) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._rejectCallback(reason, true);\n    return ret;\n};\n\nPromise.setScheduler = function(fn) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    return async.setScheduler(fn);\n};\n\nPromise.prototype._then = function (\n    didFulfill,\n    didReject,\n    _,    receiver,\n    internalData\n) {\n    var haveInternalData = internalData !== undefined;\n    var promise = haveInternalData ? internalData : new Promise(INTERNAL);\n    var target = this._target();\n    var bitField = target._bitField;\n\n    if (!haveInternalData) {\n        promise._propagateFrom(this, 3);\n        promise._captureStackTrace();\n        if (receiver === undefined &&\n            ((this._bitField & 2097152) !== 0)) {\n            if (!((bitField & 50397184) === 0)) {\n                receiver = this._boundValue();\n            } else {\n                receiver = target === this ? undefined : this._boundTo;\n            }\n        }\n        this._fireEvent(\"promiseChained\", this, promise);\n    }\n\n    var domain = getDomain();\n    if (!((bitField & 50397184) === 0)) {\n        var handler, value, settler = target._settlePromiseCtx;\n        if (((bitField & 33554432) !== 0)) {\n            value = target._rejectionHandler0;\n            handler = didFulfill;\n        } else if (((bitField & 16777216) !== 0)) {\n            value = target._fulfillmentHandler0;\n            handler = didReject;\n            target._unsetRejectionIsUnhandled();\n        } else {\n            settler = target._settlePromiseLateCancellationObserver;\n            value = new CancellationError(\"late cancellation observer\");\n            target._attachExtraTrace(value);\n            handler = didReject;\n        }\n\n        async.invoke(settler, target, {\n            handler: domain === null ? handler\n                : (typeof handler === \"function\" &&\n                    util.domainBind(domain, handler)),\n            promise: promise,\n            receiver: receiver,\n            value: value\n        });\n    } else {\n        target._addCallbacks(didFulfill, didReject, promise, receiver, domain);\n    }\n\n    return promise;\n};\n\nPromise.prototype._length = function () {\n    return this._bitField & 65535;\n};\n\nPromise.prototype._isFateSealed = function () {\n    return (this._bitField & 117506048) !== 0;\n};\n\nPromise.prototype._isFollowing = function () {\n    return (this._bitField & 67108864) === 67108864;\n};\n\nPromise.prototype._setLength = function (len) {\n    this._bitField = (this._bitField & -65536) |\n        (len & 65535);\n};\n\nPromise.prototype._setFulfilled = function () {\n    this._bitField = this._bitField | 33554432;\n    this._fireEvent(\"promiseFulfilled\", this);\n};\n\nPromise.prototype._setRejected = function () {\n    this._bitField = this._bitField | 16777216;\n    this._fireEvent(\"promiseRejected\", this);\n};\n\nPromise.prototype._setFollowing = function () {\n    this._bitField = this._bitField | 67108864;\n    this._fireEvent(\"promiseResolved\", this);\n};\n\nPromise.prototype._setIsFinal = function () {\n    this._bitField = this._bitField | 4194304;\n};\n\nPromise.prototype._isFinal = function () {\n    return (this._bitField & 4194304) > 0;\n};\n\nPromise.prototype._unsetCancelled = function() {\n    this._bitField = this._bitField & (~65536);\n};\n\nPromise.prototype._setCancelled = function() {\n    this._bitField = this._bitField | 65536;\n    this._fireEvent(\"promiseCancelled\", this);\n};\n\nPromise.prototype._setWillBeCancelled = function() {\n    this._bitField = this._bitField | 8388608;\n};\n\nPromise.prototype._setAsyncGuaranteed = function() {\n    if (async.hasCustomScheduler()) return;\n    this._bitField = this._bitField | 134217728;\n};\n\nPromise.prototype._receiverAt = function (index) {\n    var ret = index === 0 ? this._receiver0 : this[\n            index * 4 - 4 + 3];\n    if (ret === UNDEFINED_BINDING) {\n        return undefined;\n    } else if (ret === undefined && this._isBound()) {\n        return this._boundValue();\n    }\n    return ret;\n};\n\nPromise.prototype._promiseAt = function (index) {\n    return this[\n            index * 4 - 4 + 2];\n};\n\nPromise.prototype._fulfillmentHandlerAt = function (index) {\n    return this[\n            index * 4 - 4 + 0];\n};\n\nPromise.prototype._rejectionHandlerAt = function (index) {\n    return this[\n            index * 4 - 4 + 1];\n};\n\nPromise.prototype._boundValue = function() {};\n\nPromise.prototype._migrateCallback0 = function (follower) {\n    var bitField = follower._bitField;\n    var fulfill = follower._fulfillmentHandler0;\n    var reject = follower._rejectionHandler0;\n    var promise = follower._promise0;\n    var receiver = follower._receiverAt(0);\n    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n    this._addCallbacks(fulfill, reject, promise, receiver, null);\n};\n\nPromise.prototype._migrateCallbackAt = function (follower, index) {\n    var fulfill = follower._fulfillmentHandlerAt(index);\n    var reject = follower._rejectionHandlerAt(index);\n    var promise = follower._promiseAt(index);\n    var receiver = follower._receiverAt(index);\n    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n    this._addCallbacks(fulfill, reject, promise, receiver, null);\n};\n\nPromise.prototype._addCallbacks = function (\n    fulfill,\n    reject,\n    promise,\n    receiver,\n    domain\n) {\n    var index = this._length();\n\n    if (index >= 65535 - 4) {\n        index = 0;\n        this._setLength(0);\n    }\n\n    if (index === 0) {\n        this._promise0 = promise;\n        this._receiver0 = receiver;\n        if (typeof fulfill === \"function\") {\n            this._fulfillmentHandler0 =\n                domain === null ? fulfill : util.domainBind(domain, fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this._rejectionHandler0 =\n                domain === null ? reject : util.domainBind(domain, reject);\n        }\n    } else {\n        var base = index * 4 - 4;\n        this[base + 2] = promise;\n        this[base + 3] = receiver;\n        if (typeof fulfill === \"function\") {\n            this[base + 0] =\n                domain === null ? fulfill : util.domainBind(domain, fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this[base + 1] =\n                domain === null ? reject : util.domainBind(domain, reject);\n        }\n    }\n    this._setLength(index + 1);\n    return index;\n};\n\nPromise.prototype._proxy = function (proxyable, arg) {\n    this._addCallbacks(undefined, undefined, arg, proxyable, null);\n};\n\nPromise.prototype._resolveCallback = function(value, shouldBind) {\n    if (((this._bitField & 117506048) !== 0)) return;\n    if (value === this)\n        return this._rejectCallback(makeSelfResolutionError(), false);\n    var maybePromise = tryConvertToPromise(value, this);\n    if (!(maybePromise instanceof Promise)) return this._fulfill(value);\n\n    if (shouldBind) this._propagateFrom(maybePromise, 2);\n\n    var promise = maybePromise._target();\n\n    if (promise === this) {\n        this._reject(makeSelfResolutionError());\n        return;\n    }\n\n    var bitField = promise._bitField;\n    if (((bitField & 50397184) === 0)) {\n        var len = this._length();\n        if (len > 0) promise._migrateCallback0(this);\n        for (var i = 1; i < len; ++i) {\n            promise._migrateCallbackAt(this, i);\n        }\n        this._setFollowing();\n        this._setLength(0);\n        this._setFollowee(promise);\n    } else if (((bitField & 33554432) !== 0)) {\n        this._fulfill(promise._value());\n    } else if (((bitField & 16777216) !== 0)) {\n        this._reject(promise._reason());\n    } else {\n        var reason = new CancellationError(\"late cancellation observer\");\n        promise._attachExtraTrace(reason);\n        this._reject(reason);\n    }\n};\n\nPromise.prototype._rejectCallback =\nfunction(reason, synchronous, ignoreNonErrorWarnings) {\n    var trace = util.ensureErrorObject(reason);\n    var hasStack = trace === reason;\n    if (!hasStack && !ignoreNonErrorWarnings && debug.warnings()) {\n        var message = \"a promise was rejected with a non-error: \" +\n            util.classString(reason);\n        this._warn(message, true);\n    }\n    this._attachExtraTrace(trace, synchronous ? hasStack : false);\n    this._reject(reason);\n};\n\nPromise.prototype._resolveFromExecutor = function (executor) {\n    var promise = this;\n    this._captureStackTrace();\n    this._pushContext();\n    var synchronous = true;\n    var r = this._execute(executor, function(value) {\n        promise._resolveCallback(value);\n    }, function (reason) {\n        promise._rejectCallback(reason, synchronous);\n    });\n    synchronous = false;\n    this._popContext();\n\n    if (r !== undefined) {\n        promise._rejectCallback(r, true);\n    }\n};\n\nPromise.prototype._settlePromiseFromHandler = function (\n    handler, receiver, value, promise\n) {\n    var bitField = promise._bitField;\n    if (((bitField & 65536) !== 0)) return;\n    promise._pushContext();\n    var x;\n    if (receiver === APPLY) {\n        if (!value || typeof value.length !== \"number\") {\n            x = errorObj;\n            x.e = new TypeError(\"cannot .spread() a non-array: \" +\n                                    util.classString(value));\n        } else {\n            x = tryCatch(handler).apply(this._boundValue(), value);\n        }\n    } else {\n        x = tryCatch(handler).call(receiver, value);\n    }\n    var promiseCreated = promise._popContext();\n    bitField = promise._bitField;\n    if (((bitField & 65536) !== 0)) return;\n\n    if (x === NEXT_FILTER) {\n        promise._reject(value);\n    } else if (x === errorObj) {\n        promise._rejectCallback(x.e, false);\n    } else {\n        debug.checkForgottenReturns(x, promiseCreated, \"\",  promise, this);\n        promise._resolveCallback(x);\n    }\n};\n\nPromise.prototype._target = function() {\n    var ret = this;\n    while (ret._isFollowing()) ret = ret._followee();\n    return ret;\n};\n\nPromise.prototype._followee = function() {\n    return this._rejectionHandler0;\n};\n\nPromise.prototype._setFollowee = function(promise) {\n    this._rejectionHandler0 = promise;\n};\n\nPromise.prototype._settlePromise = function(promise, handler, receiver, value) {\n    var isPromise = promise instanceof Promise;\n    var bitField = this._bitField;\n    var asyncGuaranteed = ((bitField & 134217728) !== 0);\n    if (((bitField & 65536) !== 0)) {\n        if (isPromise) promise._invokeInternalOnCancel();\n\n        if (receiver instanceof PassThroughHandlerContext &&\n            receiver.isFinallyHandler()) {\n            receiver.cancelPromise = promise;\n            if (tryCatch(handler).call(receiver, value) === errorObj) {\n                promise._reject(errorObj.e);\n            }\n        } else if (handler === reflectHandler) {\n            promise._fulfill(reflectHandler.call(receiver));\n        } else if (receiver instanceof Proxyable) {\n            receiver._promiseCancelled(promise);\n        } else if (isPromise || promise instanceof PromiseArray) {\n            promise._cancel();\n        } else {\n            receiver.cancel();\n        }\n    } else if (typeof handler === \"function\") {\n        if (!isPromise) {\n            handler.call(receiver, value, promise);\n        } else {\n            if (asyncGuaranteed) promise._setAsyncGuaranteed();\n            this._settlePromiseFromHandler(handler, receiver, value, promise);\n        }\n    } else if (receiver instanceof Proxyable) {\n        if (!receiver._isResolved()) {\n            if (((bitField & 33554432) !== 0)) {\n                receiver._promiseFulfilled(value, promise);\n            } else {\n                receiver._promiseRejected(value, promise);\n            }\n        }\n    } else if (isPromise) {\n        if (asyncGuaranteed) promise._setAsyncGuaranteed();\n        if (((bitField & 33554432) !== 0)) {\n            promise._fulfill(value);\n        } else {\n            promise._reject(value);\n        }\n    }\n};\n\nPromise.prototype._settlePromiseLateCancellationObserver = function(ctx) {\n    var handler = ctx.handler;\n    var promise = ctx.promise;\n    var receiver = ctx.receiver;\n    var value = ctx.value;\n    if (typeof handler === \"function\") {\n        if (!(promise instanceof Promise)) {\n            handler.call(receiver, value, promise);\n        } else {\n            this._settlePromiseFromHandler(handler, receiver, value, promise);\n        }\n    } else if (promise instanceof Promise) {\n        promise._reject(value);\n    }\n};\n\nPromise.prototype._settlePromiseCtx = function(ctx) {\n    this._settlePromise(ctx.promise, ctx.handler, ctx.receiver, ctx.value);\n};\n\nPromise.prototype._settlePromise0 = function(handler, value, bitField) {\n    var promise = this._promise0;\n    var receiver = this._receiverAt(0);\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    this._settlePromise(promise, handler, receiver, value);\n};\n\nPromise.prototype._clearCallbackDataAtIndex = function(index) {\n    var base = index * 4 - 4;\n    this[base + 2] =\n    this[base + 3] =\n    this[base + 0] =\n    this[base + 1] = undefined;\n};\n\nPromise.prototype._fulfill = function (value) {\n    var bitField = this._bitField;\n    if (((bitField & 117506048) >>> 16)) return;\n    if (value === this) {\n        var err = makeSelfResolutionError();\n        this._attachExtraTrace(err);\n        return this._reject(err);\n    }\n    this._setFulfilled();\n    this._rejectionHandler0 = value;\n\n    if ((bitField & 65535) > 0) {\n        if (((bitField & 134217728) !== 0)) {\n            this._settlePromises();\n        } else {\n            async.settlePromises(this);\n        }\n    }\n};\n\nPromise.prototype._reject = function (reason) {\n    var bitField = this._bitField;\n    if (((bitField & 117506048) >>> 16)) return;\n    this._setRejected();\n    this._fulfillmentHandler0 = reason;\n\n    if (this._isFinal()) {\n        return async.fatalError(reason, util.isNode);\n    }\n\n    if ((bitField & 65535) > 0) {\n        async.settlePromises(this);\n    } else {\n        this._ensurePossibleRejectionHandled();\n    }\n};\n\nPromise.prototype._fulfillPromises = function (len, value) {\n    for (var i = 1; i < len; i++) {\n        var handler = this._fulfillmentHandlerAt(i);\n        var promise = this._promiseAt(i);\n        var receiver = this._receiverAt(i);\n        this._clearCallbackDataAtIndex(i);\n        this._settlePromise(promise, handler, receiver, value);\n    }\n};\n\nPromise.prototype._rejectPromises = function (len, reason) {\n    for (var i = 1; i < len; i++) {\n        var handler = this._rejectionHandlerAt(i);\n        var promise = this._promiseAt(i);\n        var receiver = this._receiverAt(i);\n        this._clearCallbackDataAtIndex(i);\n        this._settlePromise(promise, handler, receiver, reason);\n    }\n};\n\nPromise.prototype._settlePromises = function () {\n    var bitField = this._bitField;\n    var len = (bitField & 65535);\n\n    if (len > 0) {\n        if (((bitField & 16842752) !== 0)) {\n            var reason = this._fulfillmentHandler0;\n            this._settlePromise0(this._rejectionHandler0, reason, bitField);\n            this._rejectPromises(len, reason);\n        } else {\n            var value = this._rejectionHandler0;\n            this._settlePromise0(this._fulfillmentHandler0, value, bitField);\n            this._fulfillPromises(len, value);\n        }\n        this._setLength(0);\n    }\n    this._clearCancellationData();\n};\n\nPromise.prototype._settledValue = function() {\n    var bitField = this._bitField;\n    if (((bitField & 33554432) !== 0)) {\n        return this._rejectionHandler0;\n    } else if (((bitField & 16777216) !== 0)) {\n        return this._fulfillmentHandler0;\n    }\n};\n\nfunction deferResolve(v) {this.promise._resolveCallback(v);}\nfunction deferReject(v) {this.promise._rejectCallback(v, false);}\n\nPromise.defer = Promise.pending = function() {\n    debug.deprecated(\"Promise.defer\", \"new Promise\");\n    var promise = new Promise(INTERNAL);\n    return {\n        promise: promise,\n        resolve: deferResolve,\n        reject: deferReject\n    };\n};\n\nutil.notEnumerableProp(Promise,\n                       \"_makeSelfResolutionError\",\n                       makeSelfResolutionError);\n\n_dereq_(\"./method\")(Promise, INTERNAL, tryConvertToPromise, apiRejection,\n    debug);\n_dereq_(\"./bind\")(Promise, INTERNAL, tryConvertToPromise, debug);\n_dereq_(\"./cancel\")(Promise, PromiseArray, apiRejection, debug);\n_dereq_(\"./direct_resolve\")(Promise);\n_dereq_(\"./synchronous_inspection\")(Promise);\n_dereq_(\"./join\")(\n    Promise, PromiseArray, tryConvertToPromise, INTERNAL, async, getDomain);\nPromise.Promise = Promise;\nPromise.version = \"3.4.6\";\n_dereq_('./map.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\n_dereq_('./call_get.js')(Promise);\n_dereq_('./using.js')(Promise, apiRejection, tryConvertToPromise, createContext, INTERNAL, debug);\n_dereq_('./timers.js')(Promise, INTERNAL, debug);\n_dereq_('./generators.js')(Promise, apiRejection, INTERNAL, tryConvertToPromise, Proxyable, debug);\n_dereq_('./nodeify.js')(Promise);\n_dereq_('./promisify.js')(Promise, INTERNAL);\n_dereq_('./props.js')(Promise, PromiseArray, tryConvertToPromise, apiRejection);\n_dereq_('./race.js')(Promise, INTERNAL, tryConvertToPromise, apiRejection);\n_dereq_('./reduce.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\n_dereq_('./settle.js')(Promise, PromiseArray, debug);\n_dereq_('./some.js')(Promise, PromiseArray, apiRejection);\n_dereq_('./filter.js')(Promise, INTERNAL);\n_dereq_('./each.js')(Promise, INTERNAL);\n_dereq_('./any.js')(Promise);\n                                                         \n    util.toFastProperties(Promise);                                          \n    util.toFastProperties(Promise.prototype);                                \n    function fillTypes(value) {                                              \n        var p = new Promise(INTERNAL);                                       \n        p._fulfillmentHandler0 = value;                                      \n        p._rejectionHandler0 = value;                                        \n        p._promise0 = value;                                                 \n        p._receiver0 = value;                                                \n    }                                                                        \n    // Complete slack tracking, opt out of field-type tracking and           \n    // stabilize map                                                         \n    fillTypes({a: 1});                                                       \n    fillTypes({b: 2});                                                       \n    fillTypes({c: 3});                                                       \n    fillTypes(1);                                                            \n    fillTypes(function(){});                                                 \n    fillTypes(undefined);                                                    \n    fillTypes(false);                                                        \n    fillTypes(new Promise(INTERNAL));                                        \n    debug.setBounds(Async.firstLineError, util.lastLineError);               \n    return Promise;                                                          \n\n};\n\n},{\"./any.js\":1,\"./async\":2,\"./bind\":3,\"./call_get.js\":5,\"./cancel\":6,\"./catch_filter\":7,\"./context\":8,\"./debuggability\":9,\"./direct_resolve\":10,\"./each.js\":11,\"./errors\":12,\"./es5\":13,\"./filter.js\":14,\"./finally\":15,\"./generators.js\":16,\"./join\":17,\"./map.js\":18,\"./method\":19,\"./nodeback\":20,\"./nodeify.js\":21,\"./promise_array\":23,\"./promisify.js\":24,\"./props.js\":25,\"./race.js\":27,\"./reduce.js\":28,\"./settle.js\":30,\"./some.js\":31,\"./synchronous_inspection\":32,\"./thenables\":33,\"./timers.js\":34,\"./using.js\":35,\"./util\":36}],23:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, tryConvertToPromise,\n    apiRejection, Proxyable) {\nvar util = _dereq_(\"./util\");\nvar isArray = util.isArray;\n\nfunction toResolutionValue(val) {\n    switch(val) {\n    case -2: return [];\n    case -3: return {};\n    }\n}\n\nfunction PromiseArray(values) {\n    var promise = this._promise = new Promise(INTERNAL);\n    if (values instanceof Promise) {\n        promise._propagateFrom(values, 3);\n    }\n    promise._setOnCancel(this);\n    this._values = values;\n    this._length = 0;\n    this._totalResolved = 0;\n    this._init(undefined, -2);\n}\nutil.inherits(PromiseArray, Proxyable);\n\nPromiseArray.prototype.length = function () {\n    return this._length;\n};\n\nPromiseArray.prototype.promise = function () {\n    return this._promise;\n};\n\nPromiseArray.prototype._init = function init(_, resolveValueIfEmpty) {\n    var values = tryConvertToPromise(this._values, this._promise);\n    if (values instanceof Promise) {\n        values = values._target();\n        var bitField = values._bitField;\n        ;\n        this._values = values;\n\n        if (((bitField & 50397184) === 0)) {\n            this._promise._setAsyncGuaranteed();\n            return values._then(\n                init,\n                this._reject,\n                undefined,\n                this,\n                resolveValueIfEmpty\n           );\n        } else if (((bitField & 33554432) !== 0)) {\n            values = values._value();\n        } else if (((bitField & 16777216) !== 0)) {\n            return this._reject(values._reason());\n        } else {\n            return this._cancel();\n        }\n    }\n    values = util.asArray(values);\n    if (values === null) {\n        var err = apiRejection(\n            \"expecting an array or an iterable object but got \" + util.classString(values)).reason();\n        this._promise._rejectCallback(err, false);\n        return;\n    }\n\n    if (values.length === 0) {\n        if (resolveValueIfEmpty === -5) {\n            this._resolveEmptyArray();\n        }\n        else {\n            this._resolve(toResolutionValue(resolveValueIfEmpty));\n        }\n        return;\n    }\n    this._iterate(values);\n};\n\nPromiseArray.prototype._iterate = function(values) {\n    var len = this.getActualLength(values.length);\n    this._length = len;\n    this._values = this.shouldCopyValues() ? new Array(len) : this._values;\n    var result = this._promise;\n    var isResolved = false;\n    var bitField = null;\n    for (var i = 0; i < len; ++i) {\n        var maybePromise = tryConvertToPromise(values[i], result);\n\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            bitField = maybePromise._bitField;\n        } else {\n            bitField = null;\n        }\n\n        if (isResolved) {\n            if (bitField !== null) {\n                maybePromise.suppressUnhandledRejections();\n            }\n        } else if (bitField !== null) {\n            if (((bitField & 50397184) === 0)) {\n                maybePromise._proxy(this, i);\n                this._values[i] = maybePromise;\n            } else if (((bitField & 33554432) !== 0)) {\n                isResolved = this._promiseFulfilled(maybePromise._value(), i);\n            } else if (((bitField & 16777216) !== 0)) {\n                isResolved = this._promiseRejected(maybePromise._reason(), i);\n            } else {\n                isResolved = this._promiseCancelled(i);\n            }\n        } else {\n            isResolved = this._promiseFulfilled(maybePromise, i);\n        }\n    }\n    if (!isResolved) result._setAsyncGuaranteed();\n};\n\nPromiseArray.prototype._isResolved = function () {\n    return this._values === null;\n};\n\nPromiseArray.prototype._resolve = function (value) {\n    this._values = null;\n    this._promise._fulfill(value);\n};\n\nPromiseArray.prototype._cancel = function() {\n    if (this._isResolved() || !this._promise._isCancellable()) return;\n    this._values = null;\n    this._promise._cancel();\n};\n\nPromiseArray.prototype._reject = function (reason) {\n    this._values = null;\n    this._promise._rejectCallback(reason, false);\n};\n\nPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        this._resolve(this._values);\n        return true;\n    }\n    return false;\n};\n\nPromiseArray.prototype._promiseCancelled = function() {\n    this._cancel();\n    return true;\n};\n\nPromiseArray.prototype._promiseRejected = function (reason) {\n    this._totalResolved++;\n    this._reject(reason);\n    return true;\n};\n\nPromiseArray.prototype._resultCancelled = function() {\n    if (this._isResolved()) return;\n    var values = this._values;\n    this._cancel();\n    if (values instanceof Promise) {\n        values.cancel();\n    } else {\n        for (var i = 0; i < values.length; ++i) {\n            if (values[i] instanceof Promise) {\n                values[i].cancel();\n            }\n        }\n    }\n};\n\nPromiseArray.prototype.shouldCopyValues = function () {\n    return true;\n};\n\nPromiseArray.prototype.getActualLength = function (len) {\n    return len;\n};\n\nreturn PromiseArray;\n};\n\n},{\"./util\":36}],24:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar THIS = {};\nvar util = _dereq_(\"./util\");\nvar nodebackForPromise = _dereq_(\"./nodeback\");\nvar withAppended = util.withAppended;\nvar maybeWrapAsError = util.maybeWrapAsError;\nvar canEvaluate = util.canEvaluate;\nvar TypeError = _dereq_(\"./errors\").TypeError;\nvar defaultSuffix = \"Async\";\nvar defaultPromisified = {__isPromisified__: true};\nvar noCopyProps = [\n    \"arity\",    \"length\",\n    \"name\",\n    \"arguments\",\n    \"caller\",\n    \"callee\",\n    \"prototype\",\n    \"__isPromisified__\"\n];\nvar noCopyPropsPattern = new RegExp(\"^(?:\" + noCopyProps.join(\"|\") + \")$\");\n\nvar defaultFilter = function(name) {\n    return util.isIdentifier(name) &&\n        name.charAt(0) !== \"_\" &&\n        name !== \"constructor\";\n};\n\nfunction propsFilter(key) {\n    return !noCopyPropsPattern.test(key);\n}\n\nfunction isPromisified(fn) {\n    try {\n        return fn.__isPromisified__ === true;\n    }\n    catch (e) {\n        return false;\n    }\n}\n\nfunction hasPromisified(obj, key, suffix) {\n    var val = util.getDataPropertyOrDefault(obj, key + suffix,\n                                            defaultPromisified);\n    return val ? isPromisified(val) : false;\n}\nfunction checkValid(ret, suffix, suffixRegexp) {\n    for (var i = 0; i < ret.length; i += 2) {\n        var key = ret[i];\n        if (suffixRegexp.test(key)) {\n            var keyWithoutAsyncSuffix = key.replace(suffixRegexp, \"\");\n            for (var j = 0; j < ret.length; j += 2) {\n                if (ret[j] === keyWithoutAsyncSuffix) {\n                    throw new TypeError(\"Cannot promisify an API that has normal methods with '%s'-suffix\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\"\n                        .replace(\"%s\", suffix));\n                }\n            }\n        }\n    }\n}\n\nfunction promisifiableMethods(obj, suffix, suffixRegexp, filter) {\n    var keys = util.inheritedDataKeys(obj);\n    var ret = [];\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var value = obj[key];\n        var passesDefaultFilter = filter === defaultFilter\n            ? true : defaultFilter(key, value, obj);\n        if (typeof value === \"function\" &&\n            !isPromisified(value) &&\n            !hasPromisified(obj, key, suffix) &&\n            filter(key, value, obj, passesDefaultFilter)) {\n            ret.push(key, value);\n        }\n    }\n    checkValid(ret, suffix, suffixRegexp);\n    return ret;\n}\n\nvar escapeIdentRegex = function(str) {\n    return str.replace(/([$])/, \"\\\\$\");\n};\n\nvar makeNodePromisifiedEval;\nif (!true) {\nvar switchCaseArgumentOrder = function(likelyArgumentCount) {\n    var ret = [likelyArgumentCount];\n    var min = Math.max(0, likelyArgumentCount - 1 - 3);\n    for(var i = likelyArgumentCount - 1; i >= min; --i) {\n        ret.push(i);\n    }\n    for(var i = likelyArgumentCount + 1; i <= 3; ++i) {\n        ret.push(i);\n    }\n    return ret;\n};\n\nvar argumentSequence = function(argumentCount) {\n    return util.filledRange(argumentCount, \"_arg\", \"\");\n};\n\nvar parameterDeclaration = function(parameterCount) {\n    return util.filledRange(\n        Math.max(parameterCount, 3), \"_arg\", \"\");\n};\n\nvar parameterCount = function(fn) {\n    if (typeof fn.length === \"number\") {\n        return Math.max(Math.min(fn.length, 1023 + 1), 0);\n    }\n    return 0;\n};\n\nmakeNodePromisifiedEval =\nfunction(callback, receiver, originalName, fn, _, multiArgs) {\n    var newParameterCount = Math.max(0, parameterCount(fn) - 1);\n    var argumentOrder = switchCaseArgumentOrder(newParameterCount);\n    var shouldProxyThis = typeof callback === \"string\" || receiver === THIS;\n\n    function generateCallForArgumentCount(count) {\n        var args = argumentSequence(count).join(\", \");\n        var comma = count > 0 ? \", \" : \"\";\n        var ret;\n        if (shouldProxyThis) {\n            ret = \"ret = callback.call(this, {{args}}, nodeback); break;\\n\";\n        } else {\n            ret = receiver === undefined\n                ? \"ret = callback({{args}}, nodeback); break;\\n\"\n                : \"ret = callback.call(receiver, {{args}}, nodeback); break;\\n\";\n        }\n        return ret.replace(\"{{args}}\", args).replace(\", \", comma);\n    }\n\n    function generateArgumentSwitchCase() {\n        var ret = \"\";\n        for (var i = 0; i < argumentOrder.length; ++i) {\n            ret += \"case \" + argumentOrder[i] +\":\" +\n                generateCallForArgumentCount(argumentOrder[i]);\n        }\n\n        ret += \"                                                             \\n\\\n        default:                                                             \\n\\\n            var args = new Array(len + 1);                                   \\n\\\n            var i = 0;                                                       \\n\\\n            for (var i = 0; i < len; ++i) {                                  \\n\\\n               args[i] = arguments[i];                                       \\n\\\n            }                                                                \\n\\\n            args[i] = nodeback;                                              \\n\\\n            [CodeForCall]                                                    \\n\\\n            break;                                                           \\n\\\n        \".replace(\"[CodeForCall]\", (shouldProxyThis\n                                ? \"ret = callback.apply(this, args);\\n\"\n                                : \"ret = callback.apply(receiver, args);\\n\"));\n        return ret;\n    }\n\n    var getFunctionCode = typeof callback === \"string\"\n                                ? (\"this != null ? this['\"+callback+\"'] : fn\")\n                                : \"fn\";\n    var body = \"'use strict';                                                \\n\\\n        var ret = function (Parameters) {                                    \\n\\\n            'use strict';                                                    \\n\\\n            var len = arguments.length;                                      \\n\\\n            var promise = new Promise(INTERNAL);                             \\n\\\n            promise._captureStackTrace();                                    \\n\\\n            var nodeback = nodebackForPromise(promise, \" + multiArgs + \");   \\n\\\n            var ret;                                                         \\n\\\n            var callback = tryCatch([GetFunctionCode]);                      \\n\\\n            switch(len) {                                                    \\n\\\n                [CodeForSwitchCase]                                          \\n\\\n            }                                                                \\n\\\n            if (ret === errorObj) {                                          \\n\\\n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\\n\\\n            }                                                                \\n\\\n            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \\n\\\n            return promise;                                                  \\n\\\n        };                                                                   \\n\\\n        notEnumerableProp(ret, '__isPromisified__', true);                   \\n\\\n        return ret;                                                          \\n\\\n    \".replace(\"[CodeForSwitchCase]\", generateArgumentSwitchCase())\n        .replace(\"[GetFunctionCode]\", getFunctionCode);\n    body = body.replace(\"Parameters\", parameterDeclaration(newParameterCount));\n    return new Function(\"Promise\",\n                        \"fn\",\n                        \"receiver\",\n                        \"withAppended\",\n                        \"maybeWrapAsError\",\n                        \"nodebackForPromise\",\n                        \"tryCatch\",\n                        \"errorObj\",\n                        \"notEnumerableProp\",\n                        \"INTERNAL\",\n                        body)(\n                    Promise,\n                    fn,\n                    receiver,\n                    withAppended,\n                    maybeWrapAsError,\n                    nodebackForPromise,\n                    util.tryCatch,\n                    util.errorObj,\n                    util.notEnumerableProp,\n                    INTERNAL);\n};\n}\n\nfunction makeNodePromisifiedClosure(callback, receiver, _, fn, __, multiArgs) {\n    var defaultThis = (function() {return this;})();\n    var method = callback;\n    if (typeof method === \"string\") {\n        callback = fn;\n    }\n    function promisified() {\n        var _receiver = receiver;\n        if (receiver === THIS) _receiver = this;\n        var promise = new Promise(INTERNAL);\n        promise._captureStackTrace();\n        var cb = typeof method === \"string\" && this !== defaultThis\n            ? this[method] : callback;\n        var fn = nodebackForPromise(promise, multiArgs);\n        try {\n            cb.apply(_receiver, withAppended(arguments, fn));\n        } catch(e) {\n            promise._rejectCallback(maybeWrapAsError(e), true, true);\n        }\n        if (!promise._isFateSealed()) promise._setAsyncGuaranteed();\n        return promise;\n    }\n    util.notEnumerableProp(promisified, \"__isPromisified__\", true);\n    return promisified;\n}\n\nvar makeNodePromisified = canEvaluate\n    ? makeNodePromisifiedEval\n    : makeNodePromisifiedClosure;\n\nfunction promisifyAll(obj, suffix, filter, promisifier, multiArgs) {\n    var suffixRegexp = new RegExp(escapeIdentRegex(suffix) + \"$\");\n    var methods =\n        promisifiableMethods(obj, suffix, suffixRegexp, filter);\n\n    for (var i = 0, len = methods.length; i < len; i+= 2) {\n        var key = methods[i];\n        var fn = methods[i+1];\n        var promisifiedKey = key + suffix;\n        if (promisifier === makeNodePromisified) {\n            obj[promisifiedKey] =\n                makeNodePromisified(key, THIS, key, fn, suffix, multiArgs);\n        } else {\n            var promisified = promisifier(fn, function() {\n                return makeNodePromisified(key, THIS, key,\n                                           fn, suffix, multiArgs);\n            });\n            util.notEnumerableProp(promisified, \"__isPromisified__\", true);\n            obj[promisifiedKey] = promisified;\n        }\n    }\n    util.toFastProperties(obj);\n    return obj;\n}\n\nfunction promisify(callback, receiver, multiArgs) {\n    return makeNodePromisified(callback, receiver, undefined,\n                                callback, null, multiArgs);\n}\n\nPromise.promisify = function (fn, options) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    if (isPromisified(fn)) {\n        return fn;\n    }\n    options = Object(options);\n    var receiver = options.context === undefined ? THIS : options.context;\n    var multiArgs = !!options.multiArgs;\n    var ret = promisify(fn, receiver, multiArgs);\n    util.copyDescriptors(fn, ret, propsFilter);\n    return ret;\n};\n\nPromise.promisifyAll = function (target, options) {\n    if (typeof target !== \"function\" && typeof target !== \"object\") {\n        throw new TypeError(\"the target of promisifyAll must be an object or a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    options = Object(options);\n    var multiArgs = !!options.multiArgs;\n    var suffix = options.suffix;\n    if (typeof suffix !== \"string\") suffix = defaultSuffix;\n    var filter = options.filter;\n    if (typeof filter !== \"function\") filter = defaultFilter;\n    var promisifier = options.promisifier;\n    if (typeof promisifier !== \"function\") promisifier = makeNodePromisified;\n\n    if (!util.isIdentifier(suffix)) {\n        throw new RangeError(\"suffix must be a valid identifier\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n\n    var keys = util.inheritedDataKeys(target);\n    for (var i = 0; i < keys.length; ++i) {\n        var value = target[keys[i]];\n        if (keys[i] !== \"constructor\" &&\n            util.isClass(value)) {\n            promisifyAll(value.prototype, suffix, filter, promisifier,\n                multiArgs);\n            promisifyAll(value, suffix, filter, promisifier, multiArgs);\n        }\n    }\n\n    return promisifyAll(target, suffix, filter, promisifier, multiArgs);\n};\n};\n\n\n},{\"./errors\":12,\"./nodeback\":20,\"./util\":36}],25:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(\n    Promise, PromiseArray, tryConvertToPromise, apiRejection) {\nvar util = _dereq_(\"./util\");\nvar isObject = util.isObject;\nvar es5 = _dereq_(\"./es5\");\nvar Es6Map;\nif (typeof Map === \"function\") Es6Map = Map;\n\nvar mapToEntries = (function() {\n    var index = 0;\n    var size = 0;\n\n    function extractEntry(value, key) {\n        this[index] = value;\n        this[index + size] = key;\n        index++;\n    }\n\n    return function mapToEntries(map) {\n        size = map.size;\n        index = 0;\n        var ret = new Array(map.size * 2);\n        map.forEach(extractEntry, ret);\n        return ret;\n    };\n})();\n\nvar entriesToMap = function(entries) {\n    var ret = new Es6Map();\n    var length = entries.length / 2 | 0;\n    for (var i = 0; i < length; ++i) {\n        var key = entries[length + i];\n        var value = entries[i];\n        ret.set(key, value);\n    }\n    return ret;\n};\n\nfunction PropertiesPromiseArray(obj) {\n    var isMap = false;\n    var entries;\n    if (Es6Map !== undefined && obj instanceof Es6Map) {\n        entries = mapToEntries(obj);\n        isMap = true;\n    } else {\n        var keys = es5.keys(obj);\n        var len = keys.length;\n        entries = new Array(len * 2);\n        for (var i = 0; i < len; ++i) {\n            var key = keys[i];\n            entries[i] = obj[key];\n            entries[i + len] = key;\n        }\n    }\n    this.constructor$(entries);\n    this._isMap = isMap;\n    this._init$(undefined, -3);\n}\nutil.inherits(PropertiesPromiseArray, PromiseArray);\n\nPropertiesPromiseArray.prototype._init = function () {};\n\nPropertiesPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        var val;\n        if (this._isMap) {\n            val = entriesToMap(this._values);\n        } else {\n            val = {};\n            var keyOffset = this.length();\n            for (var i = 0, len = this.length(); i < len; ++i) {\n                val[this._values[i + keyOffset]] = this._values[i];\n            }\n        }\n        this._resolve(val);\n        return true;\n    }\n    return false;\n};\n\nPropertiesPromiseArray.prototype.shouldCopyValues = function () {\n    return false;\n};\n\nPropertiesPromiseArray.prototype.getActualLength = function (len) {\n    return len >> 1;\n};\n\nfunction props(promises) {\n    var ret;\n    var castValue = tryConvertToPromise(promises);\n\n    if (!isObject(castValue)) {\n        return apiRejection(\"cannot await properties of a non-object\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    } else if (castValue instanceof Promise) {\n        ret = castValue._then(\n            Promise.props, undefined, undefined, undefined, undefined);\n    } else {\n        ret = new PropertiesPromiseArray(castValue).promise();\n    }\n\n    if (castValue instanceof Promise) {\n        ret._propagateFrom(castValue, 2);\n    }\n    return ret;\n}\n\nPromise.prototype.props = function () {\n    return props(this);\n};\n\nPromise.props = function (promises) {\n    return props(promises);\n};\n};\n\n},{\"./es5\":13,\"./util\":36}],26:[function(_dereq_,module,exports){\n\"use strict\";\nfunction arrayMove(src, srcIndex, dst, dstIndex, len) {\n    for (var j = 0; j < len; ++j) {\n        dst[j + dstIndex] = src[j + srcIndex];\n        src[j + srcIndex] = void 0;\n    }\n}\n\nfunction Queue(capacity) {\n    this._capacity = capacity;\n    this._length = 0;\n    this._front = 0;\n}\n\nQueue.prototype._willBeOverCapacity = function (size) {\n    return this._capacity < size;\n};\n\nQueue.prototype._pushOne = function (arg) {\n    var length = this.length();\n    this._checkCapacity(length + 1);\n    var i = (this._front + length) & (this._capacity - 1);\n    this[i] = arg;\n    this._length = length + 1;\n};\n\nQueue.prototype._unshiftOne = function(value) {\n    var capacity = this._capacity;\n    this._checkCapacity(this.length() + 1);\n    var front = this._front;\n    var i = (((( front - 1 ) &\n                    ( capacity - 1) ) ^ capacity ) - capacity );\n    this[i] = value;\n    this._front = i;\n    this._length = this.length() + 1;\n};\n\nQueue.prototype.unshift = function(fn, receiver, arg) {\n    this._unshiftOne(arg);\n    this._unshiftOne(receiver);\n    this._unshiftOne(fn);\n};\n\nQueue.prototype.push = function (fn, receiver, arg) {\n    var length = this.length() + 3;\n    if (this._willBeOverCapacity(length)) {\n        this._pushOne(fn);\n        this._pushOne(receiver);\n        this._pushOne(arg);\n        return;\n    }\n    var j = this._front + length - 3;\n    this._checkCapacity(length);\n    var wrapMask = this._capacity - 1;\n    this[(j + 0) & wrapMask] = fn;\n    this[(j + 1) & wrapMask] = receiver;\n    this[(j + 2) & wrapMask] = arg;\n    this._length = length;\n};\n\nQueue.prototype.shift = function () {\n    var front = this._front,\n        ret = this[front];\n\n    this[front] = undefined;\n    this._front = (front + 1) & (this._capacity - 1);\n    this._length--;\n    return ret;\n};\n\nQueue.prototype.length = function () {\n    return this._length;\n};\n\nQueue.prototype._checkCapacity = function (size) {\n    if (this._capacity < size) {\n        this._resizeTo(this._capacity << 1);\n    }\n};\n\nQueue.prototype._resizeTo = function (capacity) {\n    var oldCapacity = this._capacity;\n    this._capacity = capacity;\n    var front = this._front;\n    var length = this._length;\n    var moveItemsCount = (front + length) & (oldCapacity - 1);\n    arrayMove(this, 0, this, oldCapacity, moveItemsCount);\n};\n\nmodule.exports = Queue;\n\n},{}],27:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(\n    Promise, INTERNAL, tryConvertToPromise, apiRejection) {\nvar util = _dereq_(\"./util\");\n\nvar raceLater = function (promise) {\n    return promise.then(function(array) {\n        return race(array, promise);\n    });\n};\n\nfunction race(promises, parent) {\n    var maybePromise = tryConvertToPromise(promises);\n\n    if (maybePromise instanceof Promise) {\n        return raceLater(maybePromise);\n    } else {\n        promises = util.asArray(promises);\n        if (promises === null)\n            return apiRejection(\"expecting an array or an iterable object but got \" + util.classString(promises));\n    }\n\n    var ret = new Promise(INTERNAL);\n    if (parent !== undefined) {\n        ret._propagateFrom(parent, 3);\n    }\n    var fulfill = ret._fulfill;\n    var reject = ret._reject;\n    for (var i = 0, len = promises.length; i < len; ++i) {\n        var val = promises[i];\n\n        if (val === undefined && !(i in promises)) {\n            continue;\n        }\n\n        Promise.cast(val)._then(fulfill, reject, undefined, ret, null);\n    }\n    return ret;\n}\n\nPromise.race = function (promises) {\n    return race(promises, undefined);\n};\n\nPromise.prototype.race = function () {\n    return race(this, undefined);\n};\n\n};\n\n},{\"./util\":36}],28:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise,\n                          PromiseArray,\n                          apiRejection,\n                          tryConvertToPromise,\n                          INTERNAL,\n                          debug) {\nvar getDomain = Promise._getDomain;\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\n\nfunction ReductionPromiseArray(promises, fn, initialValue, _each) {\n    this.constructor$(promises);\n    var domain = getDomain();\n    this._fn = domain === null ? fn : util.domainBind(domain, fn);\n    if (initialValue !== undefined) {\n        initialValue = Promise.resolve(initialValue);\n        initialValue._attachCancellationCallback(this);\n    }\n    this._initialValue = initialValue;\n    this._currentCancellable = null;\n    if(_each === INTERNAL) {\n        this._eachValues = Array(this._length);\n    } else if (_each === 0) {\n        this._eachValues = null;\n    } else {\n        this._eachValues = undefined;\n    }\n    this._promise._captureStackTrace();\n    this._init$(undefined, -5);\n}\nutil.inherits(ReductionPromiseArray, PromiseArray);\n\nReductionPromiseArray.prototype._gotAccum = function(accum) {\n    if (this._eachValues !== undefined && \n        this._eachValues !== null && \n        accum !== INTERNAL) {\n        this._eachValues.push(accum);\n    }\n};\n\nReductionPromiseArray.prototype._eachComplete = function(value) {\n    if (this._eachValues !== null) {\n        this._eachValues.push(value);\n    }\n    return this._eachValues;\n};\n\nReductionPromiseArray.prototype._init = function() {};\n\nReductionPromiseArray.prototype._resolveEmptyArray = function() {\n    this._resolve(this._eachValues !== undefined ? this._eachValues\n                                                 : this._initialValue);\n};\n\nReductionPromiseArray.prototype.shouldCopyValues = function () {\n    return false;\n};\n\nReductionPromiseArray.prototype._resolve = function(value) {\n    this._promise._resolveCallback(value);\n    this._values = null;\n};\n\nReductionPromiseArray.prototype._resultCancelled = function(sender) {\n    if (sender === this._initialValue) return this._cancel();\n    if (this._isResolved()) return;\n    this._resultCancelled$();\n    if (this._currentCancellable instanceof Promise) {\n        this._currentCancellable.cancel();\n    }\n    if (this._initialValue instanceof Promise) {\n        this._initialValue.cancel();\n    }\n};\n\nReductionPromiseArray.prototype._iterate = function (values) {\n    this._values = values;\n    var value;\n    var i;\n    var length = values.length;\n    if (this._initialValue !== undefined) {\n        value = this._initialValue;\n        i = 0;\n    } else {\n        value = Promise.resolve(values[0]);\n        i = 1;\n    }\n\n    this._currentCancellable = value;\n\n    if (!value.isRejected()) {\n        for (; i < length; ++i) {\n            var ctx = {\n                accum: null,\n                value: values[i],\n                index: i,\n                length: length,\n                array: this\n            };\n            value = value._then(gotAccum, undefined, undefined, ctx, undefined);\n        }\n    }\n\n    if (this._eachValues !== undefined) {\n        value = value\n            ._then(this._eachComplete, undefined, undefined, this, undefined);\n    }\n    value._then(completed, completed, undefined, value, this);\n};\n\nPromise.prototype.reduce = function (fn, initialValue) {\n    return reduce(this, fn, initialValue, null);\n};\n\nPromise.reduce = function (promises, fn, initialValue, _each) {\n    return reduce(promises, fn, initialValue, _each);\n};\n\nfunction completed(valueOrReason, array) {\n    if (this.isFulfilled()) {\n        array._resolve(valueOrReason);\n    } else {\n        array._reject(valueOrReason);\n    }\n}\n\nfunction reduce(promises, fn, initialValue, _each) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    var array = new ReductionPromiseArray(promises, fn, initialValue, _each);\n    return array.promise();\n}\n\nfunction gotAccum(accum) {\n    this.accum = accum;\n    this.array._gotAccum(accum);\n    var value = tryConvertToPromise(this.value, this.array._promise);\n    if (value instanceof Promise) {\n        this.array._currentCancellable = value;\n        return value._then(gotValue, undefined, undefined, this, undefined);\n    } else {\n        return gotValue.call(this, value);\n    }\n}\n\nfunction gotValue(value) {\n    var array = this.array;\n    var promise = array._promise;\n    var fn = tryCatch(array._fn);\n    promise._pushContext();\n    var ret;\n    if (array._eachValues !== undefined) {\n        ret = fn.call(promise._boundValue(), value, this.index, this.length);\n    } else {\n        ret = fn.call(promise._boundValue(),\n                              this.accum, value, this.index, this.length);\n    }\n    if (ret instanceof Promise) {\n        array._currentCancellable = ret;\n    }\n    var promiseCreated = promise._popContext();\n    debug.checkForgottenReturns(\n        ret,\n        promiseCreated,\n        array._eachValues !== undefined ? \"Promise.each\" : \"Promise.reduce\",\n        promise\n    );\n    return ret;\n}\n};\n\n},{\"./util\":36}],29:[function(_dereq_,module,exports){\n\"use strict\";\nvar util = _dereq_(\"./util\");\nvar schedule;\nvar noAsyncScheduler = function() {\n    throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n};\nvar NativePromise = util.getNativePromise();\nif (util.isNode && typeof MutationObserver === \"undefined\") {\n    var GlobalSetImmediate = global.setImmediate;\n    var ProcessNextTick = process.nextTick;\n    schedule = util.isRecentNode\n                ? function(fn) { GlobalSetImmediate.call(global, fn); }\n                : function(fn) { ProcessNextTick.call(process, fn); };\n} else if (typeof NativePromise === \"function\" &&\n           typeof NativePromise.resolve === \"function\") {\n    var nativePromise = NativePromise.resolve();\n    schedule = function(fn) {\n        nativePromise.then(fn);\n    };\n} else if ((typeof MutationObserver !== \"undefined\") &&\n          !(typeof window !== \"undefined\" &&\n            window.navigator &&\n            (window.navigator.standalone || window.cordova))) {\n    schedule = (function() {\n        var div = document.createElement(\"div\");\n        var opts = {attributes: true};\n        var toggleScheduled = false;\n        var div2 = document.createElement(\"div\");\n        var o2 = new MutationObserver(function() {\n            div.classList.toggle(\"foo\");\n            toggleScheduled = false;\n        });\n        o2.observe(div2, opts);\n\n        var scheduleToggle = function() {\n            if (toggleScheduled) return;\n                toggleScheduled = true;\n                div2.classList.toggle(\"foo\");\n            };\n\n            return function schedule(fn) {\n            var o = new MutationObserver(function() {\n                o.disconnect();\n                fn();\n            });\n            o.observe(div, opts);\n            scheduleToggle();\n        };\n    })();\n} else if (typeof setImmediate !== \"undefined\") {\n    schedule = function (fn) {\n        setImmediate(fn);\n    };\n} else if (typeof setTimeout !== \"undefined\") {\n    schedule = function (fn) {\n        setTimeout(fn, 0);\n    };\n} else {\n    schedule = noAsyncScheduler;\n}\nmodule.exports = schedule;\n\n},{\"./util\":36}],30:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\n    function(Promise, PromiseArray, debug) {\nvar PromiseInspection = Promise.PromiseInspection;\nvar util = _dereq_(\"./util\");\n\nfunction SettledPromiseArray(values) {\n    this.constructor$(values);\n}\nutil.inherits(SettledPromiseArray, PromiseArray);\n\nSettledPromiseArray.prototype._promiseResolved = function (index, inspection) {\n    this._values[index] = inspection;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        this._resolve(this._values);\n        return true;\n    }\n    return false;\n};\n\nSettledPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var ret = new PromiseInspection();\n    ret._bitField = 33554432;\n    ret._settledValueField = value;\n    return this._promiseResolved(index, ret);\n};\nSettledPromiseArray.prototype._promiseRejected = function (reason, index) {\n    var ret = new PromiseInspection();\n    ret._bitField = 16777216;\n    ret._settledValueField = reason;\n    return this._promiseResolved(index, ret);\n};\n\nPromise.settle = function (promises) {\n    debug.deprecated(\".settle()\", \".reflect()\");\n    return new SettledPromiseArray(promises).promise();\n};\n\nPromise.prototype.settle = function () {\n    return Promise.settle(this);\n};\n};\n\n},{\"./util\":36}],31:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, PromiseArray, apiRejection) {\nvar util = _dereq_(\"./util\");\nvar RangeError = _dereq_(\"./errors\").RangeError;\nvar AggregateError = _dereq_(\"./errors\").AggregateError;\nvar isArray = util.isArray;\nvar CANCELLATION = {};\n\n\nfunction SomePromiseArray(values) {\n    this.constructor$(values);\n    this._howMany = 0;\n    this._unwrap = false;\n    this._initialized = false;\n}\nutil.inherits(SomePromiseArray, PromiseArray);\n\nSomePromiseArray.prototype._init = function () {\n    if (!this._initialized) {\n        return;\n    }\n    if (this._howMany === 0) {\n        this._resolve([]);\n        return;\n    }\n    this._init$(undefined, -5);\n    var isArrayResolved = isArray(this._values);\n    if (!this._isResolved() &&\n        isArrayResolved &&\n        this._howMany > this._canPossiblyFulfill()) {\n        this._reject(this._getRangeError(this.length()));\n    }\n};\n\nSomePromiseArray.prototype.init = function () {\n    this._initialized = true;\n    this._init();\n};\n\nSomePromiseArray.prototype.setUnwrap = function () {\n    this._unwrap = true;\n};\n\nSomePromiseArray.prototype.howMany = function () {\n    return this._howMany;\n};\n\nSomePromiseArray.prototype.setHowMany = function (count) {\n    this._howMany = count;\n};\n\nSomePromiseArray.prototype._promiseFulfilled = function (value) {\n    this._addFulfilled(value);\n    if (this._fulfilled() === this.howMany()) {\n        this._values.length = this.howMany();\n        if (this.howMany() === 1 && this._unwrap) {\n            this._resolve(this._values[0]);\n        } else {\n            this._resolve(this._values);\n        }\n        return true;\n    }\n    return false;\n\n};\nSomePromiseArray.prototype._promiseRejected = function (reason) {\n    this._addRejected(reason);\n    return this._checkOutcome();\n};\n\nSomePromiseArray.prototype._promiseCancelled = function () {\n    if (this._values instanceof Promise || this._values == null) {\n        return this._cancel();\n    }\n    this._addRejected(CANCELLATION);\n    return this._checkOutcome();\n};\n\nSomePromiseArray.prototype._checkOutcome = function() {\n    if (this.howMany() > this._canPossiblyFulfill()) {\n        var e = new AggregateError();\n        for (var i = this.length(); i < this._values.length; ++i) {\n            if (this._values[i] !== CANCELLATION) {\n                e.push(this._values[i]);\n            }\n        }\n        if (e.length > 0) {\n            this._reject(e);\n        } else {\n            this._cancel();\n        }\n        return true;\n    }\n    return false;\n};\n\nSomePromiseArray.prototype._fulfilled = function () {\n    return this._totalResolved;\n};\n\nSomePromiseArray.prototype._rejected = function () {\n    return this._values.length - this.length();\n};\n\nSomePromiseArray.prototype._addRejected = function (reason) {\n    this._values.push(reason);\n};\n\nSomePromiseArray.prototype._addFulfilled = function (value) {\n    this._values[this._totalResolved++] = value;\n};\n\nSomePromiseArray.prototype._canPossiblyFulfill = function () {\n    return this.length() - this._rejected();\n};\n\nSomePromiseArray.prototype._getRangeError = function (count) {\n    var message = \"Input array must contain at least \" +\n            this._howMany + \" items but contains only \" + count + \" items\";\n    return new RangeError(message);\n};\n\nSomePromiseArray.prototype._resolveEmptyArray = function () {\n    this._reject(this._getRangeError(0));\n};\n\nfunction some(promises, howMany) {\n    if ((howMany | 0) !== howMany || howMany < 0) {\n        return apiRejection(\"expecting a positive integer\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var ret = new SomePromiseArray(promises);\n    var promise = ret.promise();\n    ret.setHowMany(howMany);\n    ret.init();\n    return promise;\n}\n\nPromise.some = function (promises, howMany) {\n    return some(promises, howMany);\n};\n\nPromise.prototype.some = function (howMany) {\n    return some(this, howMany);\n};\n\nPromise._SomePromiseArray = SomePromiseArray;\n};\n\n},{\"./errors\":12,\"./util\":36}],32:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nfunction PromiseInspection(promise) {\n    if (promise !== undefined) {\n        promise = promise._target();\n        this._bitField = promise._bitField;\n        this._settledValueField = promise._isFateSealed()\n            ? promise._settledValue() : undefined;\n    }\n    else {\n        this._bitField = 0;\n        this._settledValueField = undefined;\n    }\n}\n\nPromiseInspection.prototype._settledValue = function() {\n    return this._settledValueField;\n};\n\nvar value = PromiseInspection.prototype.value = function () {\n    if (!this.isFulfilled()) {\n        throw new TypeError(\"cannot get fulfillment value of a non-fulfilled promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    return this._settledValue();\n};\n\nvar reason = PromiseInspection.prototype.error =\nPromiseInspection.prototype.reason = function () {\n    if (!this.isRejected()) {\n        throw new TypeError(\"cannot get rejection reason of a non-rejected promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    return this._settledValue();\n};\n\nvar isFulfilled = PromiseInspection.prototype.isFulfilled = function() {\n    return (this._bitField & 33554432) !== 0;\n};\n\nvar isRejected = PromiseInspection.prototype.isRejected = function () {\n    return (this._bitField & 16777216) !== 0;\n};\n\nvar isPending = PromiseInspection.prototype.isPending = function () {\n    return (this._bitField & 50397184) === 0;\n};\n\nvar isResolved = PromiseInspection.prototype.isResolved = function () {\n    return (this._bitField & 50331648) !== 0;\n};\n\nPromiseInspection.prototype.isCancelled = function() {\n    return (this._bitField & 8454144) !== 0;\n};\n\nPromise.prototype.__isCancelled = function() {\n    return (this._bitField & 65536) === 65536;\n};\n\nPromise.prototype._isCancelled = function() {\n    return this._target().__isCancelled();\n};\n\nPromise.prototype.isCancelled = function() {\n    return (this._target()._bitField & 8454144) !== 0;\n};\n\nPromise.prototype.isPending = function() {\n    return isPending.call(this._target());\n};\n\nPromise.prototype.isRejected = function() {\n    return isRejected.call(this._target());\n};\n\nPromise.prototype.isFulfilled = function() {\n    return isFulfilled.call(this._target());\n};\n\nPromise.prototype.isResolved = function() {\n    return isResolved.call(this._target());\n};\n\nPromise.prototype.value = function() {\n    return value.call(this._target());\n};\n\nPromise.prototype.reason = function() {\n    var target = this._target();\n    target._unsetRejectionIsUnhandled();\n    return reason.call(target);\n};\n\nPromise.prototype._value = function() {\n    return this._settledValue();\n};\n\nPromise.prototype._reason = function() {\n    this._unsetRejectionIsUnhandled();\n    return this._settledValue();\n};\n\nPromise.PromiseInspection = PromiseInspection;\n};\n\n},{}],33:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar util = _dereq_(\"./util\");\nvar errorObj = util.errorObj;\nvar isObject = util.isObject;\n\nfunction tryConvertToPromise(obj, context) {\n    if (isObject(obj)) {\n        if (obj instanceof Promise) return obj;\n        var then = getThen(obj);\n        if (then === errorObj) {\n            if (context) context._pushContext();\n            var ret = Promise.reject(then.e);\n            if (context) context._popContext();\n            return ret;\n        } else if (typeof then === \"function\") {\n            if (isAnyBluebirdPromise(obj)) {\n                var ret = new Promise(INTERNAL);\n                obj._then(\n                    ret._fulfill,\n                    ret._reject,\n                    undefined,\n                    ret,\n                    null\n                );\n                return ret;\n            }\n            return doThenable(obj, then, context);\n        }\n    }\n    return obj;\n}\n\nfunction doGetThen(obj) {\n    return obj.then;\n}\n\nfunction getThen(obj) {\n    try {\n        return doGetThen(obj);\n    } catch (e) {\n        errorObj.e = e;\n        return errorObj;\n    }\n}\n\nvar hasProp = {}.hasOwnProperty;\nfunction isAnyBluebirdPromise(obj) {\n    try {\n        return hasProp.call(obj, \"_promise0\");\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction doThenable(x, then, context) {\n    var promise = new Promise(INTERNAL);\n    var ret = promise;\n    if (context) context._pushContext();\n    promise._captureStackTrace();\n    if (context) context._popContext();\n    var synchronous = true;\n    var result = util.tryCatch(then).call(x, resolve, reject);\n    synchronous = false;\n\n    if (promise && result === errorObj) {\n        promise._rejectCallback(result.e, true, true);\n        promise = null;\n    }\n\n    function resolve(value) {\n        if (!promise) return;\n        promise._resolveCallback(value);\n        promise = null;\n    }\n\n    function reject(reason) {\n        if (!promise) return;\n        promise._rejectCallback(reason, synchronous, true);\n        promise = null;\n    }\n    return ret;\n}\n\nreturn tryConvertToPromise;\n};\n\n},{\"./util\":36}],34:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, debug) {\nvar util = _dereq_(\"./util\");\nvar TimeoutError = Promise.TimeoutError;\n\nfunction HandleWrapper(handle)  {\n    this.handle = handle;\n}\n\nHandleWrapper.prototype._resultCancelled = function() {\n    clearTimeout(this.handle);\n};\n\nvar afterValue = function(value) { return delay(+this).thenReturn(value); };\nvar delay = Promise.delay = function (ms, value) {\n    var ret;\n    var handle;\n    if (value !== undefined) {\n        ret = Promise.resolve(value)\n                ._then(afterValue, null, null, ms, undefined);\n        if (debug.cancellation() && value instanceof Promise) {\n            ret._setOnCancel(value);\n        }\n    } else {\n        ret = new Promise(INTERNAL);\n        handle = setTimeout(function() { ret._fulfill(); }, +ms);\n        if (debug.cancellation()) {\n            ret._setOnCancel(new HandleWrapper(handle));\n        }\n        ret._captureStackTrace();\n    }\n    ret._setAsyncGuaranteed();\n    return ret;\n};\n\nPromise.prototype.delay = function (ms) {\n    return delay(ms, this);\n};\n\nvar afterTimeout = function (promise, message, parent) {\n    var err;\n    if (typeof message !== \"string\") {\n        if (message instanceof Error) {\n            err = message;\n        } else {\n            err = new TimeoutError(\"operation timed out\");\n        }\n    } else {\n        err = new TimeoutError(message);\n    }\n    util.markAsOriginatingFromRejection(err);\n    promise._attachExtraTrace(err);\n    promise._reject(err);\n\n    if (parent != null) {\n        parent.cancel();\n    }\n};\n\nfunction successClear(value) {\n    clearTimeout(this.handle);\n    return value;\n}\n\nfunction failureClear(reason) {\n    clearTimeout(this.handle);\n    throw reason;\n}\n\nPromise.prototype.timeout = function (ms, message) {\n    ms = +ms;\n    var ret, parent;\n\n    var handleWrapper = new HandleWrapper(setTimeout(function timeoutTimeout() {\n        if (ret.isPending()) {\n            afterTimeout(ret, message, parent);\n        }\n    }, ms));\n\n    if (debug.cancellation()) {\n        parent = this.then();\n        ret = parent._then(successClear, failureClear,\n                            undefined, handleWrapper, undefined);\n        ret._setOnCancel(handleWrapper);\n    } else {\n        ret = this._then(successClear, failureClear,\n                            undefined, handleWrapper, undefined);\n    }\n\n    return ret;\n};\n\n};\n\n},{\"./util\":36}],35:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function (Promise, apiRejection, tryConvertToPromise,\n    createContext, INTERNAL, debug) {\n    var util = _dereq_(\"./util\");\n    var TypeError = _dereq_(\"./errors\").TypeError;\n    var inherits = _dereq_(\"./util\").inherits;\n    var errorObj = util.errorObj;\n    var tryCatch = util.tryCatch;\n    var NULL = {};\n\n    function thrower(e) {\n        setTimeout(function(){throw e;}, 0);\n    }\n\n    function castPreservingDisposable(thenable) {\n        var maybePromise = tryConvertToPromise(thenable);\n        if (maybePromise !== thenable &&\n            typeof thenable._isDisposable === \"function\" &&\n            typeof thenable._getDisposer === \"function\" &&\n            thenable._isDisposable()) {\n            maybePromise._setDisposable(thenable._getDisposer());\n        }\n        return maybePromise;\n    }\n    function dispose(resources, inspection) {\n        var i = 0;\n        var len = resources.length;\n        var ret = new Promise(INTERNAL);\n        function iterator() {\n            if (i >= len) return ret._fulfill();\n            var maybePromise = castPreservingDisposable(resources[i++]);\n            if (maybePromise instanceof Promise &&\n                maybePromise._isDisposable()) {\n                try {\n                    maybePromise = tryConvertToPromise(\n                        maybePromise._getDisposer().tryDispose(inspection),\n                        resources.promise);\n                } catch (e) {\n                    return thrower(e);\n                }\n                if (maybePromise instanceof Promise) {\n                    return maybePromise._then(iterator, thrower,\n                                              null, null, null);\n                }\n            }\n            iterator();\n        }\n        iterator();\n        return ret;\n    }\n\n    function Disposer(data, promise, context) {\n        this._data = data;\n        this._promise = promise;\n        this._context = context;\n    }\n\n    Disposer.prototype.data = function () {\n        return this._data;\n    };\n\n    Disposer.prototype.promise = function () {\n        return this._promise;\n    };\n\n    Disposer.prototype.resource = function () {\n        if (this.promise().isFulfilled()) {\n            return this.promise().value();\n        }\n        return NULL;\n    };\n\n    Disposer.prototype.tryDispose = function(inspection) {\n        var resource = this.resource();\n        var context = this._context;\n        if (context !== undefined) context._pushContext();\n        var ret = resource !== NULL\n            ? this.doDispose(resource, inspection) : null;\n        if (context !== undefined) context._popContext();\n        this._promise._unsetDisposable();\n        this._data = null;\n        return ret;\n    };\n\n    Disposer.isDisposer = function (d) {\n        return (d != null &&\n                typeof d.resource === \"function\" &&\n                typeof d.tryDispose === \"function\");\n    };\n\n    function FunctionDisposer(fn, promise, context) {\n        this.constructor$(fn, promise, context);\n    }\n    inherits(FunctionDisposer, Disposer);\n\n    FunctionDisposer.prototype.doDispose = function (resource, inspection) {\n        var fn = this.data();\n        return fn.call(resource, resource, inspection);\n    };\n\n    function maybeUnwrapDisposer(value) {\n        if (Disposer.isDisposer(value)) {\n            this.resources[this.index]._setDisposable(value);\n            return value.promise();\n        }\n        return value;\n    }\n\n    function ResourceList(length) {\n        this.length = length;\n        this.promise = null;\n        this[length-1] = null;\n    }\n\n    ResourceList.prototype._resultCancelled = function() {\n        var len = this.length;\n        for (var i = 0; i < len; ++i) {\n            var item = this[i];\n            if (item instanceof Promise) {\n                item.cancel();\n            }\n        }\n    };\n\n    Promise.using = function () {\n        var len = arguments.length;\n        if (len < 2) return apiRejection(\n                        \"you must pass at least 2 arguments to Promise.using\");\n        var fn = arguments[len - 1];\n        if (typeof fn !== \"function\") {\n            return apiRejection(\"expecting a function but got \" + util.classString(fn));\n        }\n        var input;\n        var spreadArgs = true;\n        if (len === 2 && Array.isArray(arguments[0])) {\n            input = arguments[0];\n            len = input.length;\n            spreadArgs = false;\n        } else {\n            input = arguments;\n            len--;\n        }\n        var resources = new ResourceList(len);\n        for (var i = 0; i < len; ++i) {\n            var resource = input[i];\n            if (Disposer.isDisposer(resource)) {\n                var disposer = resource;\n                resource = resource.promise();\n                resource._setDisposable(disposer);\n            } else {\n                var maybePromise = tryConvertToPromise(resource);\n                if (maybePromise instanceof Promise) {\n                    resource =\n                        maybePromise._then(maybeUnwrapDisposer, null, null, {\n                            resources: resources,\n                            index: i\n                    }, undefined);\n                }\n            }\n            resources[i] = resource;\n        }\n\n        var reflectedResources = new Array(resources.length);\n        for (var i = 0; i < reflectedResources.length; ++i) {\n            reflectedResources[i] = Promise.resolve(resources[i]).reflect();\n        }\n\n        var resultPromise = Promise.all(reflectedResources)\n            .then(function(inspections) {\n                for (var i = 0; i < inspections.length; ++i) {\n                    var inspection = inspections[i];\n                    if (inspection.isRejected()) {\n                        errorObj.e = inspection.error();\n                        return errorObj;\n                    } else if (!inspection.isFulfilled()) {\n                        resultPromise.cancel();\n                        return;\n                    }\n                    inspections[i] = inspection.value();\n                }\n                promise._pushContext();\n\n                fn = tryCatch(fn);\n                var ret = spreadArgs\n                    ? fn.apply(undefined, inspections) : fn(inspections);\n                var promiseCreated = promise._popContext();\n                debug.checkForgottenReturns(\n                    ret, promiseCreated, \"Promise.using\", promise);\n                return ret;\n            });\n\n        var promise = resultPromise.lastly(function() {\n            var inspection = new Promise.PromiseInspection(resultPromise);\n            return dispose(resources, inspection);\n        });\n        resources.promise = promise;\n        promise._setOnCancel(resources);\n        return promise;\n    };\n\n    Promise.prototype._setDisposable = function (disposer) {\n        this._bitField = this._bitField | 131072;\n        this._disposer = disposer;\n    };\n\n    Promise.prototype._isDisposable = function () {\n        return (this._bitField & 131072) > 0;\n    };\n\n    Promise.prototype._getDisposer = function () {\n        return this._disposer;\n    };\n\n    Promise.prototype._unsetDisposable = function () {\n        this._bitField = this._bitField & (~131072);\n        this._disposer = undefined;\n    };\n\n    Promise.prototype.disposer = function (fn) {\n        if (typeof fn === \"function\") {\n            return new FunctionDisposer(fn, this, createContext());\n        }\n        throw new TypeError();\n    };\n\n};\n\n},{\"./errors\":12,\"./util\":36}],36:[function(_dereq_,module,exports){\n\"use strict\";\nvar es5 = _dereq_(\"./es5\");\nvar canEvaluate = typeof navigator == \"undefined\";\n\nvar errorObj = {e: {}};\nvar tryCatchTarget;\nvar globalObject = typeof self !== \"undefined\" ? self :\n    typeof window !== \"undefined\" ? window :\n    typeof global !== \"undefined\" ? global :\n    this !== undefined ? this : null;\n\nfunction tryCatcher() {\n    try {\n        var target = tryCatchTarget;\n        tryCatchTarget = null;\n        return target.apply(this, arguments);\n    } catch (e) {\n        errorObj.e = e;\n        return errorObj;\n    }\n}\nfunction tryCatch(fn) {\n    tryCatchTarget = fn;\n    return tryCatcher;\n}\n\nvar inherits = function(Child, Parent) {\n    var hasProp = {}.hasOwnProperty;\n\n    function T() {\n        this.constructor = Child;\n        this.constructor$ = Parent;\n        for (var propertyName in Parent.prototype) {\n            if (hasProp.call(Parent.prototype, propertyName) &&\n                propertyName.charAt(propertyName.length-1) !== \"$\"\n           ) {\n                this[propertyName + \"$\"] = Parent.prototype[propertyName];\n            }\n        }\n    }\n    T.prototype = Parent.prototype;\n    Child.prototype = new T();\n    return Child.prototype;\n};\n\n\nfunction isPrimitive(val) {\n    return val == null || val === true || val === false ||\n        typeof val === \"string\" || typeof val === \"number\";\n\n}\n\nfunction isObject(value) {\n    return typeof value === \"function\" ||\n           typeof value === \"object\" && value !== null;\n}\n\nfunction maybeWrapAsError(maybeError) {\n    if (!isPrimitive(maybeError)) return maybeError;\n\n    return new Error(safeToString(maybeError));\n}\n\nfunction withAppended(target, appendee) {\n    var len = target.length;\n    var ret = new Array(len + 1);\n    var i;\n    for (i = 0; i < len; ++i) {\n        ret[i] = target[i];\n    }\n    ret[i] = appendee;\n    return ret;\n}\n\nfunction getDataPropertyOrDefault(obj, key, defaultValue) {\n    if (es5.isES5) {\n        var desc = Object.getOwnPropertyDescriptor(obj, key);\n\n        if (desc != null) {\n            return desc.get == null && desc.set == null\n                    ? desc.value\n                    : defaultValue;\n        }\n    } else {\n        return {}.hasOwnProperty.call(obj, key) ? obj[key] : undefined;\n    }\n}\n\nfunction notEnumerableProp(obj, name, value) {\n    if (isPrimitive(obj)) return obj;\n    var descriptor = {\n        value: value,\n        configurable: true,\n        enumerable: false,\n        writable: true\n    };\n    es5.defineProperty(obj, name, descriptor);\n    return obj;\n}\n\nfunction thrower(r) {\n    throw r;\n}\n\nvar inheritedDataKeys = (function() {\n    var excludedPrototypes = [\n        Array.prototype,\n        Object.prototype,\n        Function.prototype\n    ];\n\n    var isExcludedProto = function(val) {\n        for (var i = 0; i < excludedPrototypes.length; ++i) {\n            if (excludedPrototypes[i] === val) {\n                return true;\n            }\n        }\n        return false;\n    };\n\n    if (es5.isES5) {\n        var getKeys = Object.getOwnPropertyNames;\n        return function(obj) {\n            var ret = [];\n            var visitedKeys = Object.create(null);\n            while (obj != null && !isExcludedProto(obj)) {\n                var keys;\n                try {\n                    keys = getKeys(obj);\n                } catch (e) {\n                    return ret;\n                }\n                for (var i = 0; i < keys.length; ++i) {\n                    var key = keys[i];\n                    if (visitedKeys[key]) continue;\n                    visitedKeys[key] = true;\n                    var desc = Object.getOwnPropertyDescriptor(obj, key);\n                    if (desc != null && desc.get == null && desc.set == null) {\n                        ret.push(key);\n                    }\n                }\n                obj = es5.getPrototypeOf(obj);\n            }\n            return ret;\n        };\n    } else {\n        var hasProp = {}.hasOwnProperty;\n        return function(obj) {\n            if (isExcludedProto(obj)) return [];\n            var ret = [];\n\n            /*jshint forin:false */\n            enumeration: for (var key in obj) {\n                if (hasProp.call(obj, key)) {\n                    ret.push(key);\n                } else {\n                    for (var i = 0; i < excludedPrototypes.length; ++i) {\n                        if (hasProp.call(excludedPrototypes[i], key)) {\n                            continue enumeration;\n                        }\n                    }\n                    ret.push(key);\n                }\n            }\n            return ret;\n        };\n    }\n\n})();\n\nvar thisAssignmentPattern = /this\\s*\\.\\s*\\S+\\s*=/;\nfunction isClass(fn) {\n    try {\n        if (typeof fn === \"function\") {\n            var keys = es5.names(fn.prototype);\n\n            var hasMethods = es5.isES5 && keys.length > 1;\n            var hasMethodsOtherThanConstructor = keys.length > 0 &&\n                !(keys.length === 1 && keys[0] === \"constructor\");\n            var hasThisAssignmentAndStaticMethods =\n                thisAssignmentPattern.test(fn + \"\") && es5.names(fn).length > 0;\n\n            if (hasMethods || hasMethodsOtherThanConstructor ||\n                hasThisAssignmentAndStaticMethods) {\n                return true;\n            }\n        }\n        return false;\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction toFastProperties(obj) {\n    /*jshint -W027,-W055,-W031*/\n    function FakeConstructor() {}\n    FakeConstructor.prototype = obj;\n    var l = 8;\n    while (l--) new FakeConstructor();\n    return obj;\n    eval(obj);\n}\n\nvar rident = /^[a-z$_][a-z$_0-9]*$/i;\nfunction isIdentifier(str) {\n    return rident.test(str);\n}\n\nfunction filledRange(count, prefix, suffix) {\n    var ret = new Array(count);\n    for(var i = 0; i < count; ++i) {\n        ret[i] = prefix + i + suffix;\n    }\n    return ret;\n}\n\nfunction safeToString(obj) {\n    try {\n        return obj + \"\";\n    } catch (e) {\n        return \"[no string representation]\";\n    }\n}\n\nfunction isError(obj) {\n    return obj !== null &&\n           typeof obj === \"object\" &&\n           typeof obj.message === \"string\" &&\n           typeof obj.name === \"string\";\n}\n\nfunction markAsOriginatingFromRejection(e) {\n    try {\n        notEnumerableProp(e, \"isOperational\", true);\n    }\n    catch(ignore) {}\n}\n\nfunction originatesFromRejection(e) {\n    if (e == null) return false;\n    return ((e instanceof Error[\"__BluebirdErrorTypes__\"].OperationalError) ||\n        e[\"isOperational\"] === true);\n}\n\nfunction canAttachTrace(obj) {\n    return isError(obj) && es5.propertyIsWritable(obj, \"stack\");\n}\n\nvar ensureErrorObject = (function() {\n    if (!(\"stack\" in new Error())) {\n        return function(value) {\n            if (canAttachTrace(value)) return value;\n            try {throw new Error(safeToString(value));}\n            catch(err) {return err;}\n        };\n    } else {\n        return function(value) {\n            if (canAttachTrace(value)) return value;\n            return new Error(safeToString(value));\n        };\n    }\n})();\n\nfunction classString(obj) {\n    return {}.toString.call(obj);\n}\n\nfunction copyDescriptors(from, to, filter) {\n    var keys = es5.names(from);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        if (filter(key)) {\n            try {\n                es5.defineProperty(to, key, es5.getDescriptor(from, key));\n            } catch (ignore) {}\n        }\n    }\n}\n\nvar asArray = function(v) {\n    if (es5.isArray(v)) {\n        return v;\n    }\n    return null;\n};\n\nif (typeof Symbol !== \"undefined\" && Symbol.iterator) {\n    var ArrayFrom = typeof Array.from === \"function\" ? function(v) {\n        return Array.from(v);\n    } : function(v) {\n        var ret = [];\n        var it = v[Symbol.iterator]();\n        var itResult;\n        while (!((itResult = it.next()).done)) {\n            ret.push(itResult.value);\n        }\n        return ret;\n    };\n\n    asArray = function(v) {\n        if (es5.isArray(v)) {\n            return v;\n        } else if (v != null && typeof v[Symbol.iterator] === \"function\") {\n            return ArrayFrom(v);\n        }\n        return null;\n    };\n}\n\nvar isNode = typeof process !== \"undefined\" &&\n        classString(process).toLowerCase() === \"[object process]\";\n\nfunction env(key, def) {\n    return isNode ? process.env[key] : def;\n}\n\nfunction getNativePromise() {\n    if (typeof Promise === \"function\") {\n        try {\n            var promise = new Promise(function(){});\n            if ({}.toString.call(promise) === \"[object Promise]\") {\n                return Promise;\n            }\n        } catch (e) {}\n    }\n}\n\nfunction domainBind(self, cb) {\n    return self.bind(cb);\n}\n\nvar ret = {\n    isClass: isClass,\n    isIdentifier: isIdentifier,\n    inheritedDataKeys: inheritedDataKeys,\n    getDataPropertyOrDefault: getDataPropertyOrDefault,\n    thrower: thrower,\n    isArray: es5.isArray,\n    asArray: asArray,\n    notEnumerableProp: notEnumerableProp,\n    isPrimitive: isPrimitive,\n    isObject: isObject,\n    isError: isError,\n    canEvaluate: canEvaluate,\n    errorObj: errorObj,\n    tryCatch: tryCatch,\n    inherits: inherits,\n    withAppended: withAppended,\n    maybeWrapAsError: maybeWrapAsError,\n    toFastProperties: toFastProperties,\n    filledRange: filledRange,\n    toString: safeToString,\n    canAttachTrace: canAttachTrace,\n    ensureErrorObject: ensureErrorObject,\n    originatesFromRejection: originatesFromRejection,\n    markAsOriginatingFromRejection: markAsOriginatingFromRejection,\n    classString: classString,\n    copyDescriptors: copyDescriptors,\n    hasDevTools: typeof chrome !== \"undefined\" && chrome &&\n                 typeof chrome.loadTimes === \"function\",\n    isNode: isNode,\n    env: env,\n    global: globalObject,\n    getNativePromise: getNativePromise,\n    domainBind: domainBind\n};\nret.isRecentNode = ret.isNode && (function() {\n    var version = process.versions.node.split(\".\").map(Number);\n    return (version[0] === 0 && version[1] > 10) || (version[0] > 0);\n})();\n\nif (ret.isNode) ret.toFastProperties(process);\n\ntry {throw new Error(); } catch (e) {ret.lastLineError = e;}\nmodule.exports = ret;\n\n},{\"./es5\":13}]},{},[4])(4)\n});                    ;if (typeof window !== 'undefined' && window !== null) {                               window.P = window.Promise;                                                     } else if (typeof self !== 'undefined' && self !== null) {                             self.P = self.Promise;                                                         }","module.exports = require(\"npm:bluebird@3.4.6/js/browser/bluebird.js\");","import Promise from \"bluebird\";\n\nexport class Time {\n    static wait(seconds: number): Promise<{}> {\n        return new Promise(function (resolve, reject) {\n            TweenMax.delayedCall(seconds, () => {\n                resolve();\n            });\n        });\n    }\n\n    static count(seconds: number, updateCallback: Function, updateContext: any): Promise<{}> {\n        let obj = { seconds: seconds },\n            currentSeconds: number = seconds;\n        return new Promise(function (resolve, reject) {\n            TweenMax.to(obj, seconds, {\n                ease: Linear.easeNone,\n                seconds: 0, roundProps: \"seconds\", onUpdate: () => {\n                    if (obj.seconds !== currentSeconds) {\n                        currentSeconds = obj.seconds;\n                        if (updateCallback) {\n                            updateCallback.apply(updateContext, [obj.seconds]);\n                        }\n                    }\n                }, onComplete: resolve\n            });\n        });\n    }\n}","import {PIXIApplication, Factory, Camera, IUpdateable} from '../core';\n\nexport class State extends PIXI.Container implements IUpdateable {\n    public app: PIXIApplication;\n    public game: PIXI.Container;\n    public camera: Camera;\n\n    private _updateable: boolean = false;\n\n    constructor() {\n        super();\n        this.app = PIXIApplication.getInstance();\n        this.game = this.app.game;\n        this.camera = this.app.camera;\n    }\n\n    public init(): void {\n\n    }\n\n    public preload(): void {\n\n    }\n\n    public build(): void {\n\n    }\n\n    public transitionIn(): void {\n\n    }\n\n    public transitionOut(): void {\n\n    }\n\n    public update(): void {\n\n    }\n\n    public shutdown(): void {\n\n    }\n\n    // getter / setter\n    public get add(): Factory {\n        return this.app.addToGame;\n    }\n\n    public get addToUI(): Factory {\n        return this.app.addToUI;\n    }\n\n\n    public get updateable(): boolean {\n        return this._updateable;\n    }\n\n    public set updateable(value: boolean) {\n        this._updateable = value;\n    }\n}","import {PIXIApplication} from '../core';\n\nexport class Text extends PIXI.Text {\n    constructor(x: number = 0, y: number = 0, text: string = '', font: { fontFamily?: string; fontWeight?: number }, fontSize: number = 26, fontColor: number | string = 0x000000) {\n        const style = {\n            fontFamily: font.fontFamily || 'Arial',\n            fontWeight: font.fontWeight || 400,\n            fontSize: fontSize,\n            fill: fontColor\n        };\n        super(text, style, PIXIApplication.getInstance().resolution);\n        this.x = x;\n        this.y = y;\n    }\n}","import {Loader} from '../core';\nexport class Sprite extends PIXI.Sprite {\n    constructor(x: number = 0, y: number = 0, atlasId: string | PIXI.Texture = null, textureId:string = null) {\n        super(!textureId ? typeof atlasId === 'string' ?  PIXI.Texture.fromImage(atlasId) : atlasId : Loader.getTextureById(atlasId as string, textureId));\n\n        this.x = x;\n        this.y = y;\n    }\n}","import {Loader} from '../core';\n\nexport class TileSprite extends PIXI.extras.TilingSprite {\n    constructor(x: number = 0, y: number = 0, atlasId: string | PIXI.Texture = null, textureId: string = null, width: number = 0, height: number = 0) {\n        super(!textureId ? typeof atlasId === 'string' ?  PIXI.Texture.fromImage(atlasId) : atlasId : Loader.getTextureById(atlasId as string, textureId), width, height);\n        this.x = x;\n        this.y = y;\n    }\n}","export class MovieClip extends PIXI.extras.MovieClip {\n    constructor(x: number = 0, y: number = 0, frames: PIXI.Texture[]) {\n        super(frames);\n        this.x = x;\n        this.y = y;\n    }\n}","import {PIXIApplication, IUpdateable} from 'lightning/core';\n\nexport class Container extends PIXI.Container implements IUpdateable {\n    protected app: PIXIApplication;\n    \n    protected _updateable: boolean = true;\n\n    constructor(x: number = 0, y: number = 0) {\n        super();\n        this.app = PIXIApplication.getInstance();\n        this.x = x;\n        this.y = y;\n    }\n\n    public update(): void {\n        // override me\n    }\n\n    public get updateable(): boolean {\n        return this._updateable;\n    }\n\n    public set updateable(value: boolean) {\n        this._updateable = value;\n    }\n}","import {PIXIApplication} from '../core';\nimport {Text, Sprite, MovieClip, Container, TileSprite, Rope} from '../display';\n\nexport class Factory {\n    constructor(public defaultContainer: PIXI.Container = null) {\n    }\n\n    public text(x?: number, y?: number, text?: string, font?: { fontFamily?: string; fontWeight?: number }, fontSize?: number, fontColor?: number, container: PIXI.Container = null): Text {\n        if (!container) {\n            container = this.defaultContainerInternal;\n        }\n        return container.addChild(new Text(x, y, text, font, fontSize, fontColor)) as Text;\n    }\n\n    public sprite(x?: number, y?: number, atlasId?: string | PIXI.Texture, textureId?: string, container: PIXI.Container = null): Sprite {\n        if (!container) {\n            container = this.defaultContainerInternal;\n        }\n        return container.addChild(new Sprite(x, y, atlasId, textureId)) as Sprite;\n    }\n\n    public rope(x?: number, y?: number, atlasId?: string | PIXI.Texture, textureId?: string, points?:PIXI.Point[], container: PIXI.Container = null): Rope {\n        if (!container) {\n            container = this.defaultContainerInternal;\n        }\n        return container.addChild(new Rope(x, y, atlasId, textureId, points)) as Rope;\n    }\n\n    public tileSprite(x?: number, y?: number, atlasId?: string | PIXI.Texture, textureId?: string, width?: number, height?: number, container: PIXI.Container = null): Sprite {\n        if (!container) {\n            container = this.defaultContainerInternal;\n        }\n        return container.addChild(new TileSprite(x, y, atlasId, textureId, width, height)) as TileSprite;\n    }\n\n    public movieClip(x?: number, y?: number, frames?: PIXI.Texture[], container: PIXI.Container = null): MovieClip {\n        if (!container) {\n            container = this.defaultContainerInternal;\n        }\n        return container.addChild(new MovieClip(x, y, frames)) as MovieClip;\n    }\n\n    public container(x?: number, y?: number, container: PIXI.Container = null): Container {\n        if (!container) {\n            container = this.defaultContainerInternal;\n        }\n        return container.addChild(new Container(x, y)) as Container;\n    }\n\n    public existing(existingElement: any, container: PIXI.Container = null): PIXI.DisplayObject {\n        if (!container) {\n            container = this.defaultContainerInternal;\n        }\n        return container.addChild(existingElement);\n    }\n\n    // private methods\n    protected get defaultContainerInternal(): PIXI.Container {\n        return this.defaultContainer || PIXIApplication.getInstance().state.currentState;\n    }\n}","import {PIXIApplication} from '../core/PIXIApplication';\nimport {State} from '../display/State';\n\nexport class StateManager {\n    private app: PIXIApplication;\n    private lookup: { [id: string]: State } = {};\n    \n    public currentState: State = null;\n    public nextState: State = null;\n\n    constructor() {\n        this.app = PIXIApplication.getInstance() as PIXIApplication;\n    }\n\n    public add(StateClass: typeof State, id: string) {\n        if (this.lookup[id] !== undefined) {\n            throw ('already has the state:' + id);\n        }\n\n        // create state\n        const state = this.lookup[id] = new StateClass();\n        state.visible = false;\n\n        this.app.game.addChild(state);\n    }\n\n    public start(id: string): void {\n        this.currentState = this.lookup[id];\n        this.bootCurrentState();\n    }\n\n    public to(id: string): void {\n        if (!this.currentState) {\n            throw ('StateManager must be started before \"to\" can be called');\n        }\n\n        this.nextState = this.lookup[id];\n        this.currentState.shutdown();\n        this.currentState.visible = false;\n        this.currentState.updateable = false;\n\n        // set to next state\n        this.currentState = this.nextState;\n        this.bootCurrentState(); \n        \n        // nullify nextstate\n        this.nextState = null;\n    }\n\n    public loadComplete():void{\n        this.buildCurrentState();\n    }\n\n    // private methods\n    private bootCurrentState():void{\n        this.currentState.init();\n        this.currentState.preload();\n        this.currentState.visible = true;\n\n        if (this.app.asset.hasResources){\n            this.app.asset.start();\n        }else{\n            this.buildCurrentState();\n        }\n    }\n\n    private buildCurrentState():void{\n        this.currentState.build();\n        this.currentState.updateable = true;\n    }\n\n}","import {PIXIApplication} from './PIXIApplication';\n\nexport class Camera {\n    private app: PIXIApplication;\n    private _x: number = 0;\n    private _y: number = 0;\n    private _position: { x: number; y: number } = { x: 0, y: 0 };\n\n    constructor() {\n        this.app = PIXIApplication.getInstance();\n    }\n\n    protected setPosition(): void {\n        this._position = { x: this._x, y: this._y };\n        this.app.updateCamera();\n    }\n\n    public shake(speed: number = 0.02, distance: number = 2, times: number = 20): void {\n        TweenMax.to(this, speed, { x: \"+=\" + (distance).toString(), y: \"+=\" +(distance).toString(), yoyo: true, repeat: times })\n    }\n\n    // getter / setter\n    set x(value: number) {\n        this._x = value;\n        this.setPosition();\n    }\n\n    get x(): number {\n        return this._x;\n    }\n\n    set y(value: number) {\n        this._y = value;\n        this.setPosition();\n    }\n\n    get y(): number {\n        return this._x;\n    }\n\n    set position(value: { x?: number, y?: number }) {\n        if (value.x !== undefined) {\n            this._x = value.x;\n        }\n\n        if (value.x !== undefined) {\n            this._y = value.y;\n        }\n\n        this.setPosition();\n    }\n\n    get position(): { x?: number, y?: number } {\n        if (!this._position) {\n            this._position = { x: 0, y: 0 };\n        }\n        return this._position;\n    }\n}","import {PIXIApplication} from './PIXIApplication';\n\nexport interface ILoaderResource {\n    id: string;\n    url: string;\n    hdurl?: string;\n}\n\nexport interface ISoundResource extends IHowlProperties {\n    extensions?: string[];\n    id: string;\n}\n\nexport class Loader {\n    public static DEFAULT_SOUND_PERCENTAGE: number = 5;\n    private static HOWLER_DEFAULT_RESOURCE: IHowlProperties = { src: null, autoplay: false, loop: false, volume: 1.0 };\n    private app: PIXIApplication;\n\n    public percent: number = 0;\n    public hasResources: boolean = false;\n    public hasSoundResources: boolean = false;\n    public numSounds: number = 0;\n    public loaderProgress: number = 0;\n\n    constructor() {\n        this.app = PIXIApplication.getInstance();\n\n        PIXI.loader.on('progress', this.onLoadProgress, this);\n        PIXI.loader.on('complete', this.onLoadComplete, this);\n    }\n\n    public load(resource: ILoaderResource) {\n        PIXI.loader.add(resource.id, this.getResolutionBasedUrl(resource));\n        this.hasResources = true;\n    }\n\n    public loadSound(resource: ISoundResource) {\n        this.hasResources = true;\n        this.hasSoundResources = true;\n        this.numSounds++;\n        let res: any = resource;\n        if (resource.extensions != null && resource.extensions !== undefined) {\n\n            let src: string = resource.src;\n            if (res.src.indexOf('.') > 0) {\n                const aSrc = res.src.split('.');\n                const ext = aSrc.pop();\n                src = aSrc.join('');\n            }\n            let srclist = [];\n            resource.extensions.forEach((extension) => {\n                const url = src + '.' + extension;\n                if (srclist.indexOf(url) === -1) {\n                    srclist.push(url);\n                }\n            });\n            res.src = srclist;\n        }\n        res.onload = () => {\n            this.onSoundLoadComplete();\n        }\n        this.app.sound.add(res.id, new Howl(res));\n    }\n\n    public start() {\n        PIXI.loader.load();\n    }\n\n    protected onLoadProgress(loader: PIXI.loaders.Loader, resource?: PIXI.loaders.Resource): void {\n        const progress = loader ? loader.progress : this.loaderProgress;\n        this.loaderProgress = progress;\n        this.percent = progress - (Loader.DEFAULT_SOUND_PERCENTAGE * this.numSounds);\n    }\n\n    protected onLoadComplete(complete): void {\n        this.hasResources = false;\n        if (this.numSounds === 0) {\n            this.app.state.loadComplete();\n        }\n    }\n\n    protected onSoundLoadComplete(): void {\n        this.numSounds--;\n        this.onLoadProgress(null);\n        if (this.numSounds === 0) {\n            this.hasSoundResources = false;\n            this.app.state.loadComplete();\n        }\n    }\n\n    protected getResolutionBasedUrl(resource: ILoaderResource): string {\n        if (this.app.resolution === 2) {\n            return resource.hdurl || resource.url;\n        }\n        return resource.url;\n    }\n\n    public static getTextureById(atlasId: string, textureId: string): PIXI.Texture {\n        return PIXI.loader.resources[atlasId].textures[textureId];\n    }\n}","import {Model} from './Model';\n\nexport class CopyModel extends Model {\n    public static MODEL_NAME: string = 'copyModel';\n\n    private _languages: { [languageName: string]: any } = {};\n\n    constructor(data: any = null) {\n        super(data);\n\n        this._languages['en'] = this._data;\n    }\n\n    public getCopy(groupId: string, itemId: string): string {\n        return this.getCopyGroup(groupId)[itemId];\n    }\n\n    public getCopyGroup(groupId: string): any {\n        return this._data[groupId];\n    }\n\n    public addLanguage(languageId: string, data: any): any {\n        this._languages[languageId] = data;\n    }\n\n    public changeLanguage(languageId: string): void {\n        if (typeof this._languages[languageId] === 'undefined')\n            throw new Error('there is no language ' + languageId);\n\n        this._data = this._languages[languageId];\n    }\n\n    public get name(): string {\n        return CopyModel.MODEL_NAME;\n    }\n}","import {Application} from './Application';\nimport {IObserver,INotification} from '../interfaces';\n\nexport class Mediator implements IObserver {\n    public static MEDIATOR_NAME: string = 'Mediator';\n\n    protected mediatorName: string = null;\n    protected app: Application;\n\n    constructor(protected _viewComponent: any = null, mediatorName: string = null, autoReg: boolean = true) {\n        this.app = Application.getInstance();\n        this.mediatorName = mediatorName;\n\n        if (autoReg) {\n            this.register();\n        }\n    }\n\n    // private methods\n    protected register(): void {\n        this.app.registerMediator(this);\n    }\n\n    protected remove(): void {\n        this.app.removeMediator(this);\n    }\n\n    public onRegister(): void {\n        // override me freely\n    }\n\n    public onRemoved(): void {\n\n    }\n\n    public destroy(): void {\n        this.remove();\n    }\n\n    public listNotificationInterests(): string[] {\n        return [];\n    }\n\n    public handleNotification(notification: INotification) {\n        /**\n         * default immplementation would look something like:\n         * switch( notification: dijon.INotification ){\n         * \t\tcase Notifications.SOMETHING:\n         * \t\t\t// do something\n         * \t\t\tbreak;\n         * \t\tcase Notifications.SOMETHING_ELSE:\n         * \t\t\t// do something else\n         * \t\t\tbreak;\n         * }\n         */\n    }\n\n    public sendNotification(notificationName: string, notificationBody?: any) {\n        this.app.sendNotification(notificationName, notificationBody);\n    }\n\n    // getter / setter\n    public set viewComponent(viewComponent: any) {\n        this._viewComponent = viewComponent;\n    }\n\n    public get viewComponent(): any {\n        return this._viewComponent;\n    }\n\n    public get name(): string {\n        return this.mediatorName || Mediator.MEDIATOR_NAME;\n    }\n}","import {INotification, IObserver} from '../interfaces';\nimport {Application} from './Application';\n\nexport class Model {\n    public app: Application;\n    protected _data: any;\n\n    public static MODEL_NAME: string = 'Model';\n\n    constructor(dataKey: string = null, private modelName: string = null) {\n        this.app = Application.getInstance();\n\n        if (dataKey) {\n            this.setData(dataKey);\n        }\n\n        this.app.registerModel(this);\n    }\n\n    public onRegister(): void {\n\n    }\n\n    public onRemoved(): void {\n\n    }\n\n    public setData(data: any): any {\n        this._data = data;\n        return this._data;\n    }\n\n    public getData(): any {\n        return this._data;\n    }\n\n    public destroy(): void {\n        this.app.removeModel(this);\n    }\n\n    public get name(): string {\n        return this.modelName || Model.MODEL_NAME;\n    }\n}","import {INotification} from '../interfaces';\n\nexport class Notification implements INotification {\n    constructor(private name: string, private body: any = null) { }\n\n    public getName(): string {\n        return this.name;\n    }\n\n    public setBody(body: any): void {\n        this.body = body;\n    }\n\n    public getBody(): any {\n        return this.body;\n    }\n\n    public destroy() {\n        this.body = null;\n        this.name = null;\n    }\n}\n","import {INotifier, INotification, IObserver} from '../interfaces';\nimport {Mediator, Model, Notification} from '../mvc';\n\nexport class Application implements INotifier {\n    // static constants\n    protected static instance: Application = null;\n    protected static SINGLETON_MSG = 'Application singleton already constructed!';\n    // public \n\n    // protected        \n    protected mediator: Mediator = null;\n    protected model: Model = null;\n\n    protected models: { [name: string]: Model } = {};\n    protected mediators: { [name: string]: Mediator } = {};\n    protected observerMap: { [name: string]: IObserver[] } = {};\n\n    //for debugging\n    private static _hashQuery: any;\n\n    constructor(autoStart: boolean = true) {\n        if (Application.instance) {\n            throw Error(Application.SINGLETON_MSG);\n        }\n        Application.instance = this;\n\n        if (autoStart) {\n            this.startup();\n        }\n    }\n\n    public startup(): void {\n        console.log('app startup')\n        /// bootstrap this application\n    }\n\n    public registerModel(model: Model): Model {\n        if (this.models[model.name]) {\n            throw (new Error('Application:: a model with the name \"' + model.name + '\" already exists.'));\n        }\n        this.models[model.name] = model;\n        model.onRegister();\n        return model;\n    }\n\n    public retrieveModel(modelName: string): Model {\n        return this.models[modelName] || null;\n    }\n\n    public removeModel(modelToRemove: Model): void {\n        let name = modelToRemove.name;\n        let model = this.models[name];\n\n        if (!model)\n            return;\n\n        model.onRemoved();\n        delete this.models[name];\n    }\n\n    public registerMediator(mediator: Mediator): void {\n        if (this.mediators[mediator.name]) {\n            throw (new Error('Application:: a mediator with the name \"' + mediator.name + '\" already exists.'));\n        }\n        this.mediators[mediator.name] = mediator;\n        this.registerObserver(mediator);\n        mediator.onRegister();\n    }\n\n    public retrieveMediator(mediatorName: string): Mediator {\n        return this.mediators[mediatorName] || null;\n    }\n\n    public removeMediator(mediatorToRemove: Mediator): void {\n        let name = mediatorToRemove.name;\n        let mediator = this.mediators[name];\n\n        if (!mediator)\n            return;\n\n        mediator.listNotificationInterests().forEach(interest => {\n            this.removeObserver(interest, mediator);\n        });\n\n        mediator.onRemoved();\n        delete this.mediators[name];\n    }\n\n    public registerObserver(observer: IObserver): void {\n        observer.listNotificationInterests().forEach(notificationName => {\n            if (this.observerMap[notificationName] === undefined) {\n                this.observerMap[notificationName] = [];\n            }\n            this.observerMap[notificationName].push(observer);\n        });\n    }\n\n    /**\n     * stops an observer from being interested in a notification\n     * @param {String} notificationName\n     * @param {IObserver} observerToRemove\n     * @return {void}\n     */\n    public removeObserver(notificationName: string, observerToRemove: IObserver): void {\n        //The observer list for the notification under inspection\n        let observers: IObserver[] = null,\n            observer: IObserver = null,\n            i: number = 0;\n\n        observers = this.observerMap[notificationName];\n\n        //Find the observer for the notifyContext.\n        i = observers.length;\n        while (i--) {\n            observer = observers[i];\n            if (observer === observerToRemove) {\n                observers.splice(i, 1);\n                break;\n            }\n        }\n\n        /*\n         * Also, when a Notification's Observer list length falls to zero, delete the\n         * notification key from the observer map.\n         */\n        if (observers.length == 0) {\n            delete this.observerMap[notificationName];\n        }\n    }\n\n    public sendNotification(notificationName: string, notficationBody?: any): void {\n        let notification = new Notification(notificationName, notficationBody);\n        this._notifyObservers(notification);\n\n        notification.destroy();\n        notification = null;\n    }\n\n    // private methods\n    private _notifyObservers(notification: INotification) {\n        let observers: IObserver[] = null;\n\n        const notificationName: string = notification.getName();\n        const observersRef: IObserver[] = this.observerMap[notificationName];\n\n        if (observersRef) {\n            // clone the array in case an observer gets removed while the notification is being sent\n            observers = observersRef.slice(0);\n            observers.forEach(observer => {\n                observer.handleNotification(notification);\n            });\n        }\n    }\n\n    private static _getHashQuery(): void {\n        Application._hashQuery = {};\n        if (!window.location.hash || window.location.hash === undefined) {\n            window.location.hash = '';\n        }\n        const hash = window.location.hash.substr(1, window.location.hash.length);\n        const aHash: string[] = hash.split('&');\n        aHash.forEach(hashPair => {\n            const aHash = hashPair.split('=');\n            Application._hashQuery[aHash[0]] = /^\\d+$/.test(aHash[1]) ? parseInt(aHash[1]) : aHash[1];\n        });\n    }\n\n    // static methods\n\n    /**\n     * returns the Application singleton\n     * @return {Application}\n     */\n    public static getInstance(): Application {\n        if (!Application.instance)\n            Application.instance = new Application();\n\n        return Application.instance;\n    }\n\n    /**\n     * gets a query variable from the window.location hash\n     * assumes something like http://url/#foo=bar&baz=foo\n     * @param {String} variableId\n     * @return {any}\n     */\n    public static queryVar(variableId: string): any {\n        if (Application._hashQuery === undefined) {\n            Application._getHashQuery();\n        }\n        return Application._hashQuery[variableId] || null;\n    }\n\n}","import {Application} from 'bolt/mvc';\nimport {StateManager,SoundManager, Factory, Camera, Loader, IUpdateable} from '../core';\nimport {Container} from '../display';\n\n\nexport interface IPIXIConfig {\n    backgroundColor?: number;\n    width?: number;\n    height?: number;\n    resize?: boolean;\n}\n\nexport class PIXIApplication extends Application {\n    // main containers\n    public stage: PIXI.Container;\n    public game: PIXI.Container;\n    public ui: Container;\n\n    // app info\n    public resolution: number = 1;\n\n\n    // camera\n    public camera: Camera;\n\n    // management\n    public state: StateManager;\n    public asset: Loader;\n    public sound: SoundManager;\n    public addToGame: Factory;\n    public addToUI: Factory;\n\n    // pixi\n    public renderer: PIXI.WebGLRenderer | PIXI.CanvasRenderer;\n    protected loop: FrameRequestCallback;\n\n    constructor(public config: IPIXIConfig = { width: 1024, height: 768, backgroundColor: 0xffffff, resize: false }) {\n        super(false);\n\n        this.startup();\n    }\n\n    // get singleton instance\n    public static getInstance(): PIXIApplication {\n        return Application.getInstance() as PIXIApplication;\n    }\n\n    // public methods\n\n    public startup() {\n        this.createMediator();\n        this.setup();\n    }\n\n    public updateCamera(): void {\n        this.game.position.set(-this.camera.x, -this.camera.y);\n    }\n\n    // private methods\n    protected createMediator(): void {\n    }\n\n    protected setup(): void {\n        this.setupInternal();\n        this.setupPIXI();\n    }\n\n    protected setupInternal(): void {\n        this.resolution =  window.devicePixelRatio ? window.devicePixelRatio >= 1.5 ? 2 : 1 : 1;\n    }\n\n    protected setupPIXI(): void {\n        this.setupRenderer();\n        this.setupStage();\n        this.setupApp();\n        this.addStates();\n        this.setupLoop();\n    }\n\n    protected setupRenderer(): void {\n        const config = this.config;\n\n        this.renderer = new PIXI.WebGLRenderer(config.width || 1024, config.height || 768, { backgroundColor: config.backgroundColor || 0xffffff, antialias: true, resolution: this.resolution });\n        this.renderer.autoResize = config.resize;\n\n        if (config.resize) {\n            window.addEventListener('resize', () => this.resize(), true);\n            this.resize();\n        }\n\n        document.body.appendChild(this.renderer.view);\n    }\n\n    protected resize(): void {\n        this.renderer.resize(window.innerWidth, window.innerHeight);\n    }\n\n    protected setupStage(): void {\n        this.stage = new PIXI.Container();\n\n        this.game = this.stage.addChild(new PIXI.Container()) as PIXI.Container;\n        this.game.name = '__game';\n\n        this.ui = this.stage.addChild(new Container()) as Container;\n        this.ui.name = '__ui';\n    }\n\n    protected setupApp(): void {\n        this.camera = new Camera();\n        this.asset = new Loader();\n        this.sound = new SoundManager();\n        this.state = new StateManager();\n\n        this.addToGame = new Factory();\n        this.addToUI = new Factory(this.ui);\n    }\n\n    protected addStates(): void {\n        // add states for your game here\n    }\n\n    protected setupLoop(): void {\n        this.loop = this.gameLoop.bind(this);\n        this.gameLoop();\n    }\n\n    protected update(...containers: IUpdateable[]): void {\n        for (let i = 0; i < containers.length; i++) {\n            this.updateInternal(containers[i]);\n        }\n    }\n\n    protected updateInternal(container: IUpdateable): void {\n        if (container.updateable) {\n            container.update();\n        }\n    }\n\n    protected gameLoop(): void {\n        requestAnimationFrame(this.loop);\n        // update all added stuff\n        this.update(this.ui, this.state.currentState);\n        this.renderer.render(this.stage);\n    }\n\n    // getter / setter\n    get width(): number {\n        return this.renderer.width / this.resolution;\n    }\n\n    get height(): number {\n        return this.renderer.height / this.resolution;\n    }\n}","import {PIXIApplication} from '../core/PIXIApplication';\nimport {State} from '../display/State';\n\nexport class SoundManager {\n    private app: PIXIApplication;\n    private lookup: { [id: string]: Howl } = {};\n\n    constructor() {\n        this.app = PIXIApplication.getInstance() as PIXIApplication;\n    }\n\n    public add(id: string, howl: Howl):Howl {\n        this.lookup[id] = howl;\n        return howl;\n    }\n\n    public play(id: string, marker: string = null): Howl {\n        if (marker) {\n            return this.lookup[id].play(marker);\n        } else {\n            return this.lookup[id].play();\n        }\n    }\n\n    public loop(id: string): Howl {\n        this.lookup[id].loop();\n        return this.lookup[id];\n    }\n\n    public pause(id: string, marker: string = null):Howl {\n        if (marker) {\n            return this.lookup[id].pause(marker);\n        } else {\n            return this.lookup[id].pause();\n        }\n    }\n}","import {Loader} from '../core';\nexport class Rope extends PIXI.mesh.Rope {\n    constructor(x: number = 0, y: number = 0, atlasId: string | PIXI.Texture = null, textureId:string = null, points:PIXI.Point[]) {\n        super(!textureId ? typeof atlasId === 'string' ?  PIXI.Texture.fromImage(atlasId) : atlasId : Loader.getTextureById(atlasId as string, textureId), points);\n\n        this.x = x;\n        this.y = y;\n    }\n}","import {Animator, Time} from 'bolt/utils';\nimport {Colours, Resources, Fonts} from 'common/utils';\nimport {Container, Text, Sprite} from 'lightning/display';\nimport {CatColor} from 'game/gameobjects/Cat';\n\nexport class PlayerDisplay extends Container {\n    private static LABEL_X: number = 0;\n    private static LABEL_Y: number = 150;\n\n    private gfx: PIXI.Graphics;\n    private colorBg: Sprite;\n    private bg: Sprite;\n    private label: Text;\n    private avatar: Sprite;\n    private labelContainer: Container;\n\n    constructor(x: number, y: number, public color: CatColor, public playerNum: number) {\n        super(x, y);\n        this.build();\n    }\n\n    private build(): void {\n        this.avatar = this.addChild(new Sprite(0, 0, Resources.UI_SPRITESHEET.id, this.color + '_cat.png')) as Sprite;\n        this.avatar.anchor.set(0.5, 0.5);\n\n        this.labelContainer = this.addChild(new Container(PlayerDisplay.LABEL_X, PlayerDisplay.LABEL_Y)) as Container;\n\n        this.bg = this.labelContainer.addChild(new Sprite(2, 2, Resources.UI_SPRITESHEET.id, 'button_background.png')) as Sprite;\n        this.bg.anchor.set(0.5, 0.5);\n\n        const gfx = this.labelContainer.addChild(new PIXI.Graphics()) as PIXI.Graphics;\n        gfx.beginFill(0xffffff);\n        gfx.drawRect(0, 0, 336, 75);\n        gfx.endFill();\n\n        this.colorBg = this.labelContainer.addChild(new Sprite(0, 0, gfx.generateTexture(this.app.renderer, this.app.resolution))) as Sprite;\n        this.colorBg.anchor.set(0.5, 0.5);\n        this.colorBg.tint = 0x666666;\n\n        this.labelContainer.removeChild(gfx);\n        gfx.destroy();\n\n        this.label = this.labelContainer.addChild(new Text(0, 0, 'PLAYER ' + this.playerNum, Fonts.STAG_SANS_BLACK, 24, 0xffffff)) as Text;\n        this.label.anchor.set(0.5, 0.5);\n\n        this.avatar.scale.set(0, 0);\n        //this.labelContainer.y += 150;\n    }\n\n    public hide(delay: number = 0): void {\n        Animator.to(this.avatar.scale, .2, { x: 0, y: 0, ease: Back.easeIn, delay: delay + 0.1 });\n        Animator.to(this.labelContainer, .2, { x: PlayerDisplay.LABEL_X, y: PlayerDisplay.LABEL_Y + 150, ease: Sine.easeIn, delay: delay });\n    }\n\n    public setConnected(): void {\n        Animator.to(this.avatar.scale, .3, { x: 1, y: 1, ease: Back.easeOut });\n        Animator.to(this.labelContainer.scale, .1, { x: 1.2, y: 1.2, ease: Sine.easeOut, yoyo: true, repeat: 1 });\n        Time.wait(0.1).then(() => {\n            this.colorBg.tint = Colours.getPrimary(this.color);\n            this.label.text = 'PLAYER ' + this.playerNum + ' CONNECTED';\n        });\n    }\n}","import {State, Text, Sprite} from 'lightning/display';\nimport {Animation} from 'lightning/utils';\nimport {Animator, Time} from 'bolt/utils';\n\nimport {Fonts, Resources, Colours} from 'common/utils';\nimport {SplashMediator} from 'game/mediator/SplashMediator';\nimport {PlayerDisplay} from 'game/gameobjects/PlayerDisplay';\n\nexport class Splash extends State {\n    private static DEBUG: boolean = false;\n    private static DEBUG_PLAYERS: number = 4;\n\n    private static CAT_SOUNDS: string[] = ['meow_cat', 'meow_kitten', 'tomcat'];\n\n    private title: Sprite;\n    private instructionsText: Text;\n    private gameIdText: Text;\n    private gameIdBG: PIXI.Sprite;\n\n    public player1: PlayerDisplay;\n    public player2: PlayerDisplay;\n    public player3: PlayerDisplay;\n    public player4: PlayerDisplay;\n\n    public displays: PlayerDisplay[];\n\n    private mediator: SplashMediator;\n\n    public init(): void {\n        this.mediator = new SplashMediator(this);\n        console.log('splash init!')\n    }\n\n    public preload(): void {\n        console.log('splash preload');\n        this.app.asset.load(Resources.UI_SPRITESHEET);\n        this.app.asset.load(Resources.CAT_SPRITESHEET);\n        this.app.asset.loadSound(Resources.SFX);\n        this.app.asset.loadSound(Resources.MUSIC_ACCORDION);\n    }\n\n    public build(): void {\n        console.log('splash build')\n        this.displays = [];\n\n        this.title = this.add.sprite(this.app.width * 0.5, 300, Resources.UI_SPRITESHEET.id, 'title.png');\n        this.title.anchor.set(0.5);\n\n        const gfx = new PIXI.Graphics();\n        gfx.beginFill(0xffffff);\n        gfx.drawRect(0, 0, 300, 75);\n        gfx.endFill();\n\n        this.gameIdBG = this.add.sprite(this.app.width * 0.5, this.app.height * 0.5 + 100, gfx.generateTexture(this.app.renderer, 1));\n        this.gameIdBG.anchor.set(0.5);\n\n        gfx.destroy();\n\n        this.gameIdText = this.add.text(this.gameIdBG.x, this.gameIdBG.y, '12345', Fonts.STAG_SANS_BLACK, 46, Colours.BLUE_PRIMARY);\n        this.gameIdText.anchor.set(0.5, 0.5);\n\n        this.instructionsText = this.add.text(this.app.width * 0.5, this.gameIdText.y - 100, 'to connect with your phone, select the game code below.'.toUpperCase(), Fonts.STAG_SANS_BLACK, 32, 0xffffff);\n        this.instructionsText.anchor.set(0.5, 0.5);\n\n        this.player1 = this.addChild(new PlayerDisplay(243, this.app.height - 230, 'pink', 1)) as PlayerDisplay;\n        this.player2 = this.addChild(new PlayerDisplay(726, this.app.height - 230, 'blue', 2)) as PlayerDisplay;\n        this.player3 = this.addChild(new PlayerDisplay(1206, this.app.height - 230, 'green', 3)) as PlayerDisplay;\n        this.player4 = this.addChild(new PlayerDisplay(1683, this.app.height - 230, 'orange', 4)) as PlayerDisplay;\n\n        this.displays = [this.player1, this.player2, this.player3, this.player4];\n\n        this.mediator.updateGameId();\n\n        if (Splash.DEBUG) {\n            this.debugConnectPlayers();\n        }\n    }\n\n    private debugConnectPlayers(): void {\n        for (let i = 1; i < Splash.DEBUG_PLAYERS + 1; i++) {\n            Time.wait(i).then(() => {\n                this.mediator.playerConnected(i, true);\n            })\n        }\n    }\n\n    // called from mediator\n    public setGameId(gameId: string): void {\n        if (gameId === undefined || this.gameIdText === undefined) {\n            return;\n        }\n\n        this.gameIdText.text = gameId.toUpperCase();\n        this.gameIdBG.width = this.gameIdText.width + 100;\n    }\n\n    public playerConnected(playerNum: number): void {\n        this.displays[playerNum - 1].setConnected();\n        this.app.sound.play('sfx', Splash.CAT_SOUNDS[Math.floor(Math.random() * 3)]);\n\n        if (playerNum === Splash.DEBUG_PLAYERS || playerNum === 4) {\n            Time.wait(1).then(() => { this.proceedToGame() });\n        }\n    }\n\n    public proceedToGame(): void {\n        for (let i = 0; i < 4; i++) {\n            this.displays[i].hide(i * 0.1);\n        }\n\n        Time.wait(0.75).then(() => {\n            Animator.staggerTo([this.title, this.gameIdText, this.gameIdBG], 0.4, { ease: Sine.easeIn, alpha: 0, y: \"+=20\" }, 0);\n            Animator.to(this.instructionsText, 0.4, { ease: Sine.easeIn, alpha: 0, y: \"+=20\", delay: 0.2 }).then(() => {\n                this.app.state.to('play');\n            })\n        });\n    }\n\n    public shutdown(): void {\n        this.mediator.destroy();\n    }\n}","import {PIXIApplication} from 'lightning/core';\nimport {Time} from 'bolt/utils';\nimport {ApplicationModel} from 'game/model/ApplicationModel';\nimport {ApplicationMediator} from 'game/mediator/ApplicationMediator';\nimport {Play, Splash} from 'game/state';\n\nexport class KDGame extends PIXIApplication {\n    protected createMediator(): void {\n        this.model = new ApplicationModel();\n        this.mediator = new ApplicationMediator(this);\n    }\n\n    protected addStates(): void {\n        this.state.add(Splash, 'splash');\n        this.state.add(Play, 'play');\n        this.state.start('splash'); \n    }\n}","export interface IFont {\n    fontFamily: string;\n    fontWeight: number;\n}\n\nexport class Fonts {\n    public static STAG_SANS_BOLD: IFont = { fontFamily: 'Stag Sans Bold', fontWeight: 700 };\n    public static STAG_SANS_BLACK: IFont = { fontFamily: 'Stag Sans Black', fontWeight: 900 };\n}","export class Colours {\n    public static PINK_PRIMARY: number = 0xee2c74;\n    public static BLUE_PRIMARY: number = 0x00aedb;\n    public static GREEN_PRIMARY: number = 0xd5e04d;\n    public static ORANGE_PRIMARY: number = 0xfbaf34;\n\n    public static PINK_BACKGROUND: number = 0xfabbcb;\n    public static BLUE_BACKGROUND: number = 0x6ad1e3;\n    public static GREEN_BACKGROUND: number = 0xe9ec6b;\n    public static ORANGE_BACKGROUND: number = 0xfdd26e;\n\n    public static PINK_DARK: number = 0x672046;\n    public static BLUE_DARK: number = 0x002f86;\n    public static GREEN_DARK: number = 0x009539;\n    public static ORANGE_DARK: number = 0xcf451f;\n\n    public static getPrimary(color: string): number {\n        let result: number = Colours.PINK_PRIMARY;\n        switch (color) {\n            case 'pink':\n                result = Colours.PINK_PRIMARY;\n                break;\n            case 'blue':\n                result = Colours.BLUE_PRIMARY;\n                break;\n            case 'green':\n                result = Colours.GREEN_PRIMARY;\n                break;\n            case 'orange':\n                result = Colours.ORANGE_PRIMARY;\n                break;\n        }\n        return result;\n    }\n\n    public static getBackground(color: string): number {\n        let result: number = Colours.PINK_BACKGROUND;\n        switch (color) {\n            case 'pink':\n                result = Colours.PINK_BACKGROUND;\n                break;\n            case 'blue':\n                result = Colours.BLUE_BACKGROUND;\n                break;\n            case 'green':\n                result = Colours.GREEN_BACKGROUND;\n                break;\n            case 'orange':\n                result = Colours.ORANGE_BACKGROUND;\n                break;\n        }\n        return result;\n    }\n\n    public static getDark(color: string): number {\n        let result: number = Colours.PINK_DARK;\n        switch (color) {\n            case 'pink':\n                result = Colours.PINK_DARK;\n                break;\n            case 'blue':\n                result = Colours.BLUE_DARK;\n                break;\n            case 'green':\n                result = Colours.GREEN_DARK;\n                break;\n            case 'orange':\n                result = Colours.ORANGE_DARK;\n                break;\n        }\n        return result;\n    }\n}","import {ILoaderResource, ISoundResource} from 'lightning/core';\n\nexport class Resources {\n    public static CAT_SPRITESHEET: ILoaderResource = {\n        id: 'cat',\n        url: 'assets/img/spritesheet/cat.json',\n        hdurl: 'assets/img/spritesheet/cat@2x.json'\n    }\n\n    public static UI_SPRITESHEET: ILoaderResource = {\n        id: 'ui',\n        url: 'assets/img/spritesheet/ui.json',\n        hdurl: 'assets/img/spritesheet/ui@2x.json'\n    }\n\n    public static SFX: ISoundResource = {\n        id:'sfx',\n        src: 'assets/audio/sprite/sfx',\n        extensions: ['ogg', 'webm', 'm4a'],\n        sprite: {\n            \"air_horn\": [\n                0,\n                2768.9795918367345\n            ],\n            \"banana_peel_slip\": [\n                5000,\n                517.8004535147389\n            ],\n            \"fruit_collected\": [\n                8000,\n                1018.1179138321994\n            ],\n            \"meow_cat\": [\n                12000,\n                1251.7233560090694\n            ],\n            \"meow_kitten\": [\n                16000,\n                5000\n            ],\n            \"ship_bell\": [\n                23000,\n                3745.6689342403633\n            ],\n            \"slurp\": [\n                29000,\n                2914.195011337867\n            ],\n            \"slurping_2\": [\n                34000,\n                1212.2902494331101\n            ],\n            \"straw_slurp\": [\n                38000,\n                10193.560090702946\n            ],\n            \"tomcat\": [\n                51000,\n                1978.979591836733\n            ]\n        }\n    }\n\n    public static MUSIC_ACCORDION: ISoundResource = {\n        id:'music_accordion',\n        src: 'assets/audio/sound/music_accordion.mp3',\n        loop: true\n    }\n}","/// <reference path=\"../../typings/index.d.ts\" />\n\nimport {KDGame} from './game/KDGame';\nimport {Colours} from './common/utils';\nconst app = new KDGame({ resize: false, width:1920, height:1080, backgroundColor: Colours.BLUE_BACKGROUND });"]}